"use strict";(self.webpackChunkmikrowizard=self.webpackChunkmikrowizard||[]).push([[578],{9578:(Pe,O,k)=>{k.r(O),k.d(O,{BackupsModule:()=>Be});var D=k(177),e=k(4438),I=k(9417);const X=new e.nKC("HighlightJs-Config");let P=(()=>{class f{constructor(t,n,i,r,o){this.el=t,this.ngModel=n,this.doc=i,this.ngZone=o,this.lang="html",this.mode="simple",Object.assign(this,r)}escapeHTML(t){return(t||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}init(){this.ngZone.runOutsideAngular(()=>{this.destroy();const t=this.el.nativeElement,n=this.code||""+t.innerHTML.trim(),i=this.doc;if(this.codeEl=i.createElement("default"===this.mode?"div":"pre"),null==this.codeEl)return;const r="simple"===this.mode;r?(this.lang&&(this.codeEl.className=this.lang),this.parentEl=t.parentNode,this.parentEl.insertBefore(this.codeEl,t.nextSibling)):(this.parentEl=t,this.parentEl.innerHTML="",this.parentEl.appendChild(this.codeEl)),this.codeEl.innerHTML=n;const o=i.defaultView.hljs;null!=o&&(o.configure({...this.options}),r?o.highlightElement(this.codeEl):this.codeEl.querySelectorAll("pre code").forEach(l=>{o.highlightElement(l)}))})}destroy(){this.codeEl&&this.parentEl&&(this.parentEl.removeChild(this.codeEl),this.codeEl=void 0)}ngAfterViewInit(){this.init(),this.ngModel?this.modelValue$=this.ngModel.valueChanges?.subscribe(t=>{this.code=this.escapeHTML(t),this.init()}):this.initMutation()}ngOnDestroy(){this.destroy(),this.observer?.disconnect(),this.modelValue$?.unsubscribe()}initMutation(){typeof MutationObserver>"u"||this.ngZone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.init.bind(this)),this.observer.observe(this.el.nativeElement,{characterData:!0,childList:!0,subtree:!0})})}static#e=this.\u0275fac=function(n){return new(n||f)(e.rXU(e.aKT),e.rXU(I.vS,8),e.rXU(D.qQ),e.rXU(X,8),e.rXU(e.SKi))};static#t=this.\u0275dir=e.FsC({type:f,selectors:[["","highlight-js",""]],hostVars:2,hostBindings:function(n,i){2&n&&e.xc7("display","simple"===i.mode?"none":null)},inputs:{options:"options",lang:"lang",code:"code",mode:"mode"},exportAs:["highlightJs"],standalone:!0})}return f})(),Y=(()=>{class f{static#e=this.\u0275fac=function(n){return new(n||f)};static#t=this.\u0275mod=e.$C({type:f});static#n=this.\u0275inj=e.G2t({imports:[I.YN]})}return f})();var _=k(8921),j=k(7062),T=k(7390),U=k(9130),H=k(7630),J=k(9492),Z=k(1170),R=k(6467),q=k(9631),B=k(5084),d=function(f){return f[f.Delete=-1]="Delete",f[f.Equal=0]="Equal",f[f.Insert=1]="Insert",f}(d||{});class S{constructor(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}toString(){let s,t;s=0===this.length1?this.start1+",0":1===this.length1?this.start1+1:this.start1+1+","+this.length1,t=0===this.length2?this.start2+",0":1===this.length2?this.start2+1:this.start2+1+","+this.length2;const n=["@@ -"+s+" +"+t+" @@\n"];let i;for(let r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case d.Insert:i="+";break;case d.Delete:i="-";break;case d.Equal:i=" "}n[r+1]=i+encodeURI(this.diffs[r][1])+"\n"}return n.join("").replace(/%20/g," ")}}class W{constructor(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32,this.whitespaceRegex=new RegExp("/\\s/"),this.linebreakRegex=new RegExp("/[\\r\\n]/"),this.blanklineEndRegex=new RegExp("/\\n\\r?\\n$/"),this.blanklineStartRegex=new RegExp("/^\\r?\\n\\r?\\n/")}diff_main(s,t,n,i){typeof i>"u"&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);const r=i;if(null==s||null==t)throw new Error("Null input. (diff_main)");if(s===t)return s?[[d.Equal,s]]:[];typeof n>"u"&&(n=!0);const o=n;let l=this.diff_commonPrefix(s,t);const a=s.substring(0,l);s=s.substring(l),t=t.substring(l),l=this.diff_commonSuffix(s,t);const c=s.substring(s.length-l);s=s.substring(0,s.length-l),t=t.substring(0,t.length-l);const h=this.diff_compute_(s,t,o,r);return a&&h.unshift([d.Equal,a]),c&&h.push([d.Equal,c]),this.diff_cleanupMerge(h),h}diff_cleanupSemantic(s){let t=!1;const n=[];let i=0,r=null,o=0,l=0,a=0,c=0,h=0;for(;o<s.length;)s[o][0]===d.Equal?(n[i++]=o,l=c,a=h,c=0,h=0,r=s[o][1]):(s[o][0]===d.Insert?c+=s[o][1].length:h+=s[o][1].length,r&&r.length<=Math.max(l,a)&&r.length<=Math.max(c,h)&&(s.splice(n[i-1],0,[d.Delete,r]),s[n[i-1]+1][0]=d.Insert,i--,i--,o=i>0?n[i-1]:-1,l=0,a=0,c=0,h=0,r=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(s),this.diff_cleanupSemanticLossless(s),o=1;o<s.length;){if(s[o-1][0]===d.Delete&&s[o][0]===d.Insert){const u=s[o-1][1],g=s[o][1],m=this.diff_commonOverlap_(u,g),b=this.diff_commonOverlap_(g,u);m>=b?(m>=u.length/2||m>=g.length/2)&&(s.splice(o,0,[d.Equal,g.substring(0,m)]),s[o-1][1]=u.substring(0,u.length-m),s[o+1][1]=g.substring(m),o++):(b>=u.length/2||b>=g.length/2)&&(s.splice(o,0,[d.Equal,u.substring(0,b)]),s[o-1][0]=d.Insert,s[o-1][1]=g.substring(0,g.length-b),s[o+1][0]=d.Delete,s[o+1][1]=u.substring(b),o++),o++}o++}}diff_cleanupEfficiency(s){let t=!1;const n=[];let i=0,r=null,o=0,l=!1,a=!1,c=!1,h=!1;for(;o<s.length;)s[o][0]===d.Equal?(s[o][1].length<this.Diff_EditCost&&(c||h)?(n[i++]=o,l=c,a=h,r=s[o][1]):(i=0,r=null),c=h=!1):(s[o][0]===d.Delete?h=!0:c=!0,r&&(l&&a&&c&&h||r.length<this.Diff_EditCost/2&&(l?1:0)+(a?1:0)+(c?1:0)+(h?1:0)==3)&&(s.splice(n[i-1],0,[d.Delete,r]),s[n[i-1]+1][0]=d.Insert,i--,r=null,l&&a?(c=h=!0,i=0):(i--,o=i>0?n[i-1]:-1,c=h=!1),t=!0)),o++;t&&this.diff_cleanupMerge(s)}diff_prettyHtml(s){const t=[],n=/&/g,i=/</g,r=/>/g,o=/\n/g;for(let l=0;l<s.length;l++){const a=s[l][0],h=s[l][1].replace(n,"&amp;").replace(i,"&lt;").replace(r,"&gt;").replace(o,"&para;<br>");switch(a){case d.Insert:t[l]='<ins style="background:#e6ffe6;">'+h+"</ins>";break;case d.Delete:t[l]='<del style="background:#ffe6e6;">'+h+"</del>";break;case d.Equal:t[l]="<span>"+h+"</span>"}}return t.join("")}diff_levenshtein(s){let t=0,n=0,i=0;for(const r of s){const l=r[1];switch(r[0]){case d.Insert:n+=l.length;break;case d.Delete:i+=l.length;break;case d.Equal:t+=Math.max(n,i),n=0,i=0}}return t+=Math.max(n,i),t}patch_make(s,t,n){let i,r;if("string"==typeof s&&"string"==typeof t&&typeof n>"u")i=s,r=this.diff_main(i,t,!0),r.length>2&&(this.diff_cleanupSemantic(r),this.diff_cleanupEfficiency(r));else if(s&&"object"==typeof s&&typeof t>"u"&&typeof n>"u")r=s,i=this.diff_text1(r);else if("string"==typeof s&&t&&"object"==typeof t&&typeof n>"u")i=s,r=t;else{if("string"!=typeof s||"string"!=typeof t||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");i=s,r=n}if(0===r.length)return[];const o=[];let l=new S,a=0,c=0,h=0,u=i,g=i;for(let m=0;m<r.length;m++){const b=r[m][0],p=r[m][1];switch(!a&&b!==d.Equal&&(l.start1=c,l.start2=h),b){case d.Insert:l.diffs[a++]=r[m],l.length2+=p.length,g=g.substring(0,h)+p+g.substring(h);break;case d.Delete:l.length1+=p.length,l.diffs[a++]=r[m],g=g.substring(0,h)+g.substring(h+p.length);break;case d.Equal:p.length<=2*this.Patch_Margin&&a&&r.length!==m+1?(l.diffs[a++]=r[m],l.length1+=p.length,l.length2+=p.length):p.length>=2*this.Patch_Margin&&a&&(this.patch_addContext_(l,u),o.push(l),l=new S,a=0,u=g,c=h)}b!==d.Insert&&(c+=p.length),b!==d.Delete&&(h+=p.length)}return a&&(this.patch_addContext_(l,u),o.push(l)),o}patch_apply(s,t){if(0===s.length)return[t,[]];s=this.patch_deepCopy(s);const n=this.patch_addPadding(s);t=n+t+n,this.patch_splitMax(s);let i=0;const r=[];for(let o=0;o<s.length;o++){const l=s[o].start2+i,a=this.diff_text1(s[o].diffs);let c,h=-1;if(a.length>this.Match_MaxBits?(c=this.match_main(t,a.substring(0,this.Match_MaxBits),l),-1!==c&&(h=this.match_main(t,a.substring(a.length-this.Match_MaxBits),l+a.length-this.Match_MaxBits),(-1===h||c>=h)&&(c=-1))):c=this.match_main(t,a,l),-1===c)r[o]=!1,i-=s[o].length2-s[o].length1;else{let u;if(r[o]=!0,i=c-l,u=t.substring(c,-1===h?c+a.length:h+this.Match_MaxBits),a===u)t=t.substring(0,c)+this.diff_text2(s[o].diffs)+t.substring(c+a.length);else{const g=this.diff_main(a,u,!1);if(a.length>this.Match_MaxBits&&this.diff_levenshtein(g)/a.length>this.Patch_DeleteThreshold)r[o]=!1;else{this.diff_cleanupSemanticLossless(g);let b,m=0;for(const p of s[o].diffs)p[0]!==d.Equal&&(b=this.diff_xIndex(g,m)),p[0]===d.Insert?t=t.substring(0,c+b)+p[1]+t.substring(c+b):p[0]===d.Delete&&(t=t.substring(0,c+b)+t.substring(c+this.diff_xIndex(g,m+p[1].length))),p[0]!==d.Delete&&(m+=p[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),r]}patch_toText(s){const t=[];for(let n=0;n<s.length;n++)t[n]=s[n];return t.join("")}patch_fromText(s){const t=[];if(!s)return t;const n=s.split("\n");let i=0;const r=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;for(;i<n.length;){const o=n[i].match(r);if(!o)throw new Error("Invalid patch string: "+n[i]);const l=new S;for(t.push(l),l.start1=parseInt(o[1],10),""===o[2]?(l.start1--,l.length1=1):"0"===o[2]?l.length1=0:(l.start1--,l.length1=parseInt(o[2],10)),l.start2=parseInt(o[3],10),""===o[4]?(l.start2--,l.length2=1):"0"===o[4]?l.length2=0:(l.start2--,l.length2=parseInt(o[4],10)),i++;i<n.length;){const a=n[i].charAt(0);let c;try{c=decodeURI(n[i].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+c)}if("-"===a)l.diffs.push([d.Delete,c]);else if("+"===a)l.diffs.push([d.Insert,c]);else if(" "===a)l.diffs.push([d.Equal,c]);else{if("@"===a)break;if(""!==a)throw new Error('Invalid patch mode "'+a+'" in: '+c)}i++}}return t}diff_commonPrefix(s,t){if(!s||!t||s.charAt(0)!==t.charAt(0))return 0;let n=0,i=Math.min(s.length,t.length),r=i,o=0;for(;n<r;)s.substring(o,r)===t.substring(o,r)?(n=r,o=n):i=r,r=Math.floor((i-n)/2+n);return r}diff_commonSuffix(s,t){if(!s||!t||s.charAt(s.length-1)!==t.charAt(t.length-1))return 0;let n=0,i=Math.min(s.length,t.length),r=i,o=0;for(;n<r;)s.substring(s.length-r,s.length-o)===t.substring(t.length-r,t.length-o)?(n=r,o=n):i=r,r=Math.floor((i-n)/2+n);return r}diff_cleanupMerge(s){s.push([d.Equal,""]);let l,t=0,n=0,i=0,r="",o="";for(;t<s.length;)switch(s[t][0]){case d.Insert:i++,o+=s[t][1],t++;break;case d.Delete:n++,r+=s[t][1],t++;break;case d.Equal:n+i>1?(0!==n&&0!==i&&(l=this.diff_commonPrefix(o,r),0!==l&&(t-n-i>0&&s[t-n-i-1][0]===d.Equal?s[t-n-i-1][1]+=o.substring(0,l):(s.splice(0,0,[d.Equal,o.substring(0,l)]),t++),o=o.substring(l),r=r.substring(l)),l=this.diff_commonSuffix(o,r),0!==l&&(s[t][1]=o.substring(o.length-l)+s[t][1],o=o.substring(0,o.length-l),r=r.substring(0,r.length-l))),0===n?s.splice(t-i,n+i,[d.Insert,o]):0===i?s.splice(t-n,n+i,[d.Delete,r]):s.splice(t-n-i,n+i,[d.Delete,r],[d.Insert,o]),t=t-n-i+(n?1:0)+(i?1:0)+1):0!==t&&s[t-1][0]===d.Equal?(s[t-1][1]+=s[t][1],s.splice(t,1)):t++,i=0,n=0,r="",o=""}""===s[s.length-1][1]&&s.pop();let a=!1;for(t=1;t<s.length-1;)s[t-1][0]===d.Equal&&s[t+1][0]===d.Equal&&(s[t][1].substring(s[t][1].length-s[t-1][1].length)===s[t-1][1]?(s[t][1]=s[t-1][1]+s[t][1].substring(0,s[t][1].length-s[t-1][1].length),s[t+1][1]=s[t-1][1]+s[t+1][1],s.splice(t-1,1),a=!0):s[t][1].substring(0,s[t+1][1].length)===s[t+1][1]&&(s[t-1][1]+=s[t+1][1],s[t][1]=s[t][1].substring(s[t+1][1].length)+s[t+1][1],s.splice(t+1,1),a=!0)),t++;a&&this.diff_cleanupMerge(s)}diff_text1(s){const t=[];for(let n=0;n<s.length;n++)s[n][0]!==d.Insert&&(t[n]=s[n][1]);return t.join("")}diff_text2(s){const t=[];for(let n=0;n<s.length;n++)s[n][0]!==d.Delete&&(t[n]=s[n][1]);return t.join("")}diff_lineMode(s,t){const n=this.diff_linesToChars_(s,t),i=this.diff_main(n.chars1,n.chars2,!1);return this.diff_charsToLines_(i,n.lineArray),i}diff_compute_(s,t,n,i){let r;if(!s)return[[d.Insert,t]];if(!t)return[[d.Delete,s]];const o=s.length>t.length?s:t,l=s.length>t.length?t:s,a=o.indexOf(l);if(-1!==a)return r=[[d.Insert,o.substring(0,a)],[d.Equal,l],[d.Insert,o.substring(a+l.length)]],s.length>t.length&&(r[0][0]=r[2][0]=d.Delete),r;if(1===l.length)return[[d.Delete,s],[d.Insert,t]];const c=this.diff_halfMatch_(s,t);if(c){const u=c[1],m=c[3],b=c[4],p=this.diff_main(c[0],c[2],n,i),M=this.diff_main(u,m,n,i);return p.concat([[d.Equal,b]],M)}return n&&s.length>100&&t.length>100?this.diff_lineMode_(s,t,i):this.diff_bisect_(s,t,i)}diff_lineMode_(s,t,n){const i=this.diff_linesToChars_(s,t),r=i.lineArray,o=this.diff_main(s=i.chars1,t=i.chars2,!1,n);this.diff_charsToLines_(o,r),this.diff_cleanupSemantic(o),o.push([d.Equal,""]);let l=0,a=0,c=0,h="",u="";for(;l<o.length;){switch(o[l][0]){case d.Insert:c++,u+=o[l][1];break;case d.Delete:a++,h+=o[l][1];break;case d.Equal:if(a>=1&&c>=1){o.splice(l-a-c,a+c),l=l-a-c;const g=this.diff_main(h,u,!1,n);for(let m=g.length-1;m>=0;m--)o.splice(l,0,g[m]);l+=g.length}c=0,a=0,h="",u=""}l++}return o.pop(),o}diff_bisect_(s,t,n){const i=s.length,r=t.length,o=Math.ceil((i+r)/2),l=o,a=2*o,c=new Array(a),h=new Array(a);for(let x=0;x<a;x++)c[x]=-1,h[x]=-1;c[l+1]=0,h[l+1]=0;const u=i-r,g=u%2!=0;let m=0,b=0,p=0,M=0;for(let x=0;x<o&&!((new Date).getTime()>n);x++){for(let C=-x+m;C<=x-b;C+=2){const y=l+C;let v;v=C===-x||C!==x&&c[y-1]<c[y+1]?c[y+1]:c[y-1]+1;let E=v-C;for(;v<i&&E<r&&s.charAt(v)===t.charAt(E);)v++,E++;if(c[y]=v,v>i)b+=2;else if(E>r)m+=2;else if(g){const w=l+u-C;if(w>=0&&w<a&&-1!==h[w]&&v>=i-h[w])return this.diff_bisectSplit_(s,t,v,E,n)}}for(let C=-x+p;C<=x-M;C+=2){const y=l+C;let v;v=C===-x||C!==x&&h[y-1]<h[y+1]?h[y+1]:h[y-1]+1;let E=v-C;for(;v<i&&E<r&&s.charAt(i-v-1)===t.charAt(r-E-1);)v++,E++;if(h[y]=v,v>i)M+=2;else if(E>r)p+=2;else if(!g){const w=l+u-C;if(w>=0&&w<a&&-1!==c[w]){const N=c[w];if(v=i-v,N>=v)return this.diff_bisectSplit_(s,t,N,l+N-w,n)}}}}return[[d.Delete,s],[d.Insert,t]]}diff_bisectSplit_(s,t,n,i,r){const o=s.substring(0,n),l=t.substring(0,i),a=s.substring(n),c=t.substring(i),h=this.diff_main(o,l,!1,r),u=this.diff_main(a,c,!1,r);return h.concat(u)}diff_linesToChars_(s,t){const n=[],i={};return n[0]="",{chars1:this.diff_linesToCharsMunge_(s,n,i),chars2:this.diff_linesToCharsMunge_(t,n,i),lineArray:n}}diff_linesToCharsMunge_(s,t,n){let i="",r=0,o=-1,l=t.length;for(;o<s.length-1;){o=s.indexOf("\n",r),-1===o&&(o=s.length-1);const a=s.substring(r,o+1);r=o+1,Object.prototype.hasOwnProperty.call(n,a)||void 0!==n[a]?i+=String.fromCharCode(n[a]):(i+=String.fromCharCode(l),n[a]=l,t[l++]=a)}return i}diff_charsToLines_(s,t){for(const n of s){const i=n[1],r=[];for(let o=0;o<i.length;o++)r[o]=t[i.charCodeAt(o)];n[1]=r.join("")}}diff_commonOverlap_(s,t){const n=s.length,i=t.length;if(0===n||0===i)return 0;n>i?s=s.substring(n-i):n<i&&(t=t.substring(0,n));const r=Math.min(n,i);if(s===t)return r;let o=0,l=1;for(;;){const a=s.substring(r-l),c=t.indexOf(a);if(-1===c)return o;l+=c,(0===c||s.substring(r-l)===t.substring(0,l))&&(o=l,l++)}}diff_halfMatch_(s,t){if(this.Diff_Timeout<=0)return null;const n=s.length>t.length?s:t,i=s.length>t.length?t:s;if(n.length<4||2*i.length<n.length)return null;const r=this.diff_halfMatchI_(n,i,Math.ceil(n.length/4),this),o=this.diff_halfMatchI_(n,i,Math.ceil(n.length/2),this);let l,a,c,h,u;return r||o?(l=o?r&&r[4].length>o[4].length?r:o:r,s.length>t.length?(a=l[0],c=l[1],h=l[2],u=l[3]):(h=l[0],u=l[1],a=l[2],c=l[3]),[a,c,h,u,l[4]]):null}diff_halfMatchI_(s,t,n,i){const r=s.substring(n,n+Math.floor(s.length/4));let a,c,h,u,o=-1,l="";for(;-1!==(o=t.indexOf(r,o+1));){const g=i.diff_commonPrefix(s.substring(n),t.substring(o)),m=i.diff_commonSuffix(s.substring(0,n),t.substring(0,o));l.length<m+g&&(l=t.substring(o-m,o)+t.substring(o,o+g),a=s.substring(0,n-m),c=s.substring(n+g),h=t.substring(0,o-m),u=t.substring(o+g))}return 2*l.length>=s.length?[a,c,h,u,l]:null}diff_cleanupSemanticLossless(s){function t(i,r){if(!i||!r)return 6;const o=new RegExp("/[^a-zA-Z0-9]/"),l=i.charAt(i.length-1),a=r.charAt(0),c=l.match(o),h=a.match(o),u=c&&l.match(this.whitespaceRegex_),g=h&&a.match(this.whitespaceRegex_),m=u&&l.match(this.linebreakRegex_),b=g&&a.match(this.linebreakRegex_),p=m&&i.match(this.blanklineEndRegex_),M=b&&r.match(this.blanklineStartRegex_);return p||M?5:m||b?4:c&&!u&&g?3:u||g?2:c||h?1:0}let n=1;for(;n<s.length-1;){if(s[n-1][0]===d.Equal&&s[n+1][0]===d.Equal){let i=s[n-1][1],r=s[n][1],o=s[n+1][1];const l=this.diff_commonSuffix(i,r);if(l){const g=r.substring(r.length-l);i=i.substring(0,i.length-l),r=g+r.substring(0,r.length-l),o=g+o}let a=i,c=r,h=o,u=t(i,r)+t(r,o);for(;r.charAt(0)===o.charAt(0);){i+=r.charAt(0),r=r.substring(1)+o.charAt(0),o=o.substring(1);const g=t(i,r)+t(r,o);g>=u&&(u=g,a=i,c=r,h=o)}s[n-1][1]!==a&&(a?s[n-1][1]=a:(s.splice(n-1,1),n--),s[n][1]=c,h?s[n+1][1]=h:(s.splice(n+1,1),n--))}n++}}diff_xIndex(s,t){let l,n=0,i=0,r=0,o=0;for(l=0;l<s.length&&(s[l][0]!==d.Insert&&(n+=s[l][1].length),s[l][0]!==d.Delete&&(i+=s[l][1].length),!(n>t));l++)r=n,o=i;return s.length!==l&&s[l][0]===d.Delete?o:o+(t-r)}diff_toDelta(s){const t=[];for(let n=0;n<s.length;n++)switch(s[n][0]){case d.Insert:t[n]="+"+encodeURI(s[n][1]);break;case d.Delete:t[n]="-"+s[n][1].length;break;case d.Equal:t[n]="="+s[n][1].length}return t.join("\t").replace(/%20/g," ")}diff_fromDelta(s,t){const n=[];let i=0,r=0;const o=t.split(/\t/g);for(const l of o){const a=l.substring(1);switch(l.charAt(0)){case"+":try{n[i++]=[d.Insert,decodeURI(a)]}catch{throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":{const c=parseInt(a,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+a);const h=s.substring(r,r+=c);"="===l.charAt(0)?n[i++]=[d.Equal,h]:n[i++]=[d.Delete,h];break}default:if(l)throw new Error(`Invalid diff operation in diff_fromDelta: ${l}`)}}if(r!==s.length)throw new Error("Delta length ("+r+") does not equal source text length ("+s.length+").");return n}match_main(s,t,n){if(null==s||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,s.length)),s===t?0:s.length?s.substring(n,n+t.length)===t?n:this.match_bitap_(s,t,n):-1}match_bitap_(s,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");const i=this.match_alphabet_(t),r=(m,b)=>{const p=m/t.length,M=Math.abs(n-b);return this.Match_Distance?p+M/this.Match_Distance:M?1:p};let o=this.Match_Threshold,l=s.indexOf(t,n);-1!==l&&(o=Math.min(r(0,l),o),l=s.lastIndexOf(t,n+t.length),-1!==l&&(o=Math.min(r(0,l),o)));const a=1<<t.length-1;l=-1;let c,h,g,u=t.length+s.length;for(let m=0;m<t.length;m++){for(c=0,h=u;c<h;)r(m,n+h)<=o?c=h:u=h,h=Math.floor((u-c)/2+c);u=h;let b=Math.max(1,n-h+1);const p=Math.min(n+h,s.length)+t.length,M=Array(p+2);M[p+1]=(1<<m)-1;for(let x=p;x>=b;x--){const C=i[s.charAt(x-1)];if(M[x]=0===m?(M[x+1]<<1|1)&C:(M[x+1]<<1|1)&C|(g[x+1]|g[x])<<1|1|g[x+1],M[x]&a){const y=r(m,x-1);if(y<=o){if(o=y,l=x-1,!(l>n))break;b=Math.max(1,2*n-l)}}}if(r(m+1,n)>o)break;g=M}return l}match_alphabet_(s){const t={};for(let n=0;n<s.length;n++)t[s.charAt(n)]=0;for(let n=0;n<s.length;n++)t[s.charAt(n)]|=1<<s.length-n-1;return t}patch_addContext_(s,t){if(0===t.length)return;let n=t.substring(s.start2,s.start2+s.length1),i=0;for(;t.indexOf(n)!==t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=t.substring(s.start2-i,s.start2+s.length1+i);i+=this.Patch_Margin;const r=t.substring(s.start2-i,s.start2);r&&s.diffs.unshift([d.Equal,r]);const o=t.substring(s.start2+s.length1,s.start2+s.length1+i);o&&s.diffs.push([d.Equal,o]),s.start1-=r.length,s.start2-=r.length,s.length1+=r.length+o.length,s.length2+=r.length+o.length}patch_deepCopy(s){const t=[];for(let n=0;n<s.length;n++){const i=s[n],r=new S;r.diffs=[];for(let o=0;o<i.diffs.length;o++)r.diffs[o]=[i.diffs[o][0],i.diffs[o][1]];r.start1=i.start1,r.start2=i.start2,r.length1=i.length1,r.length2=i.length2,t[n]=r}return t}patch_addPadding(s){const t=this.Patch_Margin;let n="";for(let o=1;o<=t;o++)n+=String.fromCharCode(o);for(const o of s)o.start1+=t,o.start2+=t;let i=s[0],r=i.diffs;if(0===r.length||r[0][0]!==d.Equal)r.unshift([d.Equal,n]),i.start1-=t,i.start2-=t,i.length1+=t,i.length2+=t;else if(t>r[0][1].length){const o=t-r[0][1].length;r[0][1]=n.substring(r[0][1].length)+r[0][1],i.start1-=o,i.start2-=o,i.length1+=o,i.length2+=o}if(i=s[s.length-1],r=i.diffs,0===r.length||r[r.length-1][0]!==d.Equal)r.push([d.Equal,n]),i.length1+=t,i.length2+=t;else if(t>r[r.length-1][1].length){const o=t-r[r.length-1][1].length;r[r.length-1][1]+=n.substring(0,o),i.length1+=o,i.length2+=o}return n}patch_splitMax(s){const t=this.Match_MaxBits;for(let n=0;n<s.length;n++){if(s[n].length1<=t)continue;const i=s[n];s.splice(n--,1);let r=i.start1,o=i.start2,l="";for(;0!==i.diffs.length;){const a=new S;let c=!0;for(a.start1=r-l.length,a.start2=o-l.length,""!==l&&(a.length1=a.length2=l.length,a.diffs.push([d.Equal,l]));0!==i.diffs.length&&a.length1<t-this.Patch_Margin;){const u=i.diffs[0][0];let g=i.diffs[0][1];u===d.Insert?(a.length2+=g.length,o+=g.length,a.diffs.push(i.diffs.shift()),c=!1):u===d.Delete&&1===a.diffs.length&&a.diffs[0][0]===d.Equal&&g.length>2*t?(a.length1+=g.length,r+=g.length,c=!1,a.diffs.push([u,g]),i.diffs.shift()):(g=g.substring(0,t-a.length1-this.Patch_Margin),a.length1+=g.length,r+=g.length,u===d.Equal?(a.length2+=g.length,o+=g.length):c=!1,a.diffs.push([u,g]),g===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(g.length))}l=this.diff_text2(a.diffs),l=l.substring(l.length-this.Patch_Margin);const h=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==h&&(a.length1+=h.length,a.length2+=h.length,0!==a.diffs.length&&a.diffs[a.diffs.length-1][0]===d.Equal?a.diffs[a.diffs.length-1][1]+=h:a.diffs.push([d.Equal,h])),c||s.splice(++n,0,a)}}}}const F=f=>[f,"selected"],L=f=>[f];function K(f,s){if(1&f&&(e.j41(0,"span"),e.EFF(1),e.k0s(),e.EFF(2,"\xa0 ")),2&f){const t=e.XpG();e.R7$(),e.JRh(t.title)}}function Q(f,s){1&f&&(e.j41(0,"div",3)(1,"div",4),e.EFF(2,"There are no changes to display."),e.k0s()())}function ee(f,s){if(1&f){const t=e.RV6();e.j41(0,"div",12),e.bIt("click",function(){const i=e.eBV(t),r=i.$implicit,o=i.$index,l=e.XpG(2);return e.Njj(l.selectLine(o,r))}),e.j41(1,"div",13),e.EFF(2),e.nI1(3,"lineNumber"),e.k0s(),e.j41(4,"div",14),e.EFF(5),e.nI1(6,"lineNumber"),e.k0s()()}if(2&f){const t=s.$implicit,n=e.XpG(2);e.Y8G("ngClass",t===n.selectedLine?e.eq3(7,F,t.cssClass):e.eq3(9,L,t.cssClass)),e.R7$(2),e.JRh(e.bMT(3,3,t.lineNumberInOldText)),e.R7$(3),e.JRh(e.bMT(6,5,t.lineNumberInNewText))}}function te(f,s){if(1&f&&(e.j41(0,"div",10)(1,"div",15),e.EFF(2),e.k0s()()),2&f){const t=s.$implicit,n=e.XpG(2);e.Y8G("ngClass",t===n.selectedLine?e.eq3(2,F,t.cssClass):e.eq3(4,L,t.cssClass)),e.R7$(2),e.JRh(t.line)}}function ne(f,s){if(1&f&&(e.j41(0,"div",3)(1,"div",5),e.Z7z(2,ee,7,11,"div",6,e.fX1),e.nrm(4,"div",7),e.k0s(),e.j41(5,"div",8)(6,"div",9),e.Z7z(7,te,3,6,"div",10,e.fX1),e.nrm(9,"div",11),e.k0s()()()),2&f){const t=e.XpG();e.R7$(2),e.Dyx(t.calculatedDiff),e.R7$(5),e.Dyx(t.calculatedDiff)}}function ie(f,s){if(1&f&&(e.j41(0,"span"),e.EFF(1),e.k0s(),e.EFF(2,"\xa0 ")),2&f){const t=e.XpG();e.R7$(),e.JRh(t.title)}}function se(f,s){1&f&&(e.j41(0,"div",3)(1,"div",4),e.EFF(2,"There are no changes to display."),e.k0s()())}function oe(f,s){if(1&f){const t=e.RV6();e.j41(0,"div",12),e.bIt("click",function(){const i=e.eBV(t).$index,r=e.XpG(2);return e.Njj(r.selectLine(i))}),e.j41(1,"div",13),e.EFF(2),e.nI1(3,"lineNumber"),e.k0s()()}if(2&f){const t=s.$implicit,n=s.$index,i=e.XpG(2);e.Y8G("ngClass",n===i.selectedLineIndex?e.eq3(4,F,t.cssClass):e.eq3(6,L,t.cssClass)),e.R7$(2),e.JRh(e.bMT(3,2,t.lineNumber))}}function re(f,s){if(1&f&&(e.j41(0,"div",10)(1,"div",14),e.EFF(2),e.k0s()()),2&f){const t=s.$implicit,n=s.$index,i=e.XpG(2);e.Y8G("ngClass",n===i.selectedLineIndex?e.eq3(2,F,t.cssClass):e.eq3(4,L,t.cssClass)),e.R7$(2),e.JRh(t.line)}}function le(f,s){if(1&f){const t=e.RV6();e.j41(0,"div",12),e.bIt("click",function(){const i=e.eBV(t).$index,r=e.XpG(2);return e.Njj(r.selectLine(i))}),e.j41(1,"div",15),e.EFF(2),e.nI1(3,"lineNumber"),e.k0s()()}if(2&f){const t=s.$implicit,n=s.$index,i=e.XpG(2);e.Y8G("ngClass",n===i.selectedLineIndex?e.eq3(4,F,t.cssClass):e.eq3(6,L,t.cssClass)),e.R7$(2),e.JRh(e.bMT(3,2,t.lineNumber))}}function ae(f,s){if(1&f&&(e.j41(0,"div",10)(1,"div",14),e.EFF(2),e.k0s()()),2&f){const t=s.$implicit,n=s.$index,i=e.XpG(2);e.Y8G("ngClass",n===i.selectedLineIndex?e.eq3(2,F,t.cssClass):e.eq3(4,L,t.cssClass)),e.R7$(2),e.JRh(t.line)}}function fe(f,s){if(1&f&&(e.j41(0,"div",3)(1,"div",5),e.Z7z(2,oe,4,8,"div",6,e.fX1),e.nrm(4,"div",7),e.k0s(),e.j41(5,"div",8)(6,"div",9),e.Z7z(7,re,3,6,"div",10,e.fX1),e.nrm(9,"div",11),e.k0s()(),e.j41(10,"div",5),e.Z7z(11,le,4,8,"div",6,e.fX1),e.nrm(13,"div",7),e.k0s(),e.j41(14,"div",8)(15,"div",9),e.Z7z(16,ae,3,6,"div",10,e.fX1),e.nrm(18,"div",11),e.k0s()()()),2&f){const t=e.XpG();e.R7$(2),e.Dyx(t.beforeLines),e.R7$(5),e.Dyx(t.beforeLines),e.R7$(4),e.Dyx(t.afterLines),e.R7$(5),e.Dyx(t.afterLines)}}let z=(()=>{class f{constructor(){this.dmp=new W}computeLineDiff(t,n){return this.dmp.diff_lineMode(t,n)}static#e=this.\u0275fac=function(n){return new(n||f)};static#t=this.\u0275prov=e.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),$=(()=>{class f{transform(t){return null===t?"-":`${t}`}static#e=this.\u0275fac=function(n){return new(n||f)};static#t=this.\u0275pipe=e.EJ8({name:"lineNumber",type:f,pure:!0,standalone:!0})}return f})(),G=(()=>{class f{constructor(t){this.dmp=t,this.selectedLineChange=new e.bkB,this.diffSummary={numLinesAdded:0,numLinesRemoved:0},this.calculatedDiff=[],this.isContentEqual=!1}ngOnInit(){this.updateHtml()}ngOnChanges(){this.updateHtml()}selectLine(t,n){this.selectedLine=n;const{type:i,lineNumberInOldText:r,lineNumberInNewText:o,line:l}=n;4===i&&(this.expandPlaceholder(t,n),this.selectedLine=void 0),this.selectedLineChange.emit({index:t,type:i,lineNumberInOldText:r,lineNumberInNewText:o,line:l})}expandPlaceholder(t,n){const i=this.getPlaceholderReplacementLines(n);this.calculatedDiff.splice(t,1,...i)}getPlaceholderReplacementLines(t){const n=t.args?.skippedLines??[],i=t.args?.lineInOldText??0,r=t.args?.lineInNewText??0;if(this.lineContextSize&&n.length>2*this.lineContextSize){const o=n.slice(0,this.lineContextSize),l=n.slice(this.lineContextSize,n.length-this.lineContextSize),a=n.slice(n.length-this.lineContextSize,n.length),c=this.createLineDiffs(o,i,r),h={type:4,lineNumberInOldText:null,lineNumberInNewText:null,line:`... ${l.length} hidden lines ...`,args:{skippedLines:l,lineInOldText:i+o.length,lineInNewText:r+o.length},cssClass:this.getCssClass(4)},u=o.length+l.length;return[...c,h,...this.createLineDiffs(a,i+u,r+u)]}return this.createLineDiffs(n,i,r)}createLineDiffs(t,n,i){let r=n,o=i;const l=this.getCssClass(1),a=[];for(const c of t)a.push({type:1,lineNumberInOldText:r,lineNumberInNewText:o,line:c,cssClass:l}),r++,o++;return a}updateHtml(){("number"==typeof this.before||"boolean"==typeof this.before)&&(this.before=this.before.toString()),("number"==typeof this.after||"boolean"==typeof this.after)&&(this.after=this.after.toString()),this.calculateLineDiff(this.dmp.computeLineDiff(this.before??"",this.after??""))}calculateLineDiff(t){const n={lineInNewText:1,lineInOldText:1,lines:[]};if(this.isContentEqual=1===t.length&&t[0][0]===d.Equal,this.isContentEqual)return this.calculatedDiff=[],void(this.diffSummary={numLinesAdded:0,numLinesRemoved:0});for(let i=0;i<t.length;i++){const r=t[i],o=r[1].split(/\r?\n/);switch(0===o[o.length-1].length&&o.pop(),r[0]){case d.Equal:this.outputEqualDiff(o,n,0===i,i===t.length-1);break;case d.Delete:this.outputDeleteDiff(o,n);break;case d.Insert:this.outputInsertDiff(o,n)}}this.calculatedDiff=n.lines.map(({type:i,lineNumberInOldText:r,lineNumberInNewText:o,line:l,args:a})=>({type:i,lineNumberInOldText:r,lineNumberInNewText:o,line:l,args:a,cssClass:this.getCssClass(i)})),this.diffSummary={numLinesAdded:this.calculatedDiff.filter(i=>2===i.type).length,numLinesRemoved:this.calculatedDiff.filter(i=>3===i.type).length}}outputEqualDiff(t,n,i,r){if(this.lineContextSize&&t.length>this.lineContextSize)if(i){const o=t.length-this.lineContextSize;n.lineInOldText+=o,n.lineInNewText+=o,t=t.slice(t.length-this.lineContextSize,t.length)}else if(r)t=t.slice(0,this.lineContextSize);else if(t.length>2*this.lineContextSize){this.outputEqualDiffLines(t.slice(0,this.lineContextSize),n);const o=t.slice(this.lineContextSize,t.length-this.lineContextSize);n.lines.push({type:4,lineNumberInOldText:null,lineNumberInNewText:null,line:`... ${o.length} hidden lines ...`,args:{skippedLines:o,lineInOldText:n.lineInOldText,lineInNewText:n.lineInNewText}});const l=t.length-2*this.lineContextSize;return n.lineInOldText+=l,n.lineInNewText+=l,void this.outputEqualDiffLines(t.slice(t.length-this.lineContextSize),n)}this.outputEqualDiffLines(t,n)}outputEqualDiffLines(t,n){for(const i of t)n.lines.push({type:1,lineNumberInOldText:n.lineInOldText,lineNumberInNewText:n.lineInNewText,line:i}),n.lineInOldText++,n.lineInNewText++}outputDeleteDiff(t,n){for(const i of t)n.lines.push({type:3,lineNumberInOldText:n.lineInOldText,lineNumberInNewText:null,line:i}),n.lineInOldText++}outputInsertDiff(t,n){for(const i of t)n.lines.push({type:2,lineNumberInOldText:null,lineNumberInNewText:n.lineInNewText,line:i}),n.lineInNewText++}getCssClass(t){switch(t){case 4:case 1:return"ufd-diff-equal";case 2:return"ufd-diff-insert";case 3:return"ufd-diff-delete";default:return"unknown"}}static#e=this.\u0275fac=function(n){return new(n||f)(e.rXU(z))};static#t=this.\u0275cmp=e.VBU({type:f,selectors:[["ngx-unified-diff"]],inputs:{title:"title",before:"before",after:"after",lineContextSize:"lineContextSize"},outputs:{selectedLineChange:"selectedLineChange"},standalone:!0,features:[e.OA$,e.aNF],decls:9,vars:5,consts:[[1,"ufd-diff-title-bar"],[1,"ufd-diff-summary-lines-added"],[1,"ufd-diff-summary-lines-removed"],[1,"ufd-diff"],[1,"ufd-diff-no-changes-text"],[1,"ufd-diff-margin"],[1,"line-selector",3,"ngClass"],[1,"dmp-margin-bottom-spacer"],[1,"ufd-diff-content"],[1,"ufd-diff-content-wrapper"],[1,"line-content",3,"ngClass"],[1,"dmp-margin-bottom-spacer","line-content"],[1,"line-selector",3,"click","ngClass"],[1,"ufd-diff-old"],[1,"ufd-diff-new"],[1,"ufd-diff-text"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.DNE(1,K,3,1),e.j41(2,"span",1),e.EFF(3),e.k0s(),e.EFF(4,"\xa0 "),e.j41(5,"span",2),e.EFF(6),e.k0s()(),e.DNE(7,Q,3,0,"div",3)(8,ne,10,0,"div",3)),2&n&&(e.R7$(),e.vxM(1,i.title?1:-1),e.R7$(2),e.SpI("+++ ",i.diffSummary.numLinesAdded,""),e.R7$(3),e.SpI("--- ",i.diffSummary.numLinesRemoved,""),e.R7$(),e.vxM(7,i.isContentEqual?7:-1),e.R7$(),e.vxM(8,i.isContentEqual?-1:8))},dependencies:[D.YU,$],styles:["div.ufd-diff-title-bar[_ngcontent-%COMP%]{background-color:var(--ngx-diff-margin-background-color);color:var(--ngx-diff-font-color);font-family:var(--ngx-diff-font-family);font-size:var(--ngx-diff-font-size);font-weight:var(--ngx-diff-title-font-weight);padding:var(--ngx-diff-title-bar-padding);border-top:var(--ngx-diff-border-width) solid var(--ngx-diff-border-color);border-left:var(--ngx-diff-border-width) solid var(--ngx-diff-border-color);border-right:var(--ngx-diff-border-width) solid var(--ngx-diff-border-color)}div.ufd-diff-no-changes-text[_ngcontent-%COMP%]{font-family:var(--ngx-diff-font-family);font-size:var(--ngx-diff-font-size);font-weight:var(--ngx-diff-title-font-weight);padding:var(--ngx-diff-title-bar-padding);background-color:var(--ngx-diff-equal-background-color);color:var(--ngx-diff-font-color);flex-grow:1}.ufd-diff-summary-lines-added[_ngcontent-%COMP%]{color:var(--ngx-diff-insert-color-darkest)}.ufd-diff-summary-lines-removed[_ngcontent-%COMP%]{color:var(--ngx-diff-delete-color-darkest)}div.ufd-diff[_ngcontent-%COMP%]{display:flex;flex-direction:row;border:var(--ngx-diff-border-width) solid var(--ngx-diff-border-color);font-family:var(--ngx-diff-font-family)}div.ufd-diff-content[_ngcontent-%COMP%]{position:relative;top:0;left:0;flex-grow:1;overflow-x:auto;overflow-y:hidden}div.ufd-diff-content-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;flex-direction:column;align-items:stretch;min-width:100%}div.ufd-diff-old[_ngcontent-%COMP%]{width:var(--ngx-diff-line-number-width);text-align:center;font-size:var(--ngx-diff-font-size)}div.ufd-diff-new[_ngcontent-%COMP%]{width:var(--ngx-diff-line-number-width);text-align:center;border-right:var(--ngx-diff-border-width) solid var(--border-color);font-size:var(--ngx-diff-font-size)}div.ufd-diff-text[_ngcontent-%COMP%]{white-space:pre;padding-left:var(--ngx-diff-line-left-padding);font-size:var(--ngx-diff-font-size);color:var(--ngx-diff-font-color)}.ufd-diff-equal[_ngcontent-%COMP%]{background-color:var(--ngx-diff-margin-background-color)}.ufd-diff-equal.line-content[_ngcontent-%COMP%]{background-color:var(--ngx-diff-equal-background-color)}.ufd-diff-delete[_ngcontent-%COMP%]{background-color:var(--ngx-diff-delete-color-darker)}.ufd-diff-delete.line-content[_ngcontent-%COMP%]{background-color:var(--ngx-diff-deleted-background-color)}.ufd-diff-insert[_ngcontent-%COMP%]{background-color:var(--ngx-diff-insert-color-darker)}.ufd-diff-insert.line-content[_ngcontent-%COMP%]{background-color:var(--ngx-diff-inserted-background-color)}.ufd-diff-delete[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block}.ufd-diff-insert[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block}.ufd-diff-equal[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block}.dmp-margin-bottom-spacer[_ngcontent-%COMP%]{height:var(--ngx-diff-bottom-spacer-height);background-color:var(--ngx-diff-margin-background-color);border-right:var(--ngx-diff-border-width) solid var(--border-color)}.dmp-margin-bottom-spacer.line-content[_ngcontent-%COMP%]{background-color:var(--ngx-diff-equal-background-color)}.line-selector[_ngcontent-%COMP%]{color:var(--ngx-diff-line-number-font-color)}.line-selector[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--ngx-diff-line-number-hover-font-color)}.line-selector.selected[_ngcontent-%COMP%]{border-top:var(--ngx-diff-selected-border-width) solid var(--ngx-diff-selected-border-color);border-left:var(--ngx-diff-selected-border-width) solid var(--ngx-diff-selected-border-color);border-bottom:var(--ngx-diff-selected-border-width) solid var(--ngx-diff-selected-border-color);background-color:var(--ngx-diff-selected-line-background-color)}.line-content.selected[_ngcontent-%COMP%]{border-top:var(--ngx-diff-selected-border-width) solid var(--ngx-diff-selected-border-color);border-right:var(--ngx-diff-selected-border-width) solid var(--ngx-diff-selected-border-color);border-bottom:var(--ngx-diff-selected-border-width) solid var(--ngx-diff-selected-border-color);background-color:var(--ngx-diff-selected-line-background-color)}"]})}return f})(),A=(()=>{class f{constructor(t){this.dmp=t,this.selectedLineChange=new e.bkB,this.isContentEqual=!1,this.diffSummary={numLinesAdded:0,numLinesRemoved:0},this.beforeLines=[],this.afterLines=[]}ngOnInit(){this.update()}ngOnChanges(){this.update()}selectLine(t){this.selectedLineIndex=t;const n=this.beforeLines[t],i=this.afterLines[t],r=i.type,o=(3===r?n.line:i.line)??"";let l=null,a=null;switch(r){case 2:a=i.lineNumber;break;case 3:l=n.lineNumber;break;case 1:l=n.lineNumber,a=i.lineNumber}4===r&&(this.expandPlaceholder(t,n),this.selectedLineIndex=void 0),this.selectedLineChange.emit({index:t,type:r,lineNumberInOldText:l,lineNumberInNewText:a,line:o})}expandPlaceholder(t,n){const i=this.getPlaceholderReplacementLines(n);this.beforeLines.splice(t,1,...i.beforeLineDiffs),this.afterLines.splice(t,1,...i.afterLineDiffs)}getPlaceholderReplacementLines(t){const{skippedLines:n,beforeLineNumber:i,afterLineNumber:r}=t.args;if(this.lineContextSize&&n.length>2*this.lineContextSize){const o=n.slice(0,this.lineContextSize),l=n.slice(this.lineContextSize,n.length-this.lineContextSize),a=n.slice(n.length-this.lineContextSize,n.length),c=this.createLineDiffs(o,i,r),h={type:4,lineNumber:null,line:`... ${l.length} hidden lines ...`,args:{skippedLines:l,beforeLineNumber:i+o.length,afterLineNumber:r+o.length},cssClass:this.getCssClass(4)},u=o.length+l.length,g=this.createLineDiffs(a,i+u,r+u);return{beforeLineDiffs:[...c.beforeLineDiffs,h,...g.beforeLineDiffs],afterLineDiffs:[...c.afterLineDiffs,h,...g.afterLineDiffs]}}return this.createLineDiffs(n,i,r)}createLineDiffs(t,n,i){let r=n,o=i;const l=this.getCssClass(1),a=[],c=[];for(const h of t){const u={type:1,line:h,cssClass:l};a.push({...u,lineNumber:r}),r++,c.push({...u,lineNumber:o}),o++}return{beforeLineDiffs:a,afterLineDiffs:c}}update(){this.calculateLineDiffs(this.dmp.computeLineDiff(this.before??"",this.after??""))}calculateLineDiffs(t){this.beforeLines=[],this.afterLines=[];const n={beforeLineNumber:1,afterLineNumber:1};if(this.isContentEqual=1===t.length&&t[0][0]===d.Equal,this.isContentEqual)return this.beforeLines=[],this.afterLines=[],void(this.diffSummary={numLinesAdded:0,numLinesRemoved:0});for(let i=0;i<t.length;i++){const r=t[i],o=r[1].split(/\r?\n/);switch(0===o[o.length-1].length&&o.pop(),r[0]){case d.Equal:this.outputEqualDiff(o,n,0===i,i===t.length-1);break;case d.Delete:this.outputDeleteDiff(o,n);break;case d.Insert:this.outputInsertDiff(o,n)}}this.diffSummary={numLinesAdded:this.afterLines.filter(i=>2===i.type).length,numLinesRemoved:this.beforeLines.filter(i=>3===i.type).length}}outputEqualDiff(t,n,i,r){if(this.lineContextSize&&t.length>this.lineContextSize)if(i){const o=t.length-this.lineContextSize;n.beforeLineNumber+=o,n.afterLineNumber+=o,t=t.slice(t.length-this.lineContextSize,t.length)}else if(r)t=t.slice(0,this.lineContextSize);else if(t.length>2*this.lineContextSize){this.outputEqualDiffLines(t.slice(0,this.lineContextSize),n);const o=t.slice(this.lineContextSize,t.length-this.lineContextSize),l={type:4,lineNumber:null,line:`... ${o.length} hidden lines ...`,cssClass:this.getCssClass(4),args:{skippedLines:o,beforeLineNumber:n.beforeLineNumber,afterLineNumber:n.afterLineNumber}};this.beforeLines.push(l),this.afterLines.push(l);const a=t.length-2*this.lineContextSize;return n.beforeLineNumber+=a,n.afterLineNumber+=a,void this.outputEqualDiffLines(t.slice(t.length-this.lineContextSize),n)}this.outputEqualDiffLines(t,n)}outputEqualDiffLines(t,n){for(const i of t)this.beforeLines.push({type:1,lineNumber:n.beforeLineNumber,line:i,cssClass:this.getCssClass(1)}),this.afterLines.push({type:1,lineNumber:n.afterLineNumber,line:i,cssClass:this.getCssClass(1)}),n.beforeLineNumber++,n.afterLineNumber++}outputDeleteDiff(t,n){for(const i of t)this.beforeLines.push({type:3,lineNumber:n.beforeLineNumber,line:i,cssClass:this.getCssClass(3)}),this.afterLines.push({type:3,lineNumber:null,line:null,cssClass:this.getCssClass(3)}),n.beforeLineNumber++}outputInsertDiff(t,n){for(const i of t)this.beforeLines.push({type:2,lineNumber:null,line:null,cssClass:this.getCssClass(2)}),this.afterLines.push({type:2,lineNumber:n.afterLineNumber,line:i,cssClass:this.getCssClass(2)}),n.afterLineNumber++}getCssClass(t){switch(t){case 4:case 1:return"sbs-diff-equal";case 2:return"sbs-diff-insert";case 3:return"sbs-diff-delete";default:return"unknown"}}static#e=this.\u0275fac=function(n){return new(n||f)(e.rXU(z))};static#t=this.\u0275cmp=e.VBU({type:f,selectors:[["ngx-side-by-side-diff"]],inputs:{title:"title",before:"before",after:"after",lineContextSize:"lineContextSize"},outputs:{selectedLineChange:"selectedLineChange"},standalone:!0,features:[e.OA$,e.aNF],decls:9,vars:5,consts:[[1,"sbs-diff-title-bar"],[1,"sbs-diff-summary-lines-added"],[1,"sbs-diff-summary-lines-removed"],[1,"sbs-diff"],[1,"sbs-diff-no-changes-text"],[1,"sbs-diff-margin"],[1,"line-selector",3,"ngClass"],[1,"dmp-margin-bottom-spacer"],[1,"sbs-diff-content"],[1,"sbs-diff-content-wrapper"],[1,"line-content",3,"ngClass"],[1,"dmp-margin-bottom-spacer","line-content"],[1,"line-selector",3,"click","ngClass"],[1,"sbs-diff-before"],[1,"sbs-diff-text"],[1,"sbs-diff-after"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.DNE(1,ie,3,1),e.j41(2,"span",1),e.EFF(3),e.k0s(),e.EFF(4,"\xa0 "),e.j41(5,"span",2),e.EFF(6),e.k0s()(),e.DNE(7,se,3,0,"div",3)(8,fe,19,0,"div",3)),2&n&&(e.R7$(),e.vxM(1,i.title?1:-1),e.R7$(2),e.SpI("+++ ",i.diffSummary.numLinesAdded,""),e.R7$(3),e.SpI("--- ",i.diffSummary.numLinesRemoved,""),e.R7$(),e.vxM(7,i.isContentEqual?7:-1),e.R7$(),e.vxM(8,i.isContentEqual?-1:8))},dependencies:[D.YU,$],styles:["div.sbs-diff-title-bar[_ngcontent-%COMP%]{background-color:var(--ngx-diff-margin-background-color);color:var(--ngx-diff-font-color);font-family:var(--ngx-diff-font-family);font-size:var(--ngx-diff-font-size);font-weight:var(--ngx-diff-title-font-weight);padding:var(--ngx-diff-title-bar-padding);border-top:var(--ngx-diff-border-width) solid var(--ngx-diff-border-color);border-left:var(--ngx-diff-border-width) solid var(--ngx-diff-border-color);border-right:var(--ngx-diff-border-width) solid var(--ngx-diff-border-color)}div.sbs-diff-no-changes-text[_ngcontent-%COMP%]{font-family:var(--ngx-diff-font-family);font-size:var(--ngx-diff-font-size);font-weight:var(--ngx-diff-title-font-weight);padding:var(--ngx-diff-title-bar-padding);background-color:var(--ngx-diff-equal-background-color);color:var(--ngx-diff-font-color)}.sbs-diff-summary-lines-added[_ngcontent-%COMP%]{color:var(--ngx-diff-insert-color-darkest)}.sbs-diff-summary-lines-removed[_ngcontent-%COMP%]{color:var(--ngx-diff-delete-color-darkest)}div.sbs-diff[_ngcontent-%COMP%]{display:flex;flex-direction:row;border:var(--ngx-diff-border-width) solid var(--ngx-diff-border-color);font-family:var(--ngx-diff-font-family)}div.sbs-diff[_ngcontent-%COMP%]   div.sbs-diff-margin[_ngcontent-%COMP%]:last-of-type{border-left:var(--ngx-diff-border-width) solid var(--ngx-diff-border-color)}div.sbs-diff-content[_ngcontent-%COMP%]{position:relative;top:0;left:0;flex-grow:1;overflow-x:auto;overflow-y:hidden}div.sbs-diff-content-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;flex-direction:column;align-items:stretch;min-width:100%}div.sbs-diff-old[_ngcontent-%COMP%]{width:var(--ngx-diff-line-number-width);text-align:center;font-size:var(--ngx-diff-font-size)}div.sbs-diff-new[_ngcontent-%COMP%]{width:var(--ngx-diff-line-number-width);text-align:center;border-right:var(--ngx-diff-border-width) solid var(--border-color);font-size:var(--ngx-diff-font-size)}div.sbs-diff-text[_ngcontent-%COMP%]{white-space:pre;padding-left:var(--ngx-diff-line-left-padding);font-size:var(--ngx-diff-font-size);color:var(--ngx-diff-font-color)}.sbs-diff-equal[_ngcontent-%COMP%]{background-color:var(--ngx-diff-margin-background-color)}.sbs-diff-equal.line-content[_ngcontent-%COMP%]{background-color:var(--ngx-diff-equal-background-color)}.sbs-diff-delete[_ngcontent-%COMP%]{background-color:var(--ngx-diff-delete-color-darker)}.sbs-diff-delete.line-content[_ngcontent-%COMP%]{background-color:var(--ngx-diff-deleted-background-color)}.sbs-diff-insert[_ngcontent-%COMP%]{background-color:var(--ngx-diff-insert-color-darker)}.sbs-diff-insert.line-content[_ngcontent-%COMP%]{background-color:var(--ngx-diff-inserted-background-color)}.sbs-diff-delete[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block}.sbs-diff-insert[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block}.sbs-diff-equal[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block}.dmp-margin-bottom-spacer[_ngcontent-%COMP%]{height:var(--ngx-diff-bottom-spacer-height);background-color:var(--ngx-diff-margin-background-color);border-right:var(--ngx-diff-border-width) solid var(--border-color)}.dmp-margin-bottom-spacer.line-content[_ngcontent-%COMP%]{background-color:var(--ngx-diff-equal-background-color)}.line-selector[_ngcontent-%COMP%]{color:var(--ngx-diff-line-number-font-color)}.line-selector[_ngcontent-%COMP%]   .sbs-diff-before[_ngcontent-%COMP%], .line-selector[_ngcontent-%COMP%]   .sbs-diff-after[_ngcontent-%COMP%]{width:var(--ngx-diff-line-number-width);text-align:center}.line-selector[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--ngx-diff-line-number-hover-font-color)}.line-selector.selected[_ngcontent-%COMP%]{border-top:var(--ngx-diff-selected-border-width) solid var(--ngx-diff-selected-border-color);border-left:var(--ngx-diff-selected-border-width) solid var(--ngx-diff-selected-border-color);border-bottom:var(--ngx-diff-selected-border-width) solid var(--ngx-diff-selected-border-color);background-color:var(--ngx-diff-selected-line-background-color)}.line-content.selected[_ngcontent-%COMP%]{border-top:var(--ngx-diff-selected-border-width) solid var(--ngx-diff-selected-border-color);border-right:var(--ngx-diff-selected-border-width) solid var(--ngx-diff-selected-border-color);border-bottom:var(--ngx-diff-selected-border-width) solid var(--ngx-diff-selected-border-color);background-color:var(--ngx-diff-selected-line-background-color)}"]})}return f})();var V=k(3801);const ce=()=>({});function de(f,s){if(1&f&&(e.j41(0,"c-badge",45),e.EFF(1),e.k0s()),2&f){const t=e.XpG();e.R7$(),e.SpI("Filtered Result For Device ID ",t.devid,"")}}function he(f,s){if(1&f){const t=e.RV6();e.j41(0,"c-badge",47),e.EFF(1),e.j41(2,"span",48),e.bIt("click",function(){const i=e.eBV(t).index,r=e.XpG(2);return e.Njj(r.delete_compare(i))}),e.EFF(3,"X"),e.k0s()()}if(2&f){const t=s.$implicit;e.R7$(),e.E5c("",t.id,":",t.devname," ",t.createdC," ")}}function ge(f,s){if(1&f&&(e.qex(0),e.j41(1,"div"),e.DNE(2,he,4,3,"c-badge",46),e.k0s(),e.bVm()),2&f){const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",t.compareitems)}}function ue(f,s){if(1&f){const t=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.start_compare())}),e.EFF(1,"Compare"),e.k0s()}}function me(f,s){if(1&f){const t=e.RV6();e.j41(0,"mat-form-field")(1,"mat-label"),e.EFF(2,"Config search"),e.k0s(),e.j41(3,"input",49),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.reinitgrid("search",i))}),e.mxI("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.DH7(r.filters.search,i)||(r.filters.search=i),e.Njj(i)}),e.k0s()()}if(2&f){const t=e.XpG();e.R7$(3),e.R50("ngModel",t.filters.search)}}function pe(f,s){1&f&&e.EFF(0),2&f&&e.SpI(" ",s.item.index," ")}function _e(f,s){1&f&&e.EFF(0),2&f&&e.SpI(" ",s.item.devname," ")}function be(f,s){1&f&&e.EFF(0),2&f&&e.SpI(" ",s.item.devip," ")}function xe(f,s){1&f&&e.EFF(0),2&f&&e.SpI(" ",s.item.createdC," ")}function ve(f,s){1&f&&e.EFF(0),2&f&&e.SpI(" ",s.item.filesize," ")}function Ce(f,s){1&f&&e.EFF(0),2&f&&e.SpI(" ",s.item.devmac," ")}function ke(f,s){1&f&&e.nrm(0,"i",54)}function Me(f,s){1&f&&e.nrm(0,"i",55)}function ye(f,s){if(1&f){const t=e.RV6();e.j41(0,"button",56),e.bIt("click",function(){e.eBV(t);const i=e.XpG().item,r=e.XpG();return e.Njj(r.add_for_compare(i))}),e.nrm(1,"i",55),e.EFF(2,"Compare"),e.k0s()}}function Ee(f,s){if(1&f){const t=e.RV6();e.j41(0,"button",50),e.bIt("click",function(){const i=e.eBV(t).item,r=e.XpG();return e.Njj(r.ShowBackup(i))}),e.DNE(1,ke,1,0,"i",51)(2,Me,1,0,"i",52),e.EFF(3,"Show backup"),e.k0s(),e.DNE(4,ye,3,0,"button",53)}if(2&f){const t=e.XpG();e.Y8G("disabled",t.backuploading),e.R7$(),e.Y8G("ngIf",t.backuploading),e.R7$(),e.Y8G("ngIf",!t.backuploading),e.R7$(2),e.Y8G("ngIf",t.ispro)}}function we(f,s){if(1&f){const t=e.RV6();e.j41(0,"button",57),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.restore_backup(!1))}),e.EFF(1," Restore this "),e.k0s()}}function De(f,s){1&f&&(e.j41(0,"span"),e.EFF(1,"Sided compare"),e.k0s())}function Ie(f,s){1&f&&(e.j41(0,"span"),e.EFF(1,"Unified compare"),e.k0s())}function Te(f,s){if(1&f&&e.nrm(0,"ngx-unified-diff",60),2&f){const t=e.XpG(2);e.Y8G("before",t.comparecontents[0])("after",t.comparecontents[1])}}function Fe(f,s){if(1&f&&e.nrm(0,"ngx-side-by-side-diff",60),2&f){const t=e.XpG(2);e.Y8G("before",t.comparecontents[0])("after",t.comparecontents[1])}}function Le(f,s){if(1&f&&(e.j41(0,"c-modal-body")(1,"h5"),e.EFF(2," Comparing "),e.j41(3,"c-badge",58),e.EFF(4),e.k0s(),e.EFF(5," With "),e.j41(6,"c-badge",58),e.EFF(7),e.k0s()(),e.DNE(8,Te,1,2,"ngx-unified-diff",59)(9,Fe,1,2,"ngx-side-by-side-diff",59),e.k0s()),2&f){const t=e.XpG();e.R7$(4),e.E5c("",t.compareitems[0].id,":",t.compareitems[0].devname," ",t.compareitems[0].createdC," "),e.R7$(3),e.E5c("",t.compareitems[1].id,":",t.compareitems[1].devname," ",t.compareitems[1].createdC," "),e.R7$(),e.Y8G("ngIf","unified"==t.compare_type),e.R7$(),e.Y8G("ngIf","sided"==t.compare_type)}}function Se(f,s){if(1&f){const t=e.RV6();e.j41(0,"button",61),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.restore_backup(!0))}),e.EFF(1," Restore this "),e.k0s()}}const Ne=[{path:"",component:(()=>{class f{constructor(t,n,i,r){this.data_provider=t,this.router=n,this.login_checker=i,this.route=r,this.tz="UTC",this.filters={},this.codeForHighlightAuto="",this.ispro=!1,this.ConfirmModalVisible=!1,this.CompareModalVisible=!1,this.compareitems=[],this.comparecontents=[],this.compare_type="unified",this.copy_msg=!1,this.source=[],this.columns=[],this.loading=!0,this.backuploading=!1,this.rows=[],this.BakcupModalVisible=!1,this.devid=0,this.filters_visible=!1,this.currentBackup=!1,this.hlang="",this.sorting={enabled:!0,multiSorting:!0},this.searching={enabled:!0,placeholder:"Search Devices"},this.paging={enabled:!0,page:1,pageSize:10,pageSizes:[5,10,25,50],display:T.sE.ADVANCED},this.toasterForm={autohide:!0,delay:3e3,position:"fixed",fade:!0,closeButton:!0},this.columnMenu={enabled:!0,sort:!0,columnsManager:!0},this.infoPanel={enabled:!0,infoDialog:!1,columnsManager:!0,schemaManager:!0},this.rowSelection={enabled:!0,type:T.AU.CHECKBOX,mode:T.fL.MULTIPLE};var o=this;this.login_checker.isLoggedIn()||setTimeout(function(){o.router.navigate(["login"])},100),this.data_provider.getSessionInfo().then(a=>{o.uid=a.uid,o.uname=a.name,o.tz=a.tz,o.ispro=a.ISPRO,"admin"!=a.role&&setTimeout(function(){o.router.navigate(["/user/dashboard"])},100)})}ngOnInit(){this.devid=Number(this.route.snapshot.paramMap.get("devid")),this.devid>0&&(this.filters.devid=this.devid),this.initGridTable()}logger(t){console.dir(t)}switch_compare_type(){this.compare_type="unified"==this.compare_type?"sided":"unified"}copy_this(){this.copy_msg=!0,setTimeout(()=>{this.copy_msg=!1},1e3)}show_toast(t,n,i){const{...r}={...this.toasterForm,color:i,title:t,body:n};this.viewChildren.first.addToast(H.y,r,{}).instance.closeButton=r.closeButton}ShowBackup(t){var n=this;this.backuploading=!0,this.currentBackup=t,n.codeForHighlightAuto="",n.BakcupModalVisible=!0,this.data_provider.get_backup(t.id).then(i=>{"content"in i?(console.dir(i.content.length),n.hlang=i.content.length>115e3?"xml":"routeros",n.BakcupModalVisible=!0,n.codeForHighlightAuto=i.content,n.backuploading=!1):this.show_toast("Error","Error loading backup file","danger")})}toggleCollapse(){this.filters_visible=!this.filters_visible}restore_backup(t=!1){t?this.currentBackup&&t&&(this.ConfirmModalVisible=!1,this.BakcupModalVisible=!0,this.show_toast("Success","Backup restored successfully","success"),this.show_toast("Info","Wait for the router to reboot and apply config","info"),this.data_provider.restore_backup(this.currentBackup.id).then(i=>{"status"in i&&("success"==i.status?(this.show_toast("Success","Backup restored successfully","success"),this.show_toast("Info","Wait for the router to reboot and apply config","info")):this.show_toast("Error","Error restoring backup","danger"))})):this.ConfirmModalVisible=!0}start_compare(){var t=this;this.comparecontents=[],this.compareitems.forEach(n=>{t.data_provider.get_backup(n.id).then(i=>{if("content"in i){if(i.content.length>3e5)return this.comparecontents=[],void this.show_toast("Error","The file is too big for comparing, Try accessing and comparing locally","danger");t.comparecontents.push(i.content)}t.comparecontents.length==t.compareitems.length&&(t.CompareModalVisible=!0)})})}add_for_compare(t){this.compareitems.length<2?this.compareitems.filter(n=>n.id!=t.id).length==this.compareitems.length&&this.compareitems.push(t):(this.compareitems.shift(),this.compareitems.push(t))}delete_compare(t){this.compareitems.splice(t,1)}reinitgrid(t,n){"start"==t?this.filters.start_time=n.target.value:"end"==t?this.filters.end_time=n.target.value:"search"==t&&(this.filters.search=n),this.initGridTable()}initGridTable(){var t=this;this.data_provider.get_backups(this.filters).then(n=>{let i=1;this.source=n.map(r=>(r.index=i,r.createdC=(0,U.qD)(r.created.split(".")[0]+".000Z",t.tz,"yyyy-MM-dd HH:mm:ss XXX"),i+=1,r)),this.loading=!1})}static#e=this.\u0275fac=function(n){return new(n||f)(e.rXU(J.C),e.rXU(j.Ix),e.rXU(Z.T),e.rXU(j.nX))};static#t=this.\u0275cmp=e.VBU({type:f,selectors:[["ng-component"]],viewQuery:function(n,i){if(1&n&&e.GBs(_.E0T,5),2&n){let r;e.mGM(r=e.lsd())&&(i.viewChildren=r)}},decls:116,vars:49,consts:[["picker1",""],["picker2",""],["BakcupModal",""],["CompareModal",""],["ConfirmModal",""],["xs",""],[1,"mb-4"],["xs","",3,"lg"],["color","warning",4,"ngIf"],[4,"ngIf"],[2,"padding","0"],["cButton","","class","me-1","color","primary",3,"click",4,"ngIf"],["styyle","border-left: 1px solid #ccc;","xs","",3,"lg"],["cButton","","color","primary",1,"me-1",3,"click"],[1,"fa-solid","fa-filter","mr-1"],["cCollapse","",3,"visible"],["xs","",1,"example-form",3,"lg"],["matInput","",3,"dateChange","ngModelChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],[3,"source","paging","columnMenu","sorting","infoPanel","autoResizeWidth"],["header","#No","type","NUMBER","field","index","width","25","align","CENTER"],["header","Device Name","field","devname"],["header","Device IP","field","devip"],["header","backup Time","field","createdC"],["header","File Size","field","filesize"],["header","MAC","field","devmac",3,"enabled"],["header","Action","field","id"],["backdrop","static","id","BakcupModal",3,"visibleChange","visible","fullscreen"],["cModalTitle",""],["cButtonClose","",3,"cModalToggle"],["highlight-js","",3,"lang","options"],[2,"justify-content","space-between"],["cButton","","color","secondary",3,"click","cdkCopyToClipboard"],[1,"fa-regular","fa-copy"],["class"," mx-3","cButton","","color","danger",3,"click",4,"ngIf"],["cButton","","color","info",3,"cModalToggle"],["backdrop","static","id","CompareModal",3,"visibleChange","visible","fullscreen"],["sizing","xl","switch","",1,"mx-5",3,"click"],["cFormCheckInput","","type","checkbox",2,"width","2.5rem","margin-left","-2.8em","cursor","pointer",3,"checked"],["cFormCheckLabel","",2,"padding-top","calc((1.8em - 1rem) / 2)"],["backdrop","static","id","runConfirmModal",3,"visibleChange","visible"],[2,"padding","0!important"],[1,"text-danger"],["cButton","","color","info",3,"click",4,"ngIf"],["position","fixed","placement","top-end"],["color","warning"],["color","dark","style","font-size: 0.7rem;",4,"ngFor","ngForOf"],["color","dark",2,"font-size","0.7rem"],[2,"cursor","pointer",3,"click"],["matInput","",3,"ngModelChange","ngModel"],["cButton","","color","info","size","sm",1,"mx-1",3,"click","disabled"],["style","margin: 1px 5px;color:#ffffff;","class","fa-solid fa-spinner fa-spin",4,"ngIf"],["style","margin: 1px 5px;color:#ffffff;","class","fa-solid fa-eye",4,"ngIf"],["cButton","","color","info","size","sm","class","mx-1",3,"click",4,"ngIf"],[1,"fa-solid","fa-spinner","fa-spin",2,"margin","1px 5px","color","#ffffff"],[1,"fa-solid","fa-eye",2,"margin","1px 5px","color","#ffffff"],["cButton","","color","info","size","sm",1,"mx-1",3,"click"],["cButton","","color","danger",1,"mx-3",3,"click"],["color","dark",2,"font-size","0.8rem"],["class","ngx-diff-light-theme",3,"before","after",4,"ngIf"],[1,"ngx-diff-light-theme",3,"before","after"],["cButton","","color","info",3,"click"]],template:function(n,i){if(1&n){const r=e.RV6();e.j41(0,"c-row")(1,"c-col",5)(2,"c-card",6)(3,"c-card-header")(4,"c-row")(5,"c-col",7),e.EFF(6," Backups "),e.DNE(7,de,2,1,"c-badge",8),e.k0s(),e.j41(8,"c-col",7)(9,"c-row")(10,"c-col"),e.DNE(11,ge,3,1,"ng-container",9),e.k0s(),e.j41(12,"c-col",10),e.DNE(13,ue,2,0,"button",11),e.k0s()()(),e.j41(14,"c-col",12)(15,"button",13),e.bIt("click",function(){return e.eBV(r),e.Njj(i.toggleCollapse())}),e.nrm(16,"i",14),e.EFF(17,"Filter"),e.k0s()()()(),e.j41(18,"c-card-body")(19,"c-row")(20,"div",15)(21,"c-col",16)(22,"mat-form-field")(23,"mat-label"),e.EFF(24,"Start date"),e.k0s(),e.j41(25,"input",17),e.bIt("dateChange",function(l){return e.eBV(r),e.Njj(i.reinitgrid("start",l))}),e.mxI("ngModelChange",function(l){return e.eBV(r),e.DH7(i.filters.start_time,l)||(i.filters.start_time=l),e.Njj(l)}),e.k0s(),e.nrm(26,"mat-datepicker-toggle",18)(27,"mat-datepicker",null,0),e.k0s(),e.j41(29,"mat-form-field")(30,"mat-label"),e.EFF(31,"End date"),e.k0s(),e.j41(32,"input",17),e.bIt("dateChange",function(l){return e.eBV(r),e.Njj(i.reinitgrid("end",l))}),e.mxI("ngModelChange",function(l){return e.eBV(r),e.DH7(i.filters.end_time,l)||(i.filters.end_time=l),e.Njj(l)}),e.k0s(),e.nrm(33,"mat-datepicker-toggle",18)(34,"mat-datepicker",null,1),e.k0s(),e.DNE(36,me,4,1,"mat-form-field",9),e.k0s()()(),e.j41(37,"gui-grid",19)(38,"gui-grid-column",20),e.DNE(39,pe,1,1,"ng-template"),e.k0s(),e.j41(40,"gui-grid-column",21),e.DNE(41,_e,1,1,"ng-template"),e.k0s(),e.j41(42,"gui-grid-column",22),e.DNE(43,be,1,1,"ng-template"),e.k0s(),e.j41(44,"gui-grid-column",23),e.DNE(45,xe,1,1,"ng-template"),e.k0s(),e.j41(46,"gui-grid-column",24),e.DNE(47,ve,1,1,"ng-template"),e.k0s(),e.j41(48,"gui-grid-column",25),e.DNE(49,Ce,1,1,"ng-template"),e.k0s(),e.j41(50,"gui-grid-column",26),e.DNE(51,Ee,5,4,"ng-template"),e.k0s()()()()()(),e.j41(52,"c-modal",27,2),e.mxI("visibleChange",function(l){return e.eBV(r),e.DH7(i.BakcupModalVisible,l)||(i.BakcupModalVisible=l),e.Njj(l)}),e.j41(54,"c-modal-header")(55,"h6",28),e.EFF(56,"Please Confirm Action "),e.k0s(),e.nrm(57,"button",29),e.k0s(),e.j41(58,"c-modal-body")(59,"div",30),e.EFF(60),e.k0s()(),e.j41(61,"c-modal-footer",31)(62,"button",32),e.bIt("click",function(){return e.eBV(r),e.Njj(i.copy_this())}),e.nrm(63,"i",33),e.EFF(64," To clipboard "),e.k0s(),e.j41(65,"div"),e.DNE(66,we,2,0,"button",34),e.j41(67,"button",35),e.EFF(68," Close "),e.k0s()()()(),e.j41(69,"c-modal",36,3),e.mxI("visibleChange",function(l){return e.eBV(r),e.DH7(i.CompareModalVisible,l)||(i.CompareModalVisible=l),e.Njj(l)}),e.j41(71,"c-modal-header")(72,"h6",28),e.EFF(73,"Comparing Configs "),e.k0s(),e.j41(74,"c-form-check",37),e.bIt("click",function(){return e.eBV(r),e.Njj(i.switch_compare_type())}),e.j41(75,"h6"),e.nrm(76,"input",38),e.j41(77,"label",39),e.DNE(78,De,2,0,"span",9)(79,Ie,2,0,"span",9),e.k0s()()(),e.nrm(80,"button",29),e.k0s(),e.DNE(81,Le,10,8,"c-modal-body",9),e.j41(82,"c-modal-footer")(83,"button",35),e.EFF(84," Close "),e.k0s()()(),e.j41(85,"c-modal",40,4),e.mxI("visibleChange",function(l){return e.eBV(r),e.DH7(i.ConfirmModalVisible,l)||(i.ConfirmModalVisible=l),e.Njj(l)}),e.j41(87,"c-modal-header")(88,"h6",28),e.EFF(89,"Please Confirm Action "),e.k0s(),e.nrm(90,"button",29),e.k0s(),e.j41(91,"c-modal-body")(92,"span"),e.EFF(93,"restore backup ?"),e.k0s(),e.qex(94),e.EFF(95," Are you sure that You want to "),e.j41(96,"code",41),e.EFF(97,"Restore this configuration"),e.k0s(),e.EFF(98," on device?"),e.nrm(99,"br")(100,"hr"),e.j41(101,"p",42),e.EFF(102," All Current device configuration will be reset:"),e.nrm(103,"br")(104,"br"),e.EFF(105," * All state data/history on router will be reset"),e.nrm(106,"br"),e.EFF(107," * All other local users on router will be deleted"),e.nrm(108,"br"),e.EFF(109," * After restore the password of the local user will be same as configured in MikroWizard"),e.nrm(110,"br"),e.k0s(),e.bVm(),e.k0s(),e.j41(111,"c-modal-footer"),e.DNE(112,Se,2,0,"button",43),e.j41(113,"button",35),e.EFF(114," Cancel "),e.k0s()()(),e.nrm(115,"c-toaster",44)}if(2&n){const r=e.sdS(28),o=e.sdS(35),l=e.sdS(53),a=e.sdS(70),c=e.sdS(86);e.R7$(5),e.Y8G("lg",8),e.R7$(2),e.Y8G("ngIf",0!=i.devid),e.R7$(),e.Y8G("lg",3),e.R7$(3),e.Y8G("ngIf",i.compareitems.length>0),e.R7$(2),e.Y8G("ngIf",i.compareitems.length>1),e.R7$(),e.Y8G("lg",1),e.R7$(6),e.Y8G("visible",i.filters_visible),e.R7$(),e.Y8G("lg",12),e.R7$(4),e.Y8G("matDatepicker",r),e.R50("ngModel",i.filters.start_time),e.R7$(),e.Y8G("for",r),e.R7$(6),e.Y8G("matDatepicker",o),e.R50("ngModel",i.filters.end_time),e.R7$(),e.Y8G("for",o),e.R7$(3),e.Y8G("ngIf",i.ispro),e.R7$(),e.Y8G("source",i.source)("paging",i.paging)("columnMenu",i.columnMenu)("sorting",i.sorting)("infoPanel",i.infoPanel)("columnMenu",i.columnMenu)("sorting",i.sorting)("infoPanel",i.infoPanel)("autoResizeWidth",!0),e.R7$(11),e.Y8G("enabled",!1),e.R7$(4),e.R50("visible",i.BakcupModalVisible),e.Y8G("fullscreen",!0),e.R7$(5),e.Y8G("cModalToggle",l.id),e.R7$(2),e.Y8G("lang",i.hlang)("options",e.lJ4(48,ce)),e.R7$(),e.JRh(i.codeForHighlightAuto),e.R7$(2),e.xc7("background-color",i.copy_msg?"green":null),e.Y8G("cdkCopyToClipboard",i.codeForHighlightAuto),e.R7$(4),e.Y8G("ngIf",i.ispro),e.R7$(),e.Y8G("cModalToggle",l.id),e.R7$(2),e.R50("visible",i.CompareModalVisible),e.Y8G("fullscreen",!0),e.R7$(7),e.Y8G("checked","unified"==i.compare_type),e.R7$(2),e.Y8G("ngIf","sided"==i.compare_type),e.R7$(),e.Y8G("ngIf","unified"==i.compare_type),e.R7$(),e.Y8G("cModalToggle",a.id),e.R7$(),e.Y8G("ngIf",i.comparecontents.length>1),e.R7$(2),e.Y8G("cModalToggle",a.id),e.R7$(2),e.R50("visible",i.ConfirmModalVisible),e.R7$(5),e.Y8G("cModalToggle",c.id),e.R7$(22),e.Y8G("ngIf",i.ispro),e.R7$(),e.Y8G("cModalToggle",c.id)}},dependencies:[_.iby,_.qHy,_.lMi,D.Sq,D.bT,_.gLf,_.oMR,_.akk,_.cy2,_.iQ3,I.me,I.BC,I.vS,_._fv,_.UjT,T.V1,T.fz,_.DcD,_.nSt,_.Jyz,_.zfW,_.s$3,_.epl,_.L$K,_.VtU,R.rl,R.nJ,R.yw,q.fg,B.Vh,B.bZ,B.bU,G,A,_.E0T,P,V.dF],styles:[".ngx-diff-light-theme[_ngcontent-%COMP%], .ngx-diff-dark-theme[_ngcontent-%COMP%]{--ngx-diff-border-color: #dfdfdf;--ngx-diff-font-size: .9rem;--ngx-diff-font-family: Consolas, Courier, monospace;--ngx-diff-font-color: #000;--ngx-diff-line-number-font-color: #aaaaaa;--ngx-diff-line-number-hover-font-color: #484848;--ngx-diff-selected-border-width: 0;--ngx-diff-selected-border-color: #000;--ngx-diff-selected-line-background-color: #d6f1ff;--ngx-diff-line-number-width: 2rem;--ngx-diff-border-width: 1px;--ngx-diff-line-left-padding: 1rem;--ngx-diff-bottom-spacer-height: 1rem;--ngx-diff-title-bar-padding: .5rem;--ngx-diff-title-font-weight: 600;--ngx-diff-insert-color: #d6ffd6;--ngx-diff-delete-color: #ffd6d6;--ngx-diff-equal-color: #ffffff;--ngx-diff-mix-color: #000;--ngx-diff-light-mix-percentage: 4%;--ngx-diff-heavy-mix-percentage: 10%;--ngx-diff-inserted-background-color: var(--ngx-diff-insert-color);--ngx-diff-deleted-background-color: var(--ngx-diff-delete-color);--ngx-diff-equal-background-color: var(--ngx-diff-equal-color);--ngx-diff-margin-background-color: color-mix( in srgb, var(--ngx-diff-equal-color), var(--ngx-diff-mix-color) var(--ngx-diff-light-mix-percentage) );--ngx-diff-insert-color-darker: color-mix( in srgb, var(--ngx-diff-insert-color), var(--ngx-diff-mix-color) var(--ngx-diff-light-mix-percentage) );--ngx-diff-insert-color-darkest: color-mix( in srgb, var(--ngx-diff-insert-color), var(--ngx-diff-mix-color) var(--ngx-diff-heavy-mix-percentage) );--ngx-diff-delete-color-darker: color-mix( in srgb, var(--ngx-diff-delete-color), var(--ngx-diff-mix-color) var(--ngx-diff-light-mix-percentage) );--ngx-diff-delete-color-darkest: color-mix( in srgb, var(--ngx-diff-delete-color), var(--ngx-diff-mix-color) var(--ngx-diff-heavy-mix-percentage) )}.ngx-diff-dark-theme[_ngcontent-%COMP%]{--ngx-diff-border-color: #474747;--ngx-diff-font-color: #ffffff;--ngx-diff-line-number-font-color: #636363;--ngx-diff-line-number-hover-font-color: #ffffff;--ngx-diff-selected-line-background-color: #354a54;--ngx-diff-insert-color: #355435;--ngx-diff-delete-color: #543535;--ngx-diff-equal-color: #292929;--ngx-diff-mix-color: #fff;--ngx-diff-light-mix-percentage: 4%;--ngx-diff-heavy-mix-percentage: 10%}  .modal-xl{--cui-modal-width: 90vw!important}  pre{display:block!important}"]})}return f})(),data:{title:$localize`Backups`}}];let je=(()=>{class f{static#e=this.\u0275fac=function(n){return new(n||f)};static#t=this.\u0275mod=e.$C({type:f});static#n=this.\u0275inj=e.G2t({imports:[j.iI.forChild(Ne),j.iI]})}return f})();var Re=k(4869);let Be=(()=>{class f{static#e=this.\u0275fac=function(n){return new(n||f)};static#t=this.\u0275mod=e.$C({type:f});static#n=this.\u0275inj=e.G2t({imports:[je,_.Dw2,D.MD,_.pc9,_.tHK,I.YN,_.tmq,_.tmq,T.uM,_.G95,_.EJq,_.Q_q,R.RG,q.fS,B.X6,Re.Ve,G,A,_.MBE,Y,V.FQ]})}return f})()}}]);