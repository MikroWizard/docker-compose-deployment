"use strict";(self.webpackChunkmikrowizard=self.webpackChunkmikrowizard||[]).push([[650],{5650:(X,g,n)=>{n.r(g),n.d(g,{DashboardModule:()=>z});var b=n(177),m=n(9417),o=n(8921),_=n(4858),h=n(7062),F=n(9130),t=n(4438),y=n(9492),R=n(1170),k=n(3801);function C(a,c){1&a&&t.nrm(0,"i",32)}function x(a,c){1&a&&t.nrm(0,"i",33)}function T(a,c){1&a&&t.nrm(0,"i",34)}function D(a,c){1&a&&t.nrm(0,"i",35)}function j(a,c){1&a&&t.nrm(0,"i",36)}function E(a,c){if(1&a&&(t.j41(0,"c-card",1)(1,"c-card-header"),t.EFF(2,"Past 24 Hour Statics"),t.k0s(),t.j41(3,"c-card-body")(4,"c-row")(5,"c-col",18)(6,"c-row")(7,"c-col",19)(8,"c-widget-stat-f",20),t.DNE(9,C,1,0,"ng-template",21),t.k0s()(),t.j41(10,"c-col",19)(11,"c-widget-stat-f",22),t.DNE(12,x,1,0,"ng-template",21),t.k0s()(),t.j41(13,"c-col",19)(14,"c-widget-stat-f",20),t.DNE(15,T,1,0,"ng-template",21),t.k0s()(),t.j41(16,"c-col",19)(17,"c-widget-stat-f",23),t.DNE(18,D,1,0,"ng-template",21),t.k0s()(),t.j41(19,"c-col",19)(20,"c-widget-stat-f",24),t.DNE(21,j,1,0,"ng-template",21),t.k0s()()()()()(),t.j41(22,"c-card-footer",25)(23,"c-col",16)(24,"c-row")(25,"c-col",18)(26,"c-row")(27,"c-col",26)(28,"div",27)(29,"div",28),t.EFF(30,"Total users"),t.k0s(),t.j41(31,"div",29),t.EFF(32),t.k0s()()(),t.j41(33,"c-col",26)(34,"div",30)(35,"div",28),t.EFF(36,"Total Devices"),t.k0s(),t.j41(37,"div",29),t.EFF(38),t.k0s()()(),t.j41(39,"c-col",26)(40,"div",31)(41,"div",28),t.EFF(42,"Total Events"),t.k0s(),t.j41(43,"div",29),t.EFF(44),t.k0s()()(),t.j41(45,"c-col",26)(46,"div",31)(47,"div",28),t.EFF(48,"Total Auth Logs"),t.k0s(),t.j41(49,"div",29),t.EFF(50),t.k0s()()(),t.j41(51,"c-col",26)(52,"div",31)(53,"div",28),t.EFF(54,"Total Acc Logs"),t.k0s(),t.j41(55,"div",29),t.EFF(56),t.k0s()()()()()()()()()),2&a){const e=t.XpG(2);t.R7$(8),t.FS9("value",e.stats.FailedLogins),t.Y8G("title","Failed Logins"),t.R7$(3),t.FS9("value",e.stats.SuccessfulLogins),t.Y8G("title","Success Logins"),t.R7$(3),t.FS9("value",e.stats.Critical),t.Y8G("title","Critical Events"),t.R7$(3),t.FS9("value",e.stats.Warning),t.Y8G("title","Warning Events"),t.R7$(3),t.FS9("value",e.stats.Info),t.Y8G("title","Info Events"),t.R7$(12),t.JRh(e.stats.Users),t.R7$(6),t.JRh(e.stats.Devices),t.R7$(6),t.JRh(e.stats.Events),t.R7$(6),t.JRh(e.stats.Auth),t.R7$(6),t.JRh(e.stats.Acc)}}function G(a,c){if(1&a&&(t.j41(0,"c-row")(1,"c-col",16),t.DNE(2,E,57,15,"c-card",17),t.k0s()()),2&a){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.stats)}}function w(a,c){1&a&&(t.j41(0,"span",43),t.nrm(1,"i",44),t.EFF(2,"Copy"),t.k0s())}function I(a,c){1&a&&(t.j41(0,"div",38)(1,"c-badge",45),t.EFF(2,"Not Registred OR Not internet access"),t.k0s(),t.j41(3,"a",46),t.EFF(4,"Learn how to register and get automatic updates!"),t.k0s()())}function $(a,c){if(1&a&&(t.j41(0,"div",38)(1,"c-badge",47),t.EFF(2,"Registred"),t.k0s(),t.j41(3,"c-badge",48),t.EFF(4),t.k0s()()),2&a){const e=t.XpG(2);t.R7$(4),t.SpI("License Type : ",e.stats.license,"")}}function N(a,c){if(1&a){const e=t.RV6();t.j41(0,"c-col",14)(1,"c-widget-stat-b",37)(2,"div",38)(3,"code",39),t.EFF(4,"Serial:"),t.k0s(),t.j41(5,"small",40),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.copy_this())}),t.EFF(6),t.k0s(),t.DNE(7,w,3,0,"span",41),t.k0s(),t.DNE(8,I,5,0,"div",42)(9,$,5,1,"div",42),t.k0s()()}if(2&a){const e=t.XpG();t.R7$(),t.Y8G("title",e.stats.version),t.R7$(4),t.Y8G("cdkCopyToClipboard",e.stats.serial),t.R7$(),t.JRh(e.stats.serial),t.R7$(),t.Y8G("ngIf",e.copy_msg),t.R7$(),t.Y8G("ngIf",!e.stats.license),t.R7$(),t.Y8G("ngIf",e.stats.license)}}function Y(a,c){if(1&a&&(t.j41(0,"c-carousel-item",54),t.nrm(1,"img",55),t.j41(2,"div",56)(3,"h5"),t.EFF(4),t.k0s(),t.nrm(5,"p",57),t.k0s()()),2&a){const e=c.$implicit;t.R7$(),t.FS9("alt",e.title),t.Y8G("src",e.media_content,t.B4B),t.R7$(3),t.JRh(e.title),t.R7$(),t.Y8G("innerHTML",e.summery,t.npT)}}function L(a,c){if(1&a&&(t.j41(0,"c-card",49)(1,"c-carousel",50),t.nrm(2,"c-carousel-indicators"),t.j41(3,"c-carousel-inner"),t.DNE(4,Y,6,4,"c-carousel-item",51),t.k0s(),t.nrm(5,"c-carousel-control",52)(6,"c-carousel-control",53),t.k0s()()),2&a){const e=t.XpG();t.R7$(),t.Y8G("dark",!0)("animate",!1)("wrap",!1)("interval",1e6),t.R7$(3),t.Y8G("ngForOf",e.stats.blog)}}const S=[{path:"",component:(()=>{class a{constructor(e,s,r){this.data_provider=e,this.router=s,this.login_checker=r,this.copy_msg=!1,this.trafficRadioGroup=new m.J3({trafficRadio:new m.hs("5m")}),this.chart_data={},this.Chartoptions={plugins:{tooltip:{callbacks:{label:function(i){const u=["bit","Kib","Mib","Gib","Tib"];var f=i.parsed.y;let d=0;for(;f>=1024&&d<u.length-1;)f/=1024,d++;switch(i.dataset.unit){case"rx":return"rx/s :"+f.toFixed(3)+" "+u[d];case"tx":return"tx/s :"+f.toFixed(3)+" "+u[d];case"rxp":return"rxp/s :"+i.parsed.y;case"txp":return"txp/s :"+i.parsed.y;default:return i.parsed.y}}}},legend:{display:!0}},maintainAspectRatio:!0,scales:{x:{display:!1},yA:{display:!0,stacked:!0,position:"left",type:"linear",color:"#17522f",grid:{color:"rgba(23, 82, 47, 0.3)",backgroundColor:"transparent",borderColor:"#f86c6b",pointHoverBackgroundColor:"#f86c6b",borderWidth:1,borderDash:[8,5]},ticks:{color:"#17522f",callback:function(i,u,v){const f=["bit","Kib","Mib","Gib","Tib"];var d=i;let p=0;for(;d>=1024&&p<f.length-1;)d/=1024,p++;return d.toFixed(3)+" "+f[p]}},scaleLabel:{display:!0}},yB:{display:!0,stacked:!0,position:"right",type:"linear",grid:{color:"rgba(23, 82, 47, 0.3)",backgroundColor:"transparent",borderColor:"#f86c6b",pointHoverBackgroundColor:"#f86c6b",borderWidth:1,borderDash:[8,5]},border:{width:2},ticks:{color:"#171951",callback:function(i,u,v){const f=["bit","Kib","Mib","Gib","Tib"];var d=i;let p=0;for(;d>=1024&&p<f.length-1;)d/=1024,p++;return d.toFixed(3)+" "+f[p]}}}},elements:{line:{borderWidth:1,tension:.4},point:{radius:2,hitRadius:10,hoverRadius:6}}},this.delta="5m",this.stats=!1;var l=this;this.login_checker.isLoggedIn()||setTimeout(function(){l.router.navigate(["login"])},100),this.data_provider.getSessionInfo().then(i=>{l.uid=i.uid,l.uname=i.name,l.tz=i.tz})}ngOnInit(){this.options=this.Chartoptions,this.initStats(),this.initTrafficChart()}initTrafficChart(){var e=this;this.data_provider.dashboard_traffic(this.delta).then(s=>{let r=s.data.labels.map(l=>(0,F.qD)(l.split(".")[0]+".000Z",e.tz,"yyyy-MM-dd HH:mm:ss"));e.chart_data={datasets:s.data.datasets,labels:r}})}initStats(){var e=this;this.data_provider.dashboard_stats(!0).then(s=>{e.stats=s})}copy_this(){this.copy_msg=!0,setTimeout(()=>{this.copy_msg=!1},3e3)}setTrafficPeriod(e){this.trafficRadioGroup.setValue({trafficRadio:e}),this.delta=e,this.initTrafficChart()}static#t=this.\u0275fac=function(s){return new(s||a)(t.rXU(y.C),t.rXU(h.Ix),t.rXU(R.T))};static#a=this.\u0275cmp=t.VBU({type:a,selectors:[["ng-component"]],decls:27,vars:7,consts:[[4,"ngIf"],[1,"mb-1"],["sm","5"],["id","traffic",1,"card-title","mb-0"],["sm","7",1,"d-none","d-md-block"],[3,"formGroup"],["role","group",1,"float-end","me-3"],["formControlName","trafficRadio","type","radio","value","5m",1,"btn-check"],["cButton","","cFormCheckLabel","","color","secondary","variant","outline",3,"click"],["formControlName","trafficRadio","type","radio","value","1h",1,"btn-check"],["formControlName","trafficRadio","type","radio","value","daily",1,"btn-check"],["formControlName","trafficRadio","type","radio","value","live",1,"btn-check"],["type","line",3,"data","options","height"],["xl","6","lg","12","class","h-100","style","height: 160px!important;",4,"ngIf"],["xl","6","lg","12",1,"h-100",2,"height","160px!important"],["class","mb-1 p-1 h-100",4,"ngIf"],["xs",""],["class","mb-1",4,"ngIf"],["md","12","xl","12","xs","12"],[1,"mb-sm-1","mb-0"],["color","danger","padding","",1,"mb-1",3,"title","value"],["cTemplateId","widgetIconTemplate"],["color","success","padding","",1,"mb-1",3,"title","value"],["color","warning","padding","",1,"mb-1",3,"title","value"],["color","info","padding","",1,"mb-1",3,"title","value"],[1,"pb-0"],[1,"mb-0","pb-0"],[1,"border-start","border-start-4","border-start-info","pt-1","px-3","mb-1"],[1,"text-medium-emphasis","small"],[1,"fs-6","fw-semibold"],[1,"border-start","border-start-4","border-start-warning","pt-1","px-3","mb-1"],[1,"border-start","border-start-4","border-start-success","pt-1","px-3","mb-1"],[1,"fa-solid","fa-person-circle-exclamation",2,"font-size","2em"],[1,"fa-solid","fa-arrow-right-to-bracket",2,"font-size","2em"],[1,"fa-solid","fa-skull-crossbones",2,"font-size","2em"],[1,"fa-solid","fa-triangle-exclamation",2,"font-size","2em"],[1,"fa-solid","fa-circle-info",2,"font-size","2em"],["value","Version",1,"mb-1","h-100",3,"title"],[1,"my-1"],[2,"padding","0!important"],[2,"background-color","#ccc","padding","5px","border-radius","5px","cursor","pointer",3,"click","cdkCopyToClipboard"],["style","color: #fff!important;","class","badge text-bg-success mx-1",4,"ngIf"],["class","my-1",4,"ngIf"],[1,"badge","text-bg-success","mx-1",2,"color","#fff!important"],[1,"fa-solid","fa-check"],["color","danger"],["target","_blank","href","http://MikroWizard.com",1,"mx-1"],["color","success"],["color","info",1,"mx-1"],[1,"mb-1","p-1","h-100"],[3,"dark","animate","wrap","interval"],["style","display: flex;",4,"ngFor","ngForOf"],["caption","Previous","direction","prev",3,"routerLink"],["caption","Next","direction","next",3,"routerLink"],[2,"display","flex"],["loading","lazy","height","150px",1,"d-block",2,"float","left",3,"src","alt"],[2,"padding","20px"],[2,"max-width","90%",3,"innerHTML"]],template:function(s,r){1&s&&(t.DNE(0,G,3,1,"c-row",0),t.j41(1,"c-card",1)(2,"c-card-body")(3,"c-row")(4,"c-col",2)(5,"h4",3),t.EFF(6,"Total Devices Traffic"),t.k0s()(),t.j41(7,"c-col",4)(8,"form",5)(9,"c-button-group",6),t.nrm(10,"input",7),t.j41(11,"label",8),t.bIt("click",function(){return r.setTrafficPeriod("5m")}),t.EFF(12,"5 Minues"),t.k0s(),t.nrm(13,"input",9),t.j41(14,"label",8),t.bIt("click",function(){return r.setTrafficPeriod("1h")}),t.EFF(15,"Hourly"),t.k0s(),t.nrm(16,"input",10),t.j41(17,"label",8),t.bIt("click",function(){return r.setTrafficPeriod("daily")}),t.EFF(18,"Daily"),t.k0s(),t.nrm(19,"input",11),t.j41(20,"label",8),t.bIt("click",function(){return r.setTrafficPeriod("live")}),t.EFF(21,"Live"),t.k0s()()()()(),t.nrm(22,"c-chart",12),t.k0s()(),t.j41(23,"c-row"),t.DNE(24,N,10,6,"c-col",13),t.j41(25,"c-col",14),t.DNE(26,L,7,5,"c-card",15),t.k0s()()),2&s&&(t.Y8G("ngIf",r.stats),t.R7$(8),t.Y8G("formGroup",r.trafficRadioGroup),t.R7$(14),t.Y8G("data",r.chart_data)("options",r.options)("height",250),t.R7$(2),t.Y8G("ngIf",r.stats),t.R7$(2),t.Y8G("ngIf",r.stats))},dependencies:[h.Wk,o.iby,o.qHy,o.Rjr,o.lMi,o.ijd,o.AOl,b.Sq,b.bT,o.gLf,o.oMR,m.qT,m.me,m.Fm,m.BC,m.cb,m.j4,m.JD,o._fv,o.ptL,o.Z7S,_.j,o.gUq,o.vwk,o.Itg,o.cXP,o.Bnb,o.nSt,k.dF],encapsulation:2})}return a})(),data:{title:$localize`Dashboard`}}];let M=(()=>{class a{static#t=this.\u0275fac=function(s){return new(s||a)};static#a=this.\u0275mod=t.$C({type:a});static#e=this.\u0275inj=t.G2t({imports:[h.iI.forChild(S),h.iI]})}return a})(),z=(()=>{class a{static#t=this.\u0275fac=function(s){return new(s||a)};static#a=this.\u0275mod=t.$C({type:a});static#e=this.\u0275inj=t.G2t({imports:[M,o.Dw2,o.L7X,b.MD,o.pc9,o.Emn,m.X1,o.tmq,o.tmq,o.ayw,_.u,o.RlG,o.EJq,k.FQ]})}return a})()}}]);