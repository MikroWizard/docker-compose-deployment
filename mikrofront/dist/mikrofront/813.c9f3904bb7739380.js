"use strict";(self.webpackChunkmikrowizard=self.webpackChunkmikrowizard||[]).push([[813],{3813:(ne,g,d)=>{d.r(g),d.d(g,{UserManagerModule:()=>te});var u=d(177),_=d(9417),l=d(8921),f=d(4869),h=d(4983),p=d(7062),m=d(7390),b=d(7630),e=d(4438),k=d(9492),M=d(1170),F=d(6467),j=d(6600);function C(r,a){1&r&&e.EFF(0),2&r&&e.SpI(" \xa0 ",a.item.username," ")}function U(r,a){1&r&&e.EFF(0),2&r&&e.SpI(" ",a.item.first_name," ")}function R(r,a){1&r&&e.EFF(0),2&r&&e.SpI(" ",a.item.last_name," ")}function T(r,a){1&r&&e.EFF(0),2&r&&e.SpI(" ",a.item.role," ")}function E(r,a){if(1&r){const n=e.RV6();e.j41(0,"button",54),e.bIt("click",function(){e.eBV(n);const t=e.XpG().item,i=e.XpG();return e.Njj(i.showrest(t))}),e.nrm(1,"i",55),e.k0s()}}function v(r,a){if(1&r){const n=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){const t=e.eBV(n).item,i=e.XpG();return e.Njj(i.editAddUser(t,"edit"))}),e.nrm(1,"i",50),e.k0s(),e.j41(2,"button",51),e.bIt("click",function(){const t=e.eBV(n).item,i=e.XpG();return e.Njj(i.confirm_delete(t))}),e.nrm(3,"i",52),e.k0s(),e.DNE(4,E,2,0,"button",53)}if(2&r){const n=e.XpG();e.R7$(4),e.Y8G("ngIf",n.ispro)}}function I(r,a){if(1&r&&(e.j41(0,"h5",42),e.EFF(1),e.k0s()),2&r){const n=e.XpG();e.R7$(),e.SpI("Editing User ",n.SelectedUser.name,"")}}function S(r,a){1&r&&(e.j41(0,"h5",42),e.EFF(1,"Adding new User"),e.k0s())}function G(r,a){if(1&r){const n=e.RV6();e.j41(0,"c-col",56)(1,"label",57),e.EFF(2),e.k0s(),e.j41(3,"c-form-check",58)(4,"c-button-group")(5,"c-button-group",59)(6,"button",60),e.bIt("click",function(){const t=e.eBV(n).$implicit,i=e.XpG();return e.Njj(i.setRadioValue(t.key,"read"))}),e.EFF(7,"Read"),e.k0s(),e.j41(8,"button",61),e.bIt("click",function(){const t=e.eBV(n).$implicit,i=e.XpG();return e.Njj(i.setRadioValue(t.key,"write"))}),e.EFF(9,"Write"),e.k0s(),e.j41(10,"button",62),e.bIt("click",function(){const t=e.eBV(n).$implicit,i=e.XpG();return e.Njj(i.setRadioValue(t.key,"full"))}),e.EFF(11,"Full"),e.k0s(),e.j41(12,"button",63),e.bIt("click",function(){const t=e.eBV(n).$implicit,i=e.XpG();return e.Njj(i.setRadioValue(t.key,"none"))}),e.EFF(13,"None"),e.k0s()()()()()}if(2&r){const n=a.$implicit,s=e.XpG();e.Y8G("md",6),e.R7$(2),e.SpI("",n.key," :"),e.R7$(),e.Y8G("switch",!0),e.R7$(3),e.Y8G("active","read"==s.adminperms[n.key]),e.R7$(2),e.Y8G("active","write"==s.adminperms[n.key]),e.R7$(2),e.Y8G("active","full"==s.adminperms[n.key]),e.R7$(2),e.Y8G("active","none"==s.adminperms[n.key])}}function V(r,a){1&r&&e.EFF(0),2&r&&e.SpI(" \xa0 ",a.item.group_name," ")}function N(r,a){1&r&&e.EFF(0),2&r&&e.SpI(" ",a.item.perm_name," ")}function D(r,a){if(1&r){const n=e.RV6();e.j41(0,"button",66),e.bIt("click",function(){const t=e.eBV(n).item,i=e.XpG(2);return e.Njj(i.confirm_delete_perm(t))}),e.nrm(1,"i",52),e.k0s()}}function B(r,a){if(1&r&&(e.j41(0,"c-input-group",23)(1,"h5"),e.EFF(2,"Mikrotik permisssions :"),e.k0s(),e.j41(3,"gui-grid",11)(4,"gui-grid-column",64),e.DNE(5,V,1,1,"ng-template"),e.k0s(),e.j41(6,"gui-grid-column",65),e.DNE(7,N,1,1,"ng-template"),e.k0s(),e.j41(8,"gui-grid-column",16),e.DNE(9,D,2,0,"ng-template"),e.k0s()()()),2&r){const n=e.XpG();e.R7$(3),e.Y8G("autoResizeWidth",!0)("source",n.userperms)("columnMenu",n.columnMenu)("sorting",n.sorting)("autoResizeWidth",!0)("paging",n.paging)}}function w(r,a){if(1&r&&(e.j41(0,"mat-option",67),e.EFF(1),e.k0s()),2&r){const n=a.$implicit;e.Y8G("value",n),e.R7$(),e.SpI(" ",n.name," ")}}function $(r,a){if(1&r&&(e.j41(0,"mat-option",67),e.EFF(1),e.k0s()),2&r){const n=a.$implicit;e.Y8G("value",n),e.R7$(),e.SpI(" ",n.name," ")}}function y(r,a){if(1&r){const n=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.add_user_perm())}),e.EFF(1,"Add+"),e.k0s()}}function Y(r,a){if(1&r){const n=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.add_new_user_perm())}),e.EFF(1,"Add+"),e.k0s()}}function X(r,a){if(1&r){const n=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.SelectedUser.role="disabled")}),e.EFF(1,"Deactive"),e.k0s()}}function P(r,a){if(1&r){const n=e.RV6();e.j41(0,"button",68),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.SelectedUser.role="admin")}),e.EFF(1,"Activate"),e.k0s()}}function z(r,a){if(1&r){const n=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.submit("add"))}),e.EFF(1,"Add"),e.k0s()}}function A(r,a){if(1&r){const n=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.submit("edit"))}),e.EFF(1,"save"),e.k0s()}}function x(r,a){1&r&&(e.j41(0,"label",74),e.EFF(1," TOTP is active"),e.k0s())}function H(r,a){1&r&&(e.j41(0,"label",74),e.EFF(1," TOTP is deactive"),e.k0s())}function O(r,a){1&r&&(e.j41(0,"label",74),e.EFF(1," Restricted"),e.k0s())}function L(r,a){1&r&&(e.j41(0,"label",74),e.EFF(1," Not Restricted"),e.k0s())}function W(r,a){1&r&&e.EFF(0),2&r&&e.SpI(" \xa0 ",a.item," ")}function J(r,a){if(1&r){const n=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){const t=e.eBV(n).item,i=e.XpG(3);return e.Njj(i.delete_ip(t))}),e.nrm(1,"i",52),e.k0s()}}function Q(r,a){if(1&r&&(e.j41(0,"c-input-group",23)(1,"h5"),e.EFF(2,"Allowed ips :"),e.k0s(),e.j41(3,"gui-grid",11)(4,"gui-grid-column",75),e.DNE(5,W,1,1,"ng-template"),e.k0s(),e.j41(6,"gui-grid-column",76),e.DNE(7,J,2,0,"ng-template"),e.k0s()()()),2&r){const n=e.XpG(2);e.R7$(3),e.Y8G("autoResizeWidth",!0)("source",n.userresttrictions.allowed_ips)("columnMenu",n.columnMenu)("sorting",n.sorting)("autoResizeWidth",!0)("paging",n.paging)}}function K(r,a){if(1&r){const n=e.RV6();e.j41(0,"table",23)(1,"td",31)(2,"span"),e.EFF(3,"Add new IP"),e.k0s()(),e.j41(4,"td")(5,"div")(6,"input",77),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG(2);return e.DH7(i.ipaddress,t)||(i.ipaddress=t),e.Njj(t)}),e.k0s()()(),e.j41(7,"td",78)(8,"button",9),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.add_ip())}),e.EFF(9,"Add+"),e.k0s()()()}if(2&r){const n=e.XpG(2);e.R7$(6),e.R50("ngModel",n.ipaddress)}}function Z(r,a){if(1&r){const n=e.RV6();e.j41(0,"c-modal",69,4),e.mxI("visibleChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.RestrictionsTaskModalVisible,t)||(i.RestrictionsTaskModalVisible=t),e.Njj(t)}),e.j41(2,"c-modal-header")(3,"h5",42),e.EFF(4),e.k0s()(),e.j41(5,"c-modal-body")(6,"table",70)(7,"tr")(8,"td")(9,"h6"),e.EFF(10,"TOTP status :"),e.k0s()(),e.j41(11,"td")(12,"c-form-check",71)(13,"input",72),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.userresttrictions.totp,t)||(i.userresttrictions.totp=t),e.Njj(t)}),e.k0s(),e.DNE(14,x,2,0,"label",73)(15,H,2,0,"label",73),e.k0s()()(),e.j41(16,"tr")(17,"td")(18,"h6"),e.EFF(19,"Use OTP for device login:"),e.k0s()(),e.j41(20,"td")(21,"c-button-group",59)(22,"button",60),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.userresttrictions["device-totp"]="system")}),e.EFF(23,"System Defined"),e.k0s(),e.j41(24,"button",61),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.userresttrictions["device-totp"]="yes")}),e.EFF(25,"TOTP"),e.k0s(),e.j41(26,"button",62),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.userresttrictions["device-totp"]="no")}),e.EFF(27,"Password"),e.k0s()()()(),e.j41(28,"tr")(29,"td")(30,"h6"),e.EFF(31,"Restrict IP access:"),e.k0s()(),e.j41(32,"td")(33,"c-form-check",71)(34,"input",72),e.mxI("ngModelChange",function(t){e.eBV(n);const i=e.XpG();return e.DH7(i.userresttrictions.ip,t)||(i.userresttrictions.ip=t),e.Njj(t)}),e.k0s(),e.DNE(35,O,2,0,"label",73)(36,L,2,0,"label",73),e.k0s()()()(),e.DNE(37,Q,8,6,"c-input-group",30),e.nrm(38,"hr"),e.DNE(39,K,10,1,"table",30),e.k0s(),e.j41(40,"c-modal-footer")(41,"button",9),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.save_sec())}),e.EFF(42,"Save"),e.k0s(),e.j41(43,"button",39),e.EFF(44," Close "),e.k0s()()()}if(2&r){const n=e.sdS(1),s=e.XpG();e.R50("visible",s.RestrictionsTaskModalVisible),e.R7$(4),e.SpI("Security Restrictions of ",s.SelectedUser.username,""),e.R7$(9),e.R50("ngModel",s.userresttrictions.totp),e.Y8G("checked",s.userresttrictions.totp),e.R7$(),e.Y8G("ngIf",s.userresttrictions.totp),e.R7$(),e.Y8G("ngIf",!s.userresttrictions.totp),e.R7$(7),e.Y8G("active","system"==s.userresttrictions["device-totp"]),e.R7$(2),e.Y8G("active","yes"==s.userresttrictions["device-totp"]),e.R7$(2),e.Y8G("active","no"==s.userresttrictions["device-totp"]),e.R7$(8),e.R50("ngModel",s.userresttrictions.ip),e.Y8G("checked",s.userresttrictions.ip),e.R7$(),e.Y8G("ngIf",s.userresttrictions.ip),e.R7$(),e.Y8G("ngIf",!s.userresttrictions.ip),e.R7$(),e.Y8G("ngIf",s.userresttrictions.ip&&s.userresttrictions.allowed_ips.length>0),e.R7$(2),e.Y8G("ngIf",s.userresttrictions.ip),e.R7$(4),e.Y8G("cModalToggle",n.id)}}const q=[{path:"",component:(()=>{class r{constructor(n,s,t){this.data_provider=n,this.router=s,this.login_checker=t,this.ispro=!1,this.toasterForm={autohide:!0,delay:1e4,position:"fixed",fade:!0,closeButton:!0},this.source=[],this.columns=[],this.loading=!1,this.rows=[],this.SelectedUser={},this.SelectedUserItems="",this.EditTaskModalVisible=!1,this.DeleteConfirmModalVisible=!1,this.RestrictionsTaskModalVisible=!1,this.Members="",this.devgroup={},this.permission={},this.allDevGroups=[],this.allPerms=[],this.DeletePermConfirmModalVisible=!1,this.userperms={},this.userresttrictions=!1,this.ipaddress="",this.defadminperms={device:"none",device_group:"none",task:"none",backup:"none",snippet:"none",accounting:"none",authentication:"none",users:"none",permissions:"none",settings:"none",system_backup:"none"},this.sorting={enabled:!0,multiSorting:!0},this.options={actionsEnabled:!1,displayExpr:"name",valueExpr:"id",placeholder:"Members",searchEnabled:!0,enableDarkMode:!1},this.paging={enabled:!0,page:1,pageSize:10,pageSizes:[5,10,25,50],display:m.sE.ADVANCED},this.columnMenu={enabled:!0,sort:!0,columnsManager:!0},this.rowSelection={enabled:!0,type:m.AU.CHECKBOX,mode:m.fL.MULTIPLE};var i=this;this.login_checker.isLoggedIn()||setTimeout(function(){i.router.navigate(["login"])},100),this.data_provider.getSessionInfo().then(o=>{i.uid=o.uid,i.uname=o.name,i.ispro=o.ISPRO,"admin"!=o.role&&setTimeout(function(){i.router.navigate(["/user/dashboard"])},100)})}setRadioValue(n,s){this.adminperms[n]=s}ngOnInit(){this.initGridTable()}show_toast(n,s,t){const{...i}={...this.toasterForm,color:t,title:n,body:s};this.viewChildren.first.addToast(b.y,i,{}).instance.closeButton=i.closeButton}totp(n){this.SelectedUser=n,this.data_provider.totp("enable",this.SelectedUser.id).then(s=>{"success"==s.status?this.show_toast("Success","Totp generated successfully","success"):this.show_toast("Error",s.err,"danger")})}submit(n){var s=this;"add"==n?("admin"==s.SelectedUser.role&&(s.adminperms={...s.defadminperms},s.SelectedUser.userperms=s.userperms.length>0?s.userperms:[]),s.SelectedUser.adminperms=s.adminperms,this.data_provider.create_user(s.SelectedUser).then(t=>{"id"in t&&!("status"in t)?(s.initGridTable(),this.EditTaskModalVisible=!1):s.show_toast("Error",t.err,"danger")})):(s.SelectedUser.userperms=s.userperms.length>0?s.userperms:[],s.SelectedUser.adminperms=s.adminperms,this.data_provider.edit_user(s.SelectedUser).then(t=>{s.initGridTable(),s.EditTaskModalVisible=!1}))}editAddUser(n,s){var t=this;if(this.data_provider.get_perms(1,1e3,"").then(i=>{t.allPerms=i.map(c=>({id:c.id,name:c.name})),t.data_provider.get_devgroup_list().then(c=>{t.allDevGroups=c.map(o=>({id:o.id,name:o.name}))})}),"showadd"==s)return this.userperms=[],this.SelectedUser={email:"",first_name:"",fullname:"",last_name:"",role:"admin",password:"",action:"add"},this.adminperms={...this.defadminperms},void(this.EditTaskModalVisible=!0);this.SelectedUser={...n},this.adminperms=this.SelectedUser.adminperms.length>0?JSON.parse(this.SelectedUser.adminperms):{...this.defadminperms},t.SelectedUser.action="edit",t.get_user_perms(t.SelectedUser.id),t.EditTaskModalVisible=!0}checkIpAddress(n){return/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.|\/|)){4}\b(0?[1-9]|1[0-9]|2[0-9]|3[0-2])\b$/.test(n)}showrest(n){var s=this;this.SelectedUser={...n},this.data_provider.get_user_restrictions(this.SelectedUser.id).then(t=>{s.userresttrictions=t,console.log(s.userresttrictions),s.RestrictionsTaskModalVisible=!0})}delete_ip(n){this.userresttrictions.allowed_ips=this.userresttrictions.allowed_ips.filter(s=>s!=n)}add_ip(){let n=this.ipaddress.trim();if(""!=n){if(this.userresttrictions.allowed_ips.includes(n))return void this.show_toast("Error","IP already added","danger");this.checkIpAddress(n)?(this.userresttrictions.allowed_ips.push(n),this.userresttrictions.allowed_ips=this.userresttrictions.allowed_ips.filter(s=>""!=s),this.ipaddress=""):this.show_toast("Error","Invalid IP address","danger")}}save_sec(){this.data_provider.save_user_restrictions(this.SelectedUser.id,this.userresttrictions).then(n=>{"status"in n&&"success"==n.status?this.RestrictionsTaskModalVisible=!1:this.show_toast("Error","status"in n&&"failed"==n.status?n.err:"Somthing went wrong","danger")})}add_user_perm(){var n=this;this.data_provider.Add_user_perm(this.SelectedUser.id,this.permission.id,this.devgroup.id).then(s=>{n.get_user_perms(n.SelectedUser.id),n.permission=0,n.devgroup=0})}add_new_user_perm(){const s=[...this.userperms];s.push({group_id:this.devgroup.id,group_name:this.devgroup.name,perm_id:this.permission.id,perm_name:this.permission.name}),this.userperms=s}confirm_delete(n="",s=!1){if(s){var t=this;this.data_provider.delete_user(t.SelectedUser.id).then(i=>{t.initGridTable(),t.DeleteConfirmModalVisible=!1})}else this.SelectedUser={...n},this.DeleteConfirmModalVisible=!0}get_user_perms(n){if("add"!=this.SelectedUser.action){var s=this;this.data_provider.user_perms(n).then(t=>{s.userperms=t})}}confirm_delete_perm(n){this.data_provider.Delete_user_perm(n.id).then(s=>{this.get_user_perms(this.SelectedUser.id)})}logger(n){console.dir(n)}initGridTable(){var n=this;this.data_provider.get_users(1,10,"").then(c=>{n.source=c.map(o=>o),n.SelectedUser={},n.loading=!1})}static#e=this.\u0275fac=function(s){return new(s||r)(e.rXU(k.C),e.rXU(p.Ix),e.rXU(M.T))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["ng-component"]],viewQuery:function(s,t){if(1&s&&e.GBs(l.E0T,5),2&s){let i;e.mGM(i=e.lsd())&&(t.viewChildren=i)}},decls:166,vars:50,consts:[["EditTaskModal",""],["singleSelect",""],["DeleteConfirmModal",""],["DeletePermConfirmModal",""],["RestrictionsTaskModal",""],["xs",""],[1,"mb-4"],["xs","",3,"lg"],["xs","",2,"text-align","right",3,"lg"],["cButton","","color","primary",3,"click"],[1,"fa-solid","fa-plus"],[3,"autoResizeWidth","source","columnMenu","sorting","paging"],["header","User Name","field","username"],["header","First Name","field","first_name"],["header","Last Name","field","last_name"],["header","Role","field","role"],["header","Actions","width","120","field","action"],["backdrop","static","size","lg","id","EditTaskModal",3,"visibleChange","visible"],["cModalTitle","",4,"ngIf"],["cButtonClose","",3,"cModalToggle"],[1,"mb-3",3,"cFormFloating"],["cFormControl","","id","floatingInput","placeholder","User Name",3,"ngModelChange","ngModel"],["cLabel","","for","floatingInput"],[1,"mb-3"],["cInputGroupText",""],["cFormControl","","id","floatingInput","placeholder","First Name",3,"ngModelChange","ngModel"],["cFormControl","","id","floatingInput","placeholder","Last Name",3,"ngModelChange","ngModel"],["cFormControl","","id","floatingInput","placeholder","Email Address",3,"ngModelChange","ngModel"],["type","password","cFormControl","","id","floatingInput","placeholder","Password",3,"ngModelChange","ngModel"],["class","mb-1",3,"md",4,"ngFor","ngForOf"],["class","mb-3",4,"ngIf"],[2,"width","30%"],["cFormControl","","placeholder","Device Group",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["cFormControl","","placeholder","Permission",3,"ngModelChange","ngModel"],["cButton","","color","primary",3,"click",4,"ngIf"],[2,"justify-content","space-between"],["cButton","","color","danger",3,"click",4,"ngIf"],["cButton","","color","success",3,"click",4,"ngIf"],["cButton","","color","secondary",3,"cModalToggle"],["backdrop","static","size","lg","id","RestrictionsTaskModal",3,"visible","visibleChange",4,"ngIf"],["backdrop","static","id","DeleteConfirmModal",3,"visibleChange","visible"],["cModalTitle",""],[2,"width","100%"],[1,"text-danger"],["cButton","","color","danger",3,"click"],["cButton","","color","info",3,"cModalToggle"],["backdrop","static","id","DeletePermConfirmModal",3,"visibleChange","visible"],["position","fixed","placement","top-end"],["cButton","","color","warning","size","sm",3,"click"],[1,"fa-regular","fa-pen-to-square"],["cButton","","color","danger","size","sm",1,"mx-1",3,"click"],[1,"fa-regular","fa-trash-can"],["cButton","","color","secondary","size","sm",3,"click",4,"ngIf"],["cButton","","color","secondary","size","sm",3,"click"],[1,"fa-solid","fa-fingerprint"],[1,"mb-1",3,"md"],["cFormCheckLabel","",2,"text-transform","capitalize"],[1,"md-6",2,"float","right",3,"switch"],["aria-label","Basic  example","role","group"],["cButton","","color","info","variant","outline","size","sm",3,"click","active"],["cButton","","color","danger","variant","outline","size","sm",3,"click","active"],["cButton","","color","success","variant","outline","size","sm",3,"click","active"],["cButton","","color","dark","variant","outline","size","sm",3,"click","active"],["header","Group Name","field","group_name"],["header","perm Name","field","perm_name"],["cButton","","color","danger","size","sm",3,"click"],[3,"value"],["cButton","","color","success",3,"click"],["backdrop","static","size","lg","id","RestrictionsTaskModal",3,"visibleChange","visible"],["width","100%"],["sizing","xl","switch",""],["cFormCheckInput","","type","checkbox",3,"ngModelChange","ngModel","checked"],["cFormCheckLabel","",4,"ngIf"],["cFormCheckLabel",""],["header","IP Address"],["header","Action","width","80","align","center"],["cFormControl","","id","floatingInput","placeholder","IP address/cidr",3,"ngModelChange","ngModel"],[2,"vertical-align","top"]],template:function(s,t){if(1&s){const i=e.RV6();e.j41(0,"c-row")(1,"c-col",5)(2,"c-card",6)(3,"c-card-header")(4,"c-row")(5,"c-col",7),e.EFF(6," Users "),e.k0s(),e.j41(7,"c-col",8)(8,"button",9),e.bIt("click",function(){return e.eBV(i),e.Njj(t.editAddUser({},"showadd"))}),e.nrm(9,"i",10),e.k0s()()()(),e.j41(10,"c-card-body")(11,"gui-grid",11)(12,"gui-grid-column",12),e.DNE(13,C,1,1,"ng-template"),e.k0s(),e.j41(14,"gui-grid-column",13),e.DNE(15,U,1,1,"ng-template"),e.k0s(),e.j41(16,"gui-grid-column",14),e.DNE(17,R,1,1,"ng-template"),e.k0s(),e.j41(18,"gui-grid-column",15),e.DNE(19,T,1,1,"ng-template"),e.k0s(),e.j41(20,"gui-grid-column",16),e.DNE(21,v,5,1,"ng-template"),e.k0s()()()()()(),e.j41(22,"c-modal-header")(23,"c-modal",17,0),e.mxI("visibleChange",function(o){return e.eBV(i),e.DH7(t.EditTaskModalVisible,o)||(t.EditTaskModalVisible=o),e.Njj(o)}),e.j41(25,"c-modal-header"),e.DNE(26,I,2,1,"h5",18)(27,S,2,0,"h5",18),e.nrm(28,"button",19),e.k0s(),e.j41(29,"c-modal-body")(30,"div",20)(31,"input",21),e.mxI("ngModelChange",function(o){return e.eBV(i),e.DH7(t.SelectedUser.username,o)||(t.SelectedUser.username=o),e.Njj(o)}),e.k0s(),e.j41(32,"label",22),e.EFF(33,"User Name"),e.k0s()(),e.j41(34,"c-input-group",23)(35,"span",24),e.EFF(36,"First Name"),e.k0s(),e.j41(37,"input",25),e.mxI("ngModelChange",function(o){return e.eBV(i),e.DH7(t.SelectedUser.first_name,o)||(t.SelectedUser.first_name=o),e.Njj(o)}),e.k0s(),e.j41(38,"span",24),e.EFF(39,"Last Name"),e.k0s(),e.j41(40,"input",26),e.mxI("ngModelChange",function(o){return e.eBV(i),e.DH7(t.SelectedUser.last_name,o)||(t.SelectedUser.last_name=o),e.Njj(o)}),e.k0s()(),e.j41(41,"div",20)(42,"input",27),e.mxI("ngModelChange",function(o){return e.eBV(i),e.DH7(t.SelectedUser.email,o)||(t.SelectedUser.email=o),e.Njj(o)}),e.k0s(),e.j41(43,"label",22),e.EFF(44,"Email Address"),e.k0s()(),e.j41(45,"div",20)(46,"input",28),e.mxI("ngModelChange",function(o){return e.eBV(i),e.DH7(t.SelectedUser.password,o)||(t.SelectedUser.password=o),e.Njj(o)}),e.k0s(),e.j41(47,"label",22),e.EFF(48,"Password"),e.k0s()(),e.j41(49,"c-input-group")(50,"h5"),e.EFF(51,"MikroWizard permisssions :"),e.k0s(),e.j41(52,"c-container")(53,"c-row"),e.DNE(54,G,14,7,"c-col",29),e.nI1(55,"keyvalue"),e.k0s()()(),e.DNE(56,B,10,6,"c-input-group",30),e.nrm(57,"hr"),e.j41(58,"table")(59,"td",31)(60,"span"),e.EFF(61,"Add new Permission"),e.k0s()(),e.j41(62,"td")(63,"mat-form-field")(64,"mat-select",32,1),e.mxI("ngModelChange",function(o){return e.eBV(i),e.DH7(t.devgroup,o)||(t.devgroup=o),e.Njj(o)}),e.j41(66,"mat-option"),e.nrm(67,"ngx-mat-select-search"),e.k0s(),e.DNE(68,w,2,2,"mat-option",33),e.k0s()()(),e.j41(69,"td")(70,"mat-form-field")(71,"mat-select",34,1),e.mxI("ngModelChange",function(o){return e.eBV(i),e.DH7(t.permission,o)||(t.permission=o),e.Njj(o)}),e.j41(73,"mat-option"),e.nrm(74,"ngx-mat-select-search"),e.k0s(),e.DNE(75,$,2,2,"mat-option",33),e.k0s()()(),e.j41(76,"td"),e.DNE(77,y,2,0,"button",35)(78,Y,2,0,"button",35),e.k0s()()(),e.j41(79,"c-modal-footer",36)(80,"div"),e.DNE(81,X,2,0,"button",37)(82,P,2,0,"button",38),e.k0s(),e.j41(83,"div"),e.DNE(84,z,2,0,"button",35)(85,A,2,0,"button",35),e.j41(86,"button",39),e.EFF(87," Close "),e.k0s()()()(),e.DNE(88,Z,45,16,"c-modal",40),e.j41(89,"c-modal",41,2),e.mxI("visibleChange",function(o){return e.eBV(i),e.DH7(t.DeleteConfirmModalVisible,o)||(t.DeleteConfirmModalVisible=o),e.Njj(o)}),e.j41(91,"c-modal-header")(92,"h5",42),e.EFF(93),e.k0s(),e.nrm(94,"button",19),e.k0s(),e.j41(95,"c-modal-body"),e.EFF(96," Are you sure that You want to delete following task ? "),e.nrm(97,"br")(98,"br"),e.j41(99,"table",43)(100,"tr")(101,"td")(102,"b"),e.EFF(103,"User name : "),e.k0s()(),e.j41(104,"td"),e.EFF(105),e.k0s()(),e.j41(106,"tr")(107,"td")(108,"b"),e.EFF(109,"Name : "),e.k0s()(),e.j41(110,"td"),e.EFF(111),e.k0s()(),e.j41(112,"tr")(113,"td")(114,"b"),e.EFF(115,"Last Name : "),e.k0s()(),e.j41(116,"td"),e.EFF(117),e.k0s()()(),e.nrm(118,"hr"),e.j41(119,"p",44),e.EFF(120," All Related data will be deleted :"),e.nrm(121,"br"),e.EFF(122," * User Permision Related to this user"),e.nrm(123,"br"),e.EFF(124," * All Logs related to this user"),e.nrm(125,"br"),e.k0s()(),e.j41(126,"c-modal-footer")(127,"button",45),e.bIt("click",function(){return e.eBV(i),e.Njj(t.confirm_delete("",!0))}),e.EFF(128," Yes,Delete! "),e.k0s(),e.j41(129,"button",46),e.EFF(130," Close "),e.k0s()()(),e.j41(131,"c-modal",47,3),e.mxI("visibleChange",function(o){return e.eBV(i),e.DH7(t.DeletePermConfirmModalVisible,o)||(t.DeletePermConfirmModalVisible=o),e.Njj(o)}),e.j41(133,"c-modal-header")(134,"h5",42),e.EFF(135),e.k0s(),e.nrm(136,"button",19),e.k0s(),e.j41(137,"c-modal-body"),e.EFF(138," Are you sure that You want to delete following task ? "),e.nrm(139,"br")(140,"br"),e.j41(141,"table",43)(142,"tr")(143,"td")(144,"b"),e.EFF(145,"Taks name : "),e.k0s()(),e.j41(146,"td"),e.EFF(147),e.k0s()(),e.j41(148,"tr")(149,"td")(150,"b"),e.EFF(151,"Description : "),e.k0s()(),e.j41(152,"td"),e.EFF(153),e.k0s()(),e.j41(154,"tr")(155,"td")(156,"b"),e.EFF(157,"Cron exec : "),e.k0s()(),e.j41(158,"td"),e.EFF(159),e.k0s()()()(),e.j41(160,"c-modal-footer")(161,"button",45),e.bIt("click",function(){return e.eBV(i),e.Njj(t.confirm_delete("",!0))}),e.EFF(162," Yes,Delete! "),e.k0s(),e.j41(163,"button",46),e.EFF(164," Close "),e.k0s()()(),e.nrm(165,"c-toaster",48),e.k0s()}if(2&s){const i=e.sdS(24),c=e.sdS(90),o=e.sdS(132);e.R7$(5),e.Y8G("lg",10),e.R7$(2),e.Y8G("lg",2),e.R7$(4),e.Y8G("autoResizeWidth",!0)("source",t.source)("columnMenu",t.columnMenu)("sorting",t.sorting)("autoResizeWidth",!0)("paging",t.paging),e.R7$(12),e.R50("visible",t.EditTaskModalVisible),e.R7$(3),e.Y8G("ngIf","edit"==t.SelectedUser.action),e.R7$(),e.Y8G("ngIf","add"==t.SelectedUser.action),e.R7$(),e.Y8G("cModalToggle",i.id),e.R7$(2),e.Y8G("cFormFloating",!0),e.R7$(),e.R50("ngModel",t.SelectedUser.username),e.R7$(6),e.R50("ngModel",t.SelectedUser.first_name),e.R7$(3),e.R50("ngModel",t.SelectedUser.last_name),e.R7$(),e.Y8G("cFormFloating",!0),e.R7$(),e.R50("ngModel",t.SelectedUser.email),e.R7$(3),e.Y8G("cFormFloating",!0),e.R7$(),e.R50("ngModel",t.SelectedUser.password),e.R7$(8),e.Y8G("ngForOf",e.bMT(55,48,t.adminperms)),e.R7$(2),e.Y8G("ngIf",t.userperms.length>0),e.R7$(8),e.R50("ngModel",t.devgroup),e.R7$(4),e.Y8G("ngForOf",t.allDevGroups),e.R7$(3),e.R50("ngModel",t.permission),e.R7$(4),e.Y8G("ngForOf",t.allPerms),e.R7$(2),e.Y8G("ngIf","edit"==t.SelectedUser.action),e.R7$(),e.Y8G("ngIf","add"==t.SelectedUser.action),e.R7$(3),e.Y8G("ngIf","disabled"!=t.SelectedUser.role),e.R7$(),e.Y8G("ngIf","disabled"==t.SelectedUser.role),e.R7$(2),e.Y8G("ngIf","add"==t.SelectedUser.action),e.R7$(),e.Y8G("ngIf","edit"==t.SelectedUser.action),e.R7$(),e.Y8G("cModalToggle",i.id),e.R7$(2),e.Y8G("ngIf",t.ispro&&t.userresttrictions),e.R7$(),e.R50("visible",t.DeleteConfirmModalVisible),e.R7$(4),e.SpI("Confirm delete ",t.SelectedUser.name,""),e.R7$(),e.Y8G("cModalToggle",c.id),e.R7$(11),e.JRh(t.SelectedUser.username),e.R7$(6),e.JRh(t.SelectedUser.first_name),e.R7$(6),e.JRh(t.SelectedUser.last_name),e.R7$(12),e.Y8G("cModalToggle",c.id),e.R7$(2),e.R50("visible",t.DeletePermConfirmModalVisible),e.R7$(4),e.SpI("Confirm delete ",t.SelectedUser.name,""),e.R7$(),e.Y8G("cModalToggle",o.id),e.R7$(11),e.JRh(t.SelectedUser.name),e.R7$(6),e.JRh(t.SelectedUser.description),e.R7$(6),e.JRh(t.SelectedUser.desc_cron),e.R7$(4),e.Y8G("cModalToggle",o.id)}},dependencies:[F.rl,f.VO,j.wT,h.U9,l.iby,l.qHy,l.lMi,u.Sq,u.bT,l.gLf,l.HUM,l.oMR,l.akk,l.cy2,l.iQ3,l.l_X,l.e$m,l.YJZ,l.fvw,l.ISP,l._fv,l.UjT,l.Z7S,m.V1,m.fz,l.Jyz,l.zfW,l.s$3,l.epl,l.L$K,l.VtU,_.me,_.Zm,_.BC,_.vS,l.E0T,u.lG],styles:["table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-bottom:20px;vertical-align:top}"]})}return r})(),data:{title:$localize`User Managment`}}];let ee=(()=>{class r{static#e=this.\u0275fac=function(s){return new(s||r)};static#t=this.\u0275mod=e.$C({type:r});static#n=this.\u0275inj=e.G2t({imports:[p.iI.forChild(q),p.iI]})}return r})(),te=(()=>{class r{static#e=this.\u0275fac=function(s){return new(s||r)};static#t=this.\u0275mod=e.$C({type:r});static#n=this.\u0275inj=e.G2t({imports:[f.Ve,h.An,ee,l.Dw2,u.MD,l.pc9,l.tHK,l.tmq,l.ayw,m.uM,l.Q_q,_.YN,l.MBE]})}return r})()}}]);