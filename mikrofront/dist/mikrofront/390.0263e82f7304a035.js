"use strict";(self.webpackChunkmikrowizard=self.webpackChunkmikrowizard||[]).push([[390],{2771:(pa,Fi,M)=>{M.d(Fi,{m:()=>At});var r=M(1413),l=M(6129);class At extends r.B{constructor(j=1/0,ne=1/0,ee=l.U){super(),this._bufferSize=j,this._windowTime=ne,this._timestampProvider=ee,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ne===1/0,this._bufferSize=Math.max(1,j),this._windowTime=Math.max(1,ne)}next(j){const{isStopped:ne,_buffer:ee,_infiniteTimeWindow:be,_timestampProvider:Y,_windowTime:oe}=this;ne||(ee.push(j),!be&&ee.push(Y.now()+oe)),this._trimBuffer(),super.next(j)}_subscribe(j){this._throwIfClosed(),this._trimBuffer();const ne=this._innerSubscribe(j),{_infiniteTimeWindow:ee,_buffer:be}=this,Y=be.slice();for(let oe=0;oe<Y.length&&!j.closed;oe+=ee?1:2)j.next(Y[oe]);return this._checkFinalizedStatuses(j),ne}_trimBuffer(){const{_bufferSize:j,_timestampProvider:ne,_buffer:ee,_infiniteTimeWindow:be}=this,Y=(be?1:2)*j;if(j<1/0&&Y<ee.length&&ee.splice(0,ee.length-Y),!be){const oe=ne.now();let de=0;for(let mt=1;mt<ee.length&&ee[mt]<=oe;mt+=2)de=mt;de&&ee.splice(0,de+1)}}}},3386:(pa,Fi,M)=>{M.d(Fi,{c:()=>ee});var r=M(3236),l=M(9974),At=M(4360),I=M(8750),ne=M(1584);function ee(be,Y=r.E,oe){const de=(0,ne.O)(be,Y);return function j(be,Y){return(0,l.N)((oe,de)=>{const{leading:mt=!0,trailing:_r=!1}=Y??{};let ft=!1,Mi=null,Ce=null,Jt=!1;const Yn=()=>{Ce?.unsubscribe(),Ce=null,_r&&(Tr(),Jt&&de.complete())},Kn=()=>{Ce=null,Jt&&de.complete()},Ir=ze=>Ce=(0,I.Tg)(be(ze)).subscribe((0,At._)(de,Yn,Kn)),Tr=()=>{if(ft){ft=!1;const ze=Mi;Mi=null,de.next(ze),!Jt&&Ir(ze)}};oe.subscribe((0,At._)(de,ze=>{ft=!0,Mi=ze,(!Ce||Ce.closed)&&(mt?Tr():Ir(ze))},()=>{Jt=!0,(!(_r&&ft&&Ce)||Ce.closed)&&de.complete()}))})}(()=>de,oe)}},7390:(pa,Fi,M)=>{M.d(Fi,{fz:()=>Xi,V1:()=>Nn,uM:()=>pt,sE:()=>cn,fL:()=>ln,AU:()=>ji});var r=M(4438),l=M(177),At=M(1985),I=M(6977);class j{constructor(t){this.token=t,this.stringKey=this.generateStringKey()}static from(t){return new j(t)}toString(){return this.stringKey}generateStringKey(){return"string"!=typeof this.token?this.token.toString().split(" ")[1]||"":this.token}}class ne extends j{constructor(t){super(t)}getError(){return"string"==typeof this.token?"Key not found for the token: "+this.token:"Key not found for the token: "+this.token.toString()}}class ee{constructor(){this.records=new Map}getKey(t){return this.records.get(t)||new ne(t)}getKeyAndTryRegister(t,e){return this.has(t)||this.set(t,e),this.getKey(t)}has(t){return this.records.has(t)}set(t,e){this.records.set(t,j.from(t))}clear(){this.records.clear()}}class be{constructor(){this.providers=new Map}get(t){const e=this.providers.get(t);if(!e)throw new Error(`There is no provider for ${t.toString()}.`);return e}has(t){return this.providers.has(t)}set(t,e){this.providers.set(t,e)}clear(){this.providers.clear()}}class Y{constructor(t){this.serviceToken=t}getToken(){return"object"==typeof this.serviceToken?this.serviceToken.inject:this.serviceToken}isOptional(){return"string"!=typeof this.serviceToken&&"object"==typeof this.serviceToken&&void 0!==this.serviceToken.optional&&this.serviceToken.optional}isCollection(){return!("string"==typeof this.serviceToken||"object"!=typeof this.serviceToken||!this.serviceToken.collection)&&this.serviceToken.collection}}class oe{constructor(t){this.provider=t}getDeps(){return(this.provider.services||[]).map(t=>new Y(t))}}class de extends oe{constructor(t){super(t)}create(t){return new this.provider(...t)}}class mt extends oe{constructor(t){super(t)}getDeps(){return[]}create(t){return this.provider}}class _r extends oe{constructor(t){super(t)}getDeps(){return(this.provider.deps||[]).map(t=>new Y(t))}create(t){return this.provider.create(...t)}}class ft{}class Mi extends ft{constructor(){super(...arguments),this.providers=[]}getDeps(){return this.providers.map(t=>(t.services||[]).map(e=>new Y(e)))}create(t){return t.map((e,n)=>new this.providers[n](...e))}addProvider(t){this.providers.push(t)}}class Ce extends ft{constructor(){super(...arguments),this.providers=[]}getDeps(){return this.providers.map(t=>(t.deps||[]).map(e=>new Y(e)))}create(t){return t.map((e,n)=>this.providers[n].create(...e))}addProvider(t){this.providers.push(t)}}class Jt extends ft{constructor(){super(...arguments),this.providers=[]}getDeps(){return[]}create(t){return[...this.providers]}addProvider(t){this.providers.push(t)}}class Yn{constructor(t){this.keyRegister=t,this.providerManager=new be,this.collectionProviders=new Map}provide(t,e){return void 0===e?this.provide(t,t):this.provideClass(t,e)}provideClass(t,e){return this.addProvider(t,e,n=>new de(n))}provideValue(t,e){return this.addProvider(t,e,n=>new mt(n))}provideFactory(t,e){return this.addProvider(t,e,n=>new _r(n))}provideCollection(t,e){return this.addCollectionProvider(t,e,()=>new Mi)}provideFactoryCollection(t,e){return this.addCollectionProvider(t,e,()=>new Ce)}provideValueCollection(t,e){return this.addCollectionProvider(t,e,()=>new Jt)}clear(){this.providerManager.clear(),this.collectionProviders.clear()}getRecordFactory(t){return this.providerManager.get(t)}getCollectionRecordFactory(t){return this.collectionProviders.get(t)}addProvider(t,e,n){const o=this.keyRegister.getKeyAndTryRegister(t,e);this.providerManager.set(o,n(e))}addCollectionProvider(t,e,n){const o=this.keyRegister.getKeyAndTryRegister(t,e);if(this.collectionProviders.has(o)){const s=this.collectionProviders.get(o);s&&s.addProvider(e)}else{const s=n();s.addProvider(e),this.collectionProviders.set(o,s)}}}class Kn{constructor(){this.records=new Map}get(t){return this.records.get(t)}has(t){return this.records.has(t)}set(t,e){this.records.set(t,e)}clear(){this.records.clear()}}class Ir{constructor(t,e){this.keyRegister=t,this.containerProvider=e,this.recordManager=new Kn,this.collectionRecords=new Map}resolve(t){return this.innerResolve(t)}resolveCollection(t){return this.innerResolveCollection(t)}clear(){this.recordManager.clear(),this.collectionRecords.clear()}resolveDependencies(t){return t.getDeps().map(n=>n.isCollection()?this.innerResolveCollection(n.getToken(),n.isOptional()):this.resolveDependency(n))}resolveDependency(t){return this.innerResolve(t.getToken(),t.isOptional())}innerResolve(t,e){const n=this.keyRegister.getKey(t);if(n instanceof ne){if(e)return null;throw new Error(n.getError())}if(!this.recordManager.has(n)){const o=this.containerProvider.getRecordFactory(n),s=this.resolveDependencies(o),a=o.create(s);this.recordManager.set(n,a)}return this.recordManager.get(n)}innerResolveCollection(t,e=!1){const n=this.keyRegister.getKey(t);if(n instanceof ne){if(e)return null;throw new Error(n.getError())}if(!this.collectionRecords.has(n)){const o=this.containerProvider.getCollectionRecordFactory(n);if(o){const s=o.getDeps().map(c=>c.map(u=>u.isCollection()?this.innerResolveCollection(u.getToken(),u.isOptional()):this.resolveDependency(u))),a=o.create(s);this.collectionRecords.set(n,a)}}return this.collectionRecords.get(n)}}class Tr{constructor(){this.keyRegister=new ee,this.containerProvider=new Yn(this.keyRegister),this.containerRecord=new Ir(this.keyRegister,this.containerProvider)}resolve(t){return this.containerRecord.resolve(t)}resolveCollection(t){return this.containerRecord.resolveCollection(t)}provide(t,e){return this.containerProvider.provide(t,e),this}provideClass(t,e){return this.containerProvider.provideClass(t,e),this}provideValue(t,e){return this.containerProvider.provideValue(t,e),this}provideFactory(t,e){return this.containerProvider.provideFactory(t,e),this}provideCollection(t,e){return this.containerProvider.provideCollection(t,e),this}provideFactoryCollection(t,e){return this.containerProvider.provideFactoryCollection(t,e),this}provideValueCollection(t,e){return this.containerProvider.provideValueCollection(t,e),this}clear(){this.keyRegister.clear(),this.containerProvider.clear(),this.containerRecord.clear()}clearOnlyRecords(){this.containerRecord.clear()}}function ze(){return new Tr}class ma{constructor(t,e){this.subscriber=t,this.closed=!1,null!=e&&(this.closed=e)}unsubscribe(){this.closed||(this.closed=!0,this.subscriber.unsubscribe())}getFinalize(){return this.subscriber.getFinalize()}}class ye{constructor(t){this.finalize=()=>{},this.completed=!1,this.closed=!1,this.observer=t}next(t){this.isCompleted()||this.observer&&this.observer.next&&this.observer.next(t)}error(t){this.completed||(this.observer&&this.observer.error&&this.observer.error(t),this.unsubscribe())}complete(){this.completed||(this.completed=!0,this.observer&&this.observer.complete&&this.observer.complete(),this.unsubscribe())}unsubscribe(){this.closed||(this.closed=!0,this.completed=!0,this.finalize())}setFinalize(t){t&&"function"==typeof t&&(this.finalize=t)}getFinalize(){return this.finalize}isCompleted(){return this.completed}isClosed(){return this.closed}getObserver(){return this.observer}}class O{constructor(t){this.generatorFn=t}pipe(...t){this.source=this;for(const e of t)this.source=this.innerPipe(e,this.source);return this.source}subscribe(t){let e;if(t instanceof ye)e=t;else if(null!==t&&this.isObserver(t)){const{next:n,error:o,complete:s}=t;e=this.createSubscriber(n,o,s)}else e=this.createSubscriber(arguments[0],arguments[1],arguments[2]);return this.generatorFn&&(this.generatorFinalize=this.generatorFn(e),e.setFinalize(this.generatorFinalize)),this.getSubscription(e)}createSubscriber(t,e,n){return new ye({next:t,error:e,complete:n})}getSubscription(t){return new ma(t)}innerPipe(t,e){return t(e)}isObserver(t){return"object"==typeof t}}function fa(){return new ma(new ye({}),!0)}class K extends O{constructor(){super(),this.thrownError=null,this.isCompleted=!1,this.isClosed=!1,this.subscribers=[]}next(t){if(this.verifyNotClosed(),!this.isCompleted&&null===this.thrownError)for(const e of this.subscribers)e.next(t)}error(t){if(this.verifyNotClosed(),!this.isCompleted){this.thrownError=t;for(const e of this.subscribers)e.error(t);this.subscribers.length=0}}complete(){if(this.verifyNotClosed(),!this.isCompleted){this.isCompleted=!0;for(const t of this.subscribers)t.complete();this.subscribers.length=0}}subscribe(t){let e;return this.verifyNotClosed(),e=t instanceof ye?t:this.createSubscriber(arguments[0],arguments[1],arguments[2]),null!==this.thrownError?(e.error(this.thrownError),fa()):this.isCompleted?(e.complete(),fa()):(this.subscribers.push(e),this.getSubscription(e))}unsubscribe(){this.isCompleted=!0,this.isClosed=!0,this.subscribers.length=0}toObservable(){return new O(t=>{const e=this.subscribe(n=>t.next(n),n=>t.error(n),()=>t.complete());return()=>e.unsubscribe()})}verifyNotClosed(){if(this.isClosed)throw new Error("Observable already closed")}}class Fr extends K{constructor(){super()}}let Pt=(()=>{class i{static generate(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+""+i.index++}}return i.index=0,i})();class va{constructor(t,e,n=Pt.generate()){this.aggregateId=t,this.messageType=e,this.messageId=n}getMessageType(){return this.messageType}getAggregateId(){return this.aggregateId}getMessageId(){return this.messageId}toString(){return this.messageType}equalsByType(t){return this.getMessageType()===t.getMessageType()}equals(t){return this.getMessageType()===t.getMessageType()&&this.messageId===t.messageId}ofMessageType(t){return Array.isArray(t)?!!t.find(n=>this.isMessageType(n)):this.isMessageType(t)}isMessageType(t){return this.getMessageType()===t}}class Zt extends va{constructor(t,e,n){super(t,n),this.payload=e}isSameType(t){return this.constructor.name===t.constructor.name}getPayload(){return this.payload}}function ba(){return new O(i=>{i.complete()})}function ei(i){return t=>0===i?ba():new O(e=>{let n=0;const o=new ye({next:()=>{},error:a=>e.error(a),complete:()=>e.complete()});return o.observer.next=function(a){n<i&&(e.next(a),n++,n===i&&o.complete())},t.subscribe(o).getFinalize()})}function Gt(i,t,e){return new ye({next:t||(s=>{i.next(s)}),error:s=>i.error(s),complete:e||(()=>{i.complete()})})}function F(i){return t=>new O(e=>{const n=Gt(e,o=>{i(o)&&e.next(o)});return t.subscribe(n).getFinalize()})}class Ca{constructor(){this.domainEvents=[],this.domainEvents$=new K}next(t){this.domainEvents.push(t),this.domainEvents$.next(t)}findEventByType(t){return this.getEvents().reverse().find(n=>n.constructor.name===t)}waitForEvent(t){const e=this.findEventByType(t);return e?function Eg(...i){return new O(t=>{i.forEach(e=>{t.next(e)}),t.complete()})}(e):this.waitForNextEventOccurrence(t)}waitForNextEventOccurrence(t){let e;if(t instanceof Zt)e=t.constructor.name;else{if("string"!=typeof t)return new O(n=>{n.error(new Error("Unsupported argument type."))});e=t}return this.domainEvents$.toObservable().pipe(F(n=>n.constructor.name===e),ei(1))}getEvents(){return this.domainEvents}}class qn extends K{constructor(){super()}}let Di=(()=>{class i extends O{constructor(e){super(),this.commandsStream=e}subscribe(){return this.commandsStream.toObservable().subscribe(arguments[0],arguments[1],arguments[2])}ofCommandHandler(...e){return this.commandsStream.toObservable().pipe(F(n=>e.some(o=>o.forCommand(n))))}ofCreateAggregateHandler(...e){return this.commandsStream.toObservable().pipe(F(n=>e.some(o=>o.forCommand(n))))}ofNullHandler(e,n){return this.commandsStream.toObservable().pipe(F(o=>{if(!e&&!n)return!0;let s=!0;return e&&(s=!e.some(a=>a.forCommand(o))),n&&(s=s&&!n.some(a=>a.forCommand(o))),s}))}}return i.services=[qn],i})();class R{constructor(t){return this.value=R.isValueEmpty(t)?null:t,this}static empty(){return new R(null)}static of(t){return new R(t)}static isValueEmpty(t){return typeof t>"u"||null===t}isEmpty(){return R.isValueEmpty(this.value)}isPresent(){return!this.isEmpty()}filter(t){return this.isPresent()&&t(this.value)?this:R.empty()}forEach(t){this.isPresent()&&t(this.value)}map(t){return this.isPresent()?new R(t(this.value)):R.empty()}getValueOrNullOrThrowError(){return this.value}getOrThrow(){if(this.isEmpty())throw new Error("Called getOrThrow on an empty Optional");return this.value}getOrElse(t){return this.isPresent()?this.value:t()}ifPresent(t){this.isPresent()&&t(this.value)}ifEmpty(t){this.isEmpty()&&t()}orElse(t){return this.isPresent()?this:t()}}class Mr{constructor(){this.map=new Map}add(t,e){this.map.set(t,e)}get(t){return R.of(this.map.get(t))}has(t){return this.map.has(t)}}class Dr{constructor(){this.map=new Map}add(t,e){this.map.set(t,e)}get(t){return R.of(this.map.get(t))}has(t){return this.map.has(t)}}class Qn{constructor(){this.aggregateFactoryArchive=d.resolve(Mr),this.aggregateRepositoryArchive=d.resolve(Dr)}register(t){if(t){const e=new Set,n=[];t.filter(o=>{e.has(o.key)||(e.add(o.key),n.push(o))}),n.forEach(o=>{const s=d.resolve(o.factory),a=d.resolve(o.repository);this.aggregateFactoryArchive.has(o.key)||this.aggregateFactoryArchive.add(o.key,s),this.aggregateRepositoryArchive.has(o.key)||this.aggregateRepositoryArchive.add(o.key,a)})}}}function pe(i){return t=>new O(e=>{const n=function _g(i){return new ye({next:t=>i.next(t),error:t=>i.error(t),complete:()=>i.complete()})}(e),o=new ye({next:()=>n.complete()});return i.subscribe(o),t.subscribe(n).getFinalize()})}function vt(i){return new At.c(t=>{const e=i.subscribe(n=>t.next(n),n=>t.error(n),()=>t.complete());return()=>e.unsubscribe()})}class ge{constructor(){this.hermesUnsubscribe$=new K}onDestroy(){this.hermesUnsubscribe()}takeUntil(){return(0,I.Q)(vt(this.hermesUnsubscribe$))}hermesUnsubscribe(){this.hermesUnsubscribe$.next(),this.hermesUnsubscribe$.complete()}hermesTakeUntil(){return pe(this.hermesUnsubscribe$)}isNotStopped(){return!this.hermesUnsubscribe$.isCompleted}}class Jn extends ge{constructor(){super(),this.commandBus=d.resolve(Di)}register(t){if(t){const e=new Set,n=[];t.filter(o=>{e.has(o.commandHandler)||(e.add(o.commandHandler),n.push(o))}),n.forEach(o=>{this.commandBus.ofCommandHandler(o).pipe(this.hermesTakeUntil()).subscribe(s=>{o.handleCommand(s)})})}}registerAggregateCommandHandlers(t){if(t){const e=new Set,n=[];t.filter(o=>{e.has(o.createAggregateCommandHandler)||(e.add(o.createAggregateCommandHandler),n.push(o))}),n.forEach(o=>{this.commandBus.ofCreateAggregateHandler(o).pipe(this.hermesTakeUntil()).subscribe(s=>{o.handleCommand(s)})})}}}let Se=(()=>{class i extends O{constructor(e){super(),this.eventStream=e}subscribe(){return this.eventStream.toObservable().subscribe(arguments[0],arguments[1],arguments[2])}ofEvents(e){return this.eventStream.toObservable().pipe(F(n=>e.some(o=>this.createEventInstance(o).equalsByType(n))))}ofEventHandlers(e){return this.eventStream.toObservable().pipe(F(n=>e.some(o=>o.forEvents([n]))))}createEventInstance(e){const n=[];if(n.fill(void 0,0,e.constructor.length),0===n.length)return new e;if(1===n.length)return new e(n[0]);if(2===n.length)return new e(n[0],n[1]);if(3===n.length)return new e(n[0],n[1],n[2]);if(4===n.length)return new e(n[0],n[1],n[2],n[3]);if(5===n.length)return new e(n[0],n[1],n[2],n[3],n[4]);throw new Error("DomainEventBus constructor out of arguments")}}return i.services=[Fr],i})(),Zn=(()=>{class i extends ge{constructor(e){super(),this.domainEventBus=e,this.unsub$=new K}init(e){if(e){const n=new Set,o=[];e.filter(s=>{n.has(s.domainEventHandler)||(n.add(s.domainEventHandler),o.push(s))}),o.forEach(s=>{this.domainEventBus.ofEventHandlers([s]).pipe(pe(this.unsub$),this.hermesTakeUntil()).subscribe(a=>{s.handleEvent(a)})})}}reinit(e){this.stop(),this.init(e)}stop(){this.unsub$.next(),this.unsub$.complete(),this.unsub$=new K}}return i.services=[Se],i})();const eo="GUI - COMMAND_LOGGER_ENABLED",to="GUI - EVENT_LOGGER_ENABLED";class ya{setDomain(t){this.domainName=t}log(t){this.shouldPrint(t)&&this.print(t)}shouldPrint(t){return!this.domainName||t.toString().includes(this.domainName)}}class kr extends ya{}class Sa extends kr{constructor(){super(),this.enabled=!1,this.unsubscribe$=new K,this.commandBus=d.resolve(Di),this.commandBus.pipe(F(()=>this.enabled),pe(this.unsubscribe$)).subscribe(t=>{this.log(t)})}onDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}start(){this.enabled=!0}stop(){this.enabled=!1}print(t){console.log(t.toString(),t)}}class xa extends kr{start(){}stop(){}print(t){}}class Rr extends ya{constructor(){super()}}class wa extends Rr{constructor(){super()}start(){}stop(){}print(t){}}class Ar{constructor(){this.stores=[]}register(t){this.stores.push(t)}captureAggregatesSnapshot(t){if(!t)return{};const e={};return this.stores.forEach(n=>{const o=n.findById(t);o&&(e[o.constructor.name]=o)}),this.cloneAggregates(e)}cloneAggregates(t){return t}}class Ea extends Rr{constructor(){super(),this.enabled=!1,this.unsubscribe$=new K,this.eventBus=d.resolve(Se),this.aggregateStoreRegister=d.resolve(Ar),this.eventBus.pipe(F(()=>this.enabled),pe(this.unsubscribe$)).subscribe(t=>{this.log(t)})}onDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}start(){this.enabled=!0}stop(){this.enabled=!1}print(t){const e=t.getAggregateId(),n=this.aggregateStoreRegister.captureAggregatesSnapshot(e);console.log(t.toString(),t,n)}}const _a="Hermes - aggregateDefinitionToken",io="HERMES - DOMAIN_EVENT_HANDLERS_TOKEN",Ia="HERMES - CREATE_AGGREGATE_COMMAND_HANDLERS",Ta="HERMES - COMMAND_HANDLERS_TOKEN";let Fa=(()=>{class i extends ge{constructor(e,n,o,s,a,c,u,g){super(),this.aggregateDefinitionInitializer=e,this.commandHandlerInitializer=n,this.domainEventHandlerInitializer=o,this.commandBus=s,this.definedAggregate=a,this.eventHandlers=c,this.aggregateCommandHandlers=u,this.commandHandlers=g,this.started=!1,null===this.eventHandlers&&(this.eventHandlers=[]),null===this.aggregateCommandHandlers&&(this.aggregateCommandHandlers=[]),null===this.commandHandlers&&(this.commandHandlers=[])}run(){this.started||(this.checkNullCommand(this.commandHandlers,this.aggregateCommandHandlers),this.checkCommandHandlerIsCollection(this.commandHandlers),this.checkDomainEventHandlerIsCollection(this.eventHandlers),this.aggregateDefinitionInitializer.register(this.definedAggregate),this.commandHandlerInitializer.register(this.commandHandlers),this.commandHandlerInitializer.registerAggregateCommandHandlers(this.aggregateCommandHandlers),this.domainEventHandlerInitializer.init(this.eventHandlers),this.started=!0)}destroy(){this.commandHandlerInitializer.onDestroy(),this.domainEventHandlerInitializer.onDestroy()}checkNullCommand(e,n){this.commandBus.ofNullHandler(e,n).pipe(this.hermesTakeUntil()).subscribe(o=>{console.error(`Command ${o.toString()} was not intercepted by any CommandHandler.`)})}checkCommandHandlerIsCollection(e){e&&!Array.isArray(e)&&console.warn('You might provided commandHandler without specifying "multi: true".')}checkDomainEventHandlerIsCollection(e){e&&!Array.isArray(e)&&console.warn('You might provided eventHandler without specifying "multi: true".')}}return i.services=[Qn,Jn,Zn,Di,{inject:_a,collection:!0},{inject:io,collection:!0,optional:!0},{inject:Ia,collection:!0,optional:!0},{inject:Ta,collection:!0,optional:!0}],i})();class se{constructor(){this.commandStream=d.resolve(qn)}dispatch(t){this.commandStream.next(t)}}let T=(()=>{class i{constructor(e){this.eventStream=e}publish(e){if(Array.isArray(e))for(const n of e)this.publishEvent(n);else this.publishEvent(e)}publishFromAggregate(e){[...e.getEvents()].forEach(o=>{this.publish(o.toDomainEvent())})}publishEvent(e){e||console.error(`${e} is not defined`),e instanceof Zt||console.error(`${e} is not a DomainEvent`),this.eventStream.next(e)}}return i.services=[Fr],i})();const d=ze();d.provideValue(to,!0),d.provideValue(eo,!0),d.provide(Sa),d.provide(xa),d.provide(wa),d.provide(Ea),d.provide(Se),d.provide(Ar),d.provideFactory(kr,{create:function Ig(i,t,e){return i?t:e},deps:[eo,Sa,xa]}),d.provideFactory(Rr,{create:function Tg(i,t,e){return i?t:e},deps:[to,Ea,wa]}),d.provide(Mr,Mr),d.provide(T),d.provide(Dr),d.provide(Fr,Fr),d.provide(Ca,Ca),d.provide(Di,Di),d.provide(qn),d.provide(se),d.provide(Qn,Qn),d.provide(Jn,Jn),d.provide(Zn,Zn),d.provide(Fa);class ki extends va{}class Pr{}class Gr{constructor(t,e){this.aggregateId=t,this.type=e}getAggregateId(){return this.aggregateId}getType(){return this.type}equals(t){return this.equalsByType(t)&&this.getAggregateId().equals(t.getAggregateId())}equalsByType(t){return this.getType()===t.getType()}}class Vr{}class Ma{}class Or{constructor(t,e){this.type=e,this.aggregateId=t,this.events=[]}getId(){return this.aggregateId}getType(){return this.type}getEvents(){return this.events}addEvent(t){if(Array.isArray(t))for(const e of t)this.events.push(e);else this.events.push(t)}clearEvents(){this.events.length=0}equals(t){return t.getId().toString()===this.getId().toString()}}class Nr{constructor(t){this.uid=t}getId(){return this.uid}equals(t){return this.uid===t.getId()}}class Br extends Nr{constructor(t){super(t)}toString(){return super.getId()}}class Da extends ge{constructor(){super()}onDestroy(){this.hermesUnsubscribe()}}class ro{constructor(){this.keys=new Map,this.values=new WeakMap}find(t){const e=this.getInternalKey(t);return void 0!==e?R.of(this.values.get(e)):R.empty()}has(t){const e=this.getInternalKey(t);return this.values.has(e)}set(t,e){this.keys.set(t.toString(),t),this.values.set(t,e)}size(){return this.keys.size}remove(t){this.hasInternalKey(t)&&(this.keys.delete(t.toString()),this.values.delete(t))}removeAll(){this.keys.forEach(t=>{this.values.delete(t)}),this.keys.clear()}getInternalKey(t){return this.keys.get(t.toString())}hasInternalKey(t){return this.keys.has(t.toString())}}function h(i){return t=>new O(e=>{let n=0;const o=Gt(e,s=>{e.next(i(s,n++))});return t.subscribe(o).getFinalize()})}function Pe(i){const t=i||Mg;return e=>new O(n=>{let o=null;const s=Gt(n,a=>{(null===o||!t(o,a))&&(o=a,n.next(a))});return e.subscribe(s).getFinalize()})}function Mg(i,t){return i===t}class Dg extends K{constructor(t){super(),this.lastValue=t}next(t){this.lastValue=t,super.next(t)}subscribe(){const t=super.subscribe(arguments[0],arguments[1],arguments[2]);return super.next(this.lastValue),t}}class Ge extends K{constructor(t=1){super(),this.bufferSize=t,this.values=[]}pipe(...t){return super.pipe(...t)}next(t){this.values.push(t),this.bufferSize<this.values.length&&this.values.shift(),super.next(t)}subscribe(){let t;t=arguments[0]instanceof ye?arguments[0]:this.createSubscriber(arguments[0],arguments[1],arguments[2]);const e=super.subscribe(t);for(const n of this.values)t.next(n);return e}}class ka extends K{constructor(){super()}static of(t){return void 0!==t?new Dg(t):new Ge(1)}}class kg extends ye{next(t){if(this.isCompleted())return;const e=this.getObserver();e&&e.next&&(e.next(t),this.complete())}}class Rg extends O{createSubscriber(t,e,n){return new kg({next:t,error:e,complete:n})}}function ti(i){return new Rg(t=>{const e=new ye({next:o=>t.next(o),error:o=>t.error(o),complete:()=>{}});return i.subscribe(e).getFinalize()})}class Ag extends Da{constructor(t){super(),this.archive=new ro,this.defaultValue=R.empty(),this.archive$=ka.of(),null!=t&&(this.defaultValue=R.of(t))}on(t){return this.tryToInitDefault(t),this.archive$.toObservable().pipe(F(()=>this.isNotStopped()),h(e=>e.find(t)),F(e=>e.isPresent()),h(e=>e.getValueOrNullOrThrowError()),Pe(this.equals),this.hermesTakeUntil())}once(t){return ti(this.on(t))}find(t){return this.tryToInitDefault(t),this.archive.find(t)}next(t,e){this.archive.set(t,e),this.archive$.next(this.archive)}equals(t,e){return t===e}createDefaultValue(t){return t}tryToInitDefault(t){this.defaultValue.ifPresent(e=>{this.archive.has(t)||this.next(t,e)})}}class A extends Ag{constructor(t){super(t)}}class bt extends A{constructor(t){super(t)}handle(t){this.next(t.getAggregateId(),t.getPayload())}}class Pg{constructor(t){this.entityId=t}getId(){return this.entityId}}class Gg{constructor(t){this.uid=t}toString(){return this.uid}getId(){return this.uid}equals(t){return this.uid===t.getId()}}class Ra{constructor(t){this.rootId=t}getId(){return this.rootId}}class Hr{constructor(t){this.uid=t}toString(){return this.uid}getId(){return this.uid}equals(t){return this.uid===t.getId()}}class Vg extends ge{constructor(){super(),this.domainEventBus=d.resolve(Se),this.domainEventBus.ofEvents(this.forEvents()).pipe(this.hermesTakeUntil()).subscribe(t=>{try{this.subscribe(t)}catch(e){console.error(e)}})}}class Aa{}class Vt extends Da{constructor(){super(),this.domainEventBus=d.resolve(Se)}onEvent(t,e){return this.domainEventBus.ofEvents([e]).pipe(F(n=>n.getAggregateId().toString()===t.toString()))}}class Ur{constructor(t){this.entityId=t}getId(){return this.entityId}equals(t){return this.entityId.equals(t.getId())}}class ii extends Nr{}function Pa(i){}function no(i){}class re{}function Ga(i){return new O(t=>{const e=setTimeout(()=>{t.next(0)},i);return()=>{clearTimeout(e),t.complete()}})}function $r(i,t){return new O(e=>{const n=o=>{e.next(o)};return i.addEventListener(t,n),()=>{i.removeEventListener(t,n)}})}function xe(i){return t=>new O(e=>{let n=!1,o=null;const s=function(){n&&!o&&e.complete()},a=Gt(e,c=>{o&&o.unsubscribe();const u=new ye({next:p=>e.next(p),error:p=>e.error(p),complete:()=>{o=null,s()}});return o=u,i(c).subscribe(u).getFinalize()},()=>{n=!0,s()});return t.subscribe(a).getFinalize()})}function Ot(i){return new O(t=>{const e=i.subscribe(n=>t.next(n),n=>t.error(n),()=>t.complete());return()=>e.unsubscribe()})}class We{constructor(t){this.archive$=ka.of(t)}on(){return this.archive$.toObservable().pipe(Pe(this.compare))}next(t){this.archive$.next(t)}compare(t,e){return t===e}}let Og=(()=>{class i{static generate(){return i.index++,i.index}}return i.index=0,i})();class jr extends Ma{constructor(t){super(),this.inMemoryStore=t,this.aggregateStoreRegister=d.resolve(Ar),this.aggregateStoreRegister.register(this)}save(t){Array.isArray(t)?t.forEach(e=>{this.inMemoryStore.set(e)}):this.inMemoryStore.set(t)}findById(t){const e=this.inMemoryStore.get(t);return e.ifPresent(n=>n.clearEvents()),e}remove(t){this.inMemoryStore.delete(t)}}class Va extends Aa{constructor(t){super(),this.inMemoryStore=t}getById(t){return this.getValue(t)}getValue(t){return this.inMemoryStore.get(t).map(this.toReadModel.bind(this))}}class Xr{constructor(){this.state=new Map}set(t){this.state.set(t.getId().toString(),t)}setMany(t){t.forEach(e=>{this.set(e)})}get(t){return R.of(this.state.get(t.toString()))}getAll(){return Array.from(this.state.values()).map(t=>R.of(t))}has(t){return this.state.has(t.toString())}delete(t){this.state.delete(t.toString())}clear(){this.state.clear()}}class Oa extends ki{constructor(t,e){super(t,e)}}const ri="hermesApi";function Ug(i,t){return new $g(i,t)}class $g{constructor(t,e){this.createAggregateCommandHandler=t,this.aggregateType=e,this.aggregateFactoryArchive=d.resolve(Mr),this.aggregateRepositoryArchive=d.resolve(Dr),this.domainEventPublisher=d.resolve(T),this.commandType=this.createCommandInstance().getMessageType()}handleCommand(t){const e=t.getAggregateId();this.aggregateFactoryArchive.get(this.aggregateType).ifPresent(o=>{const s=o.create(e),a=s.getType(),u=new(s.createEvent())(e,a);s.addEvent(u),this.aggregateRepositoryArchive.get(this.aggregateType).ifPresent(p=>{p.save(s),this.domainEventPublisher.publishFromAggregate(s)})})}forCommand(t){return this.commandType===t.getMessageType()}createCommandInstance(){const t=[],e=this.createAggregateCommandHandler.forCommand().constructor.length;if(t.fill(void 0,0,e),0===t.length)return new(this.createAggregateCommandHandler.forCommand());if(1===t.length)return new(this.createAggregateCommandHandler.forCommand())(t[0]);if(2===t.length)return new(this.createAggregateCommandHandler.forCommand())(t[0],t[1]);if(3===t.length)return new(this.createAggregateCommandHandler.forCommand())(t[0],t[1],t[2]);if(4===t.length)return new(this.createAggregateCommandHandler.forCommand())(t[0],t[1],t[2],t[3]);if(5===t.length)return new(this.createAggregateCommandHandler.forCommand())(t[0],t[1],t[2],t[3],t[4]);throw new Error("CreateAggregateCommandHandlerImpl constructor out of arguments")}}function jg(i,t){return new Xg(i,t)}class Xg{constructor(t,e){this.commandHandler=t,this.aggregateType=e,this.aggregateRepositoryArchive=d.resolve(Dr),this.domainEventPublisher=d.resolve(T),this.commandType=this.createCommandInstance().getMessageType()}publishDomainEvents(t,e){this.commandHandler.publish?this.commandHandler.publish(t,e):this.domainEventPublisher.publishFromAggregate(t)}handleCommand(t){const e=t.getAggregateId();this.aggregateRepositoryArchive.get(this.aggregateType).ifPresent(o=>{o.findById(e).ifPresent(a=>{this.commandHandler.handle(a,t),this.publishDomainEvents(a,t)})})}forCommand(t){return this.commandType===t.getMessageType()}createCommandInstance(){const t=[],e=this.commandHandler.forCommand().constructor.length;if(t.fill(void 0,0,e),0===t.length)return new(this.commandHandler.forCommand());if(1===t.length)return new(this.commandHandler.forCommand())(t[0]);if(2===t.length)return new(this.commandHandler.forCommand())(t[0],t[1]);if(3===t.length)return new(this.commandHandler.forCommand())(t[0],t[1],t[2]);if(4===t.length)return new(this.commandHandler.forCommand())(t[0],t[1],t[2],t[3]);if(5===t.length)return new(this.commandHandler.forCommand())(t[0],t[1],t[2],t[3],t[4]);throw new Error("CommandHandlerImpl constructor out of arguments")}}function Lg(i){return new Na(i,[i.forEvent()])}function zg(i){return new Na(i,i.forEvents())}class Na{constructor(t,e){this.domainEventHandler=t,this.events=e,this.eventTypes=this.createDomainEventTypes()}handleEvent(t){this.domainEventHandler.handle(t)}forEvents(t){return t.some(e=>this.eventTypes.some(n=>n===e.getMessageType()))}createDomainEventTypes(){const t=[];for(const e of this.events){const n=this.createDomainEventInstance(e);t.push(n.getMessageType())}return t}createDomainEventInstance(t){const e=[];if(e.fill(void 0,0,t.constructor.length),0===e.length)return new t;if(1===e.length)return new t(e[0]);if(2===e.length)return new t(e[0],e[1]);if(3===e.length)return new t(e[0],e[1],e[2]);if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(5===e.length)return new t(e[0],e[1],e[2],e[3],e[4]);throw new Error("DomainEventHandler constructor out of arguments")}}class me{constructor(t,e){this.api=t,this.domain=e,this.container=d,this.initialized=!1}init(){this.initialized||(this.defineAggregate(),this.registerApiProviders(),this.registerDomainProviders(),this.registerCommandHandlers(),this.registerEventHandlers(),this.registerMultiEventHandlers(),this.initialized=!0)}defineAggregate(){const t=this.domain.defineAggregate();t&&(this.container.provide(t.factory),this.container.provide(t.repository),this.container.provideValue(t.aggregateKey,t.aggregateKey),this.container.provideValueCollection(_a,{key:t.aggregateKey,factory:t.factory,repository:t.repository}),this.container.provide(t.createCommandHandler),this.container.provideFactoryCollection(Ia,{create:Ug,deps:[t.createCommandHandler,t.aggregateKey]}))}registerApiProviders(){this.api.registerProviders(this.container)}registerDomainProviders(){this.domain.registerProviders(this.container)}registerCommandHandlers(){this.domain.registerCommandHandlers().forEach(t=>{this.container.provide(t),this.container.provideFactoryCollection(Ta,{create:jg,deps:[t,this.domain.registerKey(this.container)]})})}registerEventHandlers(){this.domain.registerDomainEventHandler().forEach(t=>{this.container.provide(t),this.container.provideFactoryCollection(io,{create:Lg,deps:[t]})})}registerMultiEventHandlers(){this.domain.registerMultiDomainEventHandler().forEach(t=>{this.container.provide(t),this.container.provideFactoryCollection(io,{create:zg,deps:[t]})})}}var Lr=M(345),y=M(9417),Wg=M(3294),Ba=M(5964),Ha=M(5245),Yg=M(6697),Ve=M(1413),zr=M(4412),Ct=M(1584),Ri=M(3726),Ua=M(2771);const tt=["*"],Kg=["gui-button",""],Qg=["input"];function Jg(i,t){if(1&i&&(r.j41(0,"div"),r.EFF(1),r.k0s()),2&i){const e=t.$implicit;r.R7$(),r.JRh(e)}}function Zg(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",6),r.bIt("click",function(){const o=r.eBV(e).$implicit,s=r.XpG(2);return r.Njj(s.selectDate(o))}),r.EFF(1),r.k0s()}if(2&i){const e=t.$implicit,n=r.XpG(2);r.AVh("gui-date-picker-current-day",n.isDate(n.currentDay,e))("gui-date-picker-selected-day",n.isDate(n.selectedDate,e))("gui-date-picker-selected-month",n.displayMonthDays(e.getMonth())),r.R7$(),r.SpI(" ",e.getDate()," ")}}function eh(i,t){if(1&i&&(r.j41(0,"div",4),r.DNE(1,Zg,2,7,"div",5),r.k0s()),2&i){const e=t.$implicit;r.R7$(),r.Y8G("ngForOf",e)}}function th(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",4),r.bIt("click",function(){const o=r.eBV(e).$implicit,s=r.XpG(2);return r.Njj(s.selectMonth(o.nr))}),r.EFF(1),r.k0s()}if(2&i){const e=t.$implicit,n=r.XpG(2);r.AVh("gui-date-picker-current-month",n.isMonth(n.currentDay,e.nr))("gui-date-picker-selected-month",n.isMonth(n.selectedDate,e.nr)),r.R7$(),r.SpI(" ",e.name," ")}}function ih(i,t){if(1&i&&(r.j41(0,"div",2),r.DNE(1,th,2,5,"div",3),r.k0s()),2&i){const e=t.$implicit;r.R7$(),r.Y8G("ngForOf",e)}}function rh(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",4),r.bIt("click",function(){const o=r.eBV(e).$implicit,s=r.XpG(2);return r.Njj(s.selectYear(o))}),r.EFF(1),r.k0s()}if(2&i){const e=t.$implicit,n=r.XpG(2);r.AVh("gui-date-picker-current-year",n.isYear(n.currentDay,e))("gui-date-picker-selected-year",n.isYear(n.selectedDate,e)),r.R7$(),r.SpI(" ",e," ")}}function nh(i,t){if(1&i&&(r.j41(0,"div",2),r.DNE(1,rh,2,5,"div",3),r.k0s()),2&i){const e=t.$implicit;r.R7$(),r.Y8G("ngForOf",e)}}const oh=["gui-input",""];function sh(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",4)(1,"gui-arrow-icon",5),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.changeTimeItem("hours",o.steps))}),r.k0s(),r.nrm(2,"input",6),r.j41(3,"gui-arrow-icon",5),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.changeTimeItem("hours",-o.steps))}),r.k0s()()}if(2&i){const e=r.XpG();r.R7$(),r.Y8G("direction",e.Direction.TOP),r.R7$(2),r.Y8G("direction",e.Direction.BOTTOM)}}function ah(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",4)(1,"gui-arrow-icon",5),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.changeTimeItem("minutes",o.steps))}),r.k0s(),r.nrm(2,"input",7),r.j41(3,"gui-arrow-icon",5),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.changeTimeItem("minutes",-o.steps))}),r.k0s()()}if(2&i){const e=r.XpG();r.R7$(),r.Y8G("direction",e.Direction.TOP),r.R7$(2),r.Y8G("direction",e.Direction.BOTTOM)}}function ch(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",4)(1,"gui-arrow-icon",5),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.changeTimeItem("seconds",o.steps))}),r.k0s(),r.nrm(2,"input",8),r.j41(3,"gui-arrow-icon",5),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.changeTimeItem("seconds",-o.steps))}),r.k0s()()}if(2&i){const e=r.XpG();r.R7$(),r.Y8G("direction",e.Direction.TOP),r.R7$(2),r.Y8G("direction",e.Direction.BOTTOM)}}function uh(i,t){if(1&i&&r.nrm(0,"gui-date-picker-days-view",7),2&i){const e=r.XpG(2);r.Y8G("activeMonth",e.activeMonth)("selectedDate",e.selectedDate)("weeks",e.weeks)}}function lh(i,t){if(1&i&&r.nrm(0,"gui-date-picker-months-view",8),2&i){const e=r.XpG(2);r.Y8G("activeYear",e.activeYear)("selectedDate",e.selectedDate)}}function dh(i,t){if(1&i&&r.nrm(0,"gui-date-picker-years-view",9),2&i){const e=r.XpG(2);r.Y8G("selectedDate",e.selectedDate)("years",e.years)}}function gh(i,t){if(1&i&&(r.qex(0),r.nrm(1,"gui-date-picker-view-panel",2),r.qex(2,3),r.DNE(3,uh,1,3,"gui-date-picker-days-view",4)(4,lh,1,2,"gui-date-picker-months-view",5)(5,dh,1,2,"gui-date-picker-years-view",6),r.bVm()()),2&i){const e=r.XpG();r.R7$(),r.Y8G("activeMonth",e.activeMonth)("activeYear",e.activeYear)("fabricCalendarView",e.fabricCalendarView)("selectedDate",e.selectedDate)("years",e.years),r.R7$(),r.Y8G("ngSwitch",e.getCalendarView()),r.R7$(),r.Y8G("ngSwitchCase",e.FabricCalendarView.DAYS),r.R7$(),r.Y8G("ngSwitchCase",e.FabricCalendarView.MONTHS),r.R7$(),r.Y8G("ngSwitchCase",e.FabricCalendarView.YEARS)}}function hh(i,t){if(1&i&&r.nrm(0,"gui-time-picker",10),2&i){const e=r.XpG();r.Y8G("datePickerComposition",e.datePickerComposition)("selectedDate",e.selectedDate)}}const Ai=["container"];function ph(i,t){}const mh=["datePicker"];function fh(i,t){}const vh=["dropdownMenu"];function bh(i,t){if(1&i&&(r.j41(0,"div"),r.nrm(1,"gui-arrow-icon",6),r.k0s()),2&i){const e=r.XpG();r.AVh("gui-dropdown-arrow",e.isArrowEnabled),r.R7$(),r.Y8G("direction",e.arrowDirection)}}function Ch(i,t){}const yh=["guiNotification"];function Sh(i,t){if(1&i){const e=r.RV6();r.j41(0,"gui-notification",1),r.bIt("onNotificationClose",function(o){r.eBV(e);const s=r.XpG();return r.Njj(s.emitClosedNotification(o))}),r.k0s()}2&i&&r.Y8G("notification",t.$implicit)}function xh(i,t){if(1&i){const e=r.RV6();r.j41(0,"gui-notifications-container",1),r.bIt("onNotificationClose",function(o){r.eBV(e);const s=r.XpG();return r.Njj(s.removeNotification(o))}),r.k0s()}if(2&i){const e=r.XpG();r.Y8G("notifications",e.notificationsTopRight)("position",e.FabricNotificationPosition.TOP_RIGHT)}}function wh(i,t){if(1&i){const e=r.RV6();r.j41(0,"gui-notifications-container",1),r.bIt("onNotificationClose",function(o){r.eBV(e);const s=r.XpG();return r.Njj(s.removeNotification(o))}),r.k0s()}if(2&i){const e=r.XpG();r.Y8G("notifications",e.notificationsTopLeft)("position",e.FabricNotificationPosition.TOP_LEFT)}}function Eh(i,t){if(1&i){const e=r.RV6();r.j41(0,"gui-notifications-container",1),r.bIt("onNotificationClose",function(o){r.eBV(e);const s=r.XpG();return r.Njj(s.removeNotification(o))}),r.k0s()}if(2&i){const e=r.XpG();r.Y8G("notifications",e.notificationsBottomRight)("position",e.FabricNotificationPosition.BOTTOM_RIGHT)}}function _h(i,t){if(1&i){const e=r.RV6();r.j41(0,"gui-notifications-container",1),r.bIt("onNotificationClose",function(o){r.eBV(e);const s=r.XpG();return r.Njj(s.removeNotification(o))}),r.k0s()}if(2&i){const e=r.XpG();r.Y8G("notifications",e.notificationsBottomLeft)("position",e.FabricNotificationPosition.BOTTOM_LEFT)}}const Ih=["svgEl"],Th=["tab"],Fh=["tabItem"],Mh=["tabMenuList"];function Dh(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",8),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.scrollTabList(!1))}),r.nrm(1,"gui-arrow-icon",9),r.k0s()}if(2&i){const e=r.XpG();r.R7$(),r.Y8G("direction",e.Direction.LEFT)}}function kh(i,t){if(1&i&&(r.j41(0,"span"),r.EFF(1),r.k0s()),2&i){const e=r.XpG().$implicit;r.R7$(),r.JRh(e)}}function Rh(i,t){if(1&i&&(r.qex(0),r.nrm(1,"gui-svg-template",12),r.bVm()),2&i){const e=r.XpG().$implicit;r.R7$(),r.Y8G("svg",e.svg)}}function Ah(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",10,2),r.bIt("click",function(){const o=r.eBV(e).$implicit,s=r.XpG();return r.Njj(s.toggleTab(o))}),r.DNE(2,kh,2,1,"span",11)(3,Rh,2,1,"ng-container",11),r.k0s()}if(2&i){const e=t.$implicit,n=r.XpG();r.BMQ("data-tab",n.getTabName(e)),r.R7$(2),r.Y8G("ngIf",!n.isSvg(e)),r.R7$(),r.Y8G("ngIf",n.isSvg(e))}}function Ph(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",8),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.scrollTabList(!0))}),r.nrm(1,"gui-arrow-icon"),r.k0s()}}const Gh=["optionList"];function Vh(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",3),r.bIt("click",function(){const o=r.eBV(e).$implicit,s=r.XpG();return r.Njj(s.selectOption(o))}),r.EFF(1),r.k0s()}if(2&i){const e=t.$implicit,n=r.XpG();r.xc7("width",n.width,"px"),r.AVh("gui-option-selected",n.isOptionSelected(e)),r.R7$(),r.SpI(" ",n.getOptionValue(e)," ")}}var D=function(i){return i.FABRIC="FABRIC",i.MATERIAL="MATERIAL",i.GENERIC="GENERIC",i.LIGHT="LIGHT",i.DARK="DARK",i}(D||{});let $a=(()=>{class i{constructor(e,n){this.elementRef=e,this.renderer=n,this.primary=!1,this.secondary=!1,this.outline=!1}ngOnChanges(e){e.primary&&(this.primary?this.addClass(i.PRIMARY_CLASS_NAME):this.removeClass(i.PRIMARY_CLASS_NAME)),e.secondary&&(this.secondary?this.addClass(i.SECONDARY_CLASS_NAME):this.removeClass(i.SECONDARY_CLASS_NAME)),e.outline&&(this.outline?this.addClass(i.OUTLINE_CLASS_NAME):this.removeClass(i.OUTLINE_CLASS_NAME))}addClass(e){this.renderer.addClass(this.elementRef.nativeElement,e)}removeClass(e){this.renderer.removeClass(this.elementRef.nativeElement,e)}}return i.PRIMARY_CLASS_NAME="gui-primary",i.SECONDARY_CLASS_NAME="gui-secondary",i.OUTLINE_CLASS_NAME="gui-outline",i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.sFG))},i.\u0275dir=r.FsC({type:i,inputs:{primary:"primary",secondary:"secondary",outline:"outline"},features:[r.OA$]}),i})(),Wr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),rt=(()=>{class i extends $a{constructor(e,n){super(e,n),this.link=!1,this.text=!1}ngOnChanges(e){super.ngOnChanges(e),e.link&&(this.link?this.addClass("gui-link"):this.removeClass("gui-link")),e.text&&(this.text?this.addClass("gui-text"):this.removeClass("gui-text"))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.sFG))},i.\u0275cmp=r.VBU({type:i,selectors:[["button","gui-button",""],["a","gui-button",""]],hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-button",!0)},inputs:{link:"link",text:"text"},features:[r.Vt3,r.OA$],attrs:Kg,ngContentSelectors:tt,decls:1,vars:0,template:function(e,n){1&e&&(r.NAR(),r.SdG(0))},styles:[".gui-button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-align:start;align-items:flex-start;background:#e6e6e6;border-radius:4px;border-style:none;box-sizing:border-box;color:#595959;cursor:pointer;display:inline-block;font-family:Arial;font-size:13.3333px;letter-spacing:normal;outline:none;padding:10px 20px;text-align:center;text-indent:0;text-rendering:auto;text-shadow:none;text-transform:none;transition:background .2s;word-spacing:normal;-ms-writing-mode:lr-tb!important;writing-mode:horizontal-tb!important}.gui-button.gui-outline:focus{box-shadow:0 0 0 2px #d6d6d6}.gui-button.gui-outline.gui-primary:focus{box-shadow:0 0 0 2px #439de1}.gui-button.gui-outline.gui-secondary:focus{box-shadow:0 0 0 2px #5ac88b}.gui-button.gui-primary{background:#2185d0;color:#fff}.gui-button.gui-primary.gui-outline{color:#2185d0}.gui-button.gui-primary:hover:not(.gui-chip,.gui-badge){background:#1e77ba}.gui-button.gui-primary:active{background:#1a69a4;color:#fff}.gui-button.gui-primary:disabled{background:#6fb4e8;color:#439de1}.gui-button.gui-primary.gui-badge{background:#439de1}.gui-button.gui-secondary{background:#3cb371;color:#fff}.gui-button.gui-secondary.gui-outline{color:#3cb371}.gui-button.gui-secondary.gui-button:hover{background:#36a065}.gui-button.gui-secondary.gui-button:active{background:#32945e;color:#fff}.gui-button.gui-secondary.gui-button:disabled{background:#80d5a6;color:#5ac88b}.gui-button.gui-secondary.gui-badge{background:#5ac88b}.gui-button.gui-link{background:transparent;border:0;color:#2185d0}.gui-button.gui-link:hover{background:none;color:#1e77ba;text-decoration:underline}.gui-button.gui-link:focus{text-decoration:underline}.gui-button.gui-outline{background:transparent;color:#999;border-color:#d6d6d6;border-style:solid;border-width:1px}.gui-button.gui-outline.gui-button:hover{background:#cccccc;color:#fff}.gui-button.gui-outline.gui-button:disabled{border-color:#ccc;color:#ccc}.gui-button.gui-outline.gui-badge{background:#fff}.gui-button.gui-outline.gui-primary{border-color:#439de1}.gui-button.gui-outline.gui-primary.gui-button:hover{background:#2185d0;border-color:#2185d0}.gui-button.gui-outline.gui-primary.gui-button:disabled{background:transparent;border-color:#6fb4e8;color:#6fb4e8}.gui-button.gui-outline.gui-primary.gui-badge{background:#fff;border-color:#439de1;color:#439de1}.gui-button.gui-outline.gui-secondary{border-color:#5ac88b}.gui-button.gui-outline.gui-secondary.gui-button:hover{background:#3cb371;border-color:#3cb371}.gui-button.gui-outline.gui-secondary.gui-button:disabled{background:transparent;border-color:#80d5a6;color:#80d5a6}.gui-button.gui-outline.gui-secondary.gui-badge{background:#fff;border-color:#5ac88b;color:#5ac88b}.gui-button.gui-text{background:transparent;border:0}.gui-button.gui-text:hover{background:#e6e6e6}.gui-button.gui-text:focus{background:#e6e6e6}.gui-button.gui-text.gui-primary{color:#2185d0}.gui-button.gui-text.gui-primary:hover{background:#2185d0;color:#fff}.gui-button.gui-text.gui-primary:focus{background:#2185d0;color:#fff}.gui-button.gui-text.gui-secondary{color:#3cb371}.gui-button.gui-text.gui-secondary:hover{background:#3cb371;color:#fff}.gui-button.gui-text.gui-secondary:focus{background:#3cb371;color:#fff}.gui-button.gui-text.gui-button:disabled{background:transparent}.gui-button.gui-text.gui-button:disabled .gui-text-disabled{display:inline-block}.gui-button:hover{background:#cccccc;color:#333}.gui-button:active{background:#999;color:#333}.gui-button:disabled{color:#ccc;cursor:default;pointer-events:none}\n",".gui-dark .gui-button{background:#424242;color:#bdbdbd}.gui-dark .gui-button.gui-outline:focus{box-shadow:0 0 0 2px #616161}.gui-dark .gui-button.gui-outline.gui-primary:focus{box-shadow:0 0 0 2px #ce93d8}.gui-dark .gui-button.gui-outline.gui-secondary:focus{box-shadow:0 0 0 2px #80cbc4}.gui-dark .gui-button.gui-primary{background:#ce93d8;color:#212121}.gui-dark .gui-button.gui-primary.gui-outline{color:#ce93d8}.gui-dark .gui-button.gui-primary.gui-button:hover{background:#c680d1}.gui-dark .gui-button.gui-primary.gui-button:active{background:#b55bc4;color:#212121}.gui-dark .gui-button.gui-primary.gui-button:disabled{background:#ce93d8;color:#212121;opacity:.5}.gui-dark .gui-button.gui-primary.gui-badge{background:#dfb8e6}.gui-dark .gui-button.gui-secondary{background:#80cbc4;color:#212121}.gui-dark .gui-button.gui-secondary.gui-outline{color:#80cbc4}.gui-dark .gui-button.gui-secondary.gui-button:hover{background:#6ec4bc}.gui-dark .gui-button.gui-secondary.gui-button:active{background:#26a69a;color:#212121}.gui-dark .gui-button.gui-secondary.gui-button:disabled{background:#80cbc4;color:#212121;opacity:.5}.gui-dark .gui-button.gui-secondary.gui-badge{background:#a4dad5}.gui-dark .gui-button.gui-link{background:transparent;border:0;color:#2185d0}.gui-dark .gui-button.gui-link:hover{background:none;color:#1e77ba;text-decoration:underline}.gui-dark .gui-button.gui-link:focus{text-decoration:underline}.gui-dark .gui-button.gui-outline{background:transparent;color:#bdbdbd;border-color:#616161;border-style:solid;border-width:1px}.gui-dark .gui-button.gui-outline.gui-button:hover{background:#616161;color:#bdbdbd}.gui-dark .gui-button.gui-outline.gui-badge{background:#121212}.gui-dark .gui-button.gui-outline.gui-primary{border-color:#ce93d8}.gui-dark .gui-button.gui-outline.gui-primary.gui-button:hover{background:#ce93d8;border-color:#ce93d8;color:#212121}.gui-dark .gui-button.gui-outline.gui-primary.gui-button:disabled{background:transparent;border-color:#f0def3;color:#f0def3}.gui-dark .gui-button.gui-outline.gui-primary.gui-badge{background:#121212;border-color:#ce93d8;color:#dfb8e6}.gui-dark .gui-button.gui-outline.gui-secondary{border-color:#80cbc4}.gui-dark .gui-button.gui-outline.gui-secondary.gui-button:hover{background:#80cbc4;border-color:#80cbc4;color:#212121}.gui-dark .gui-button.gui-outline.gui-secondary.gui-button:disabled{background:transparent;border-color:#b2ebf2;color:#b2ebf2}.gui-dark .gui-button.gui-outline.gui-secondary.gui-badge{background:#121212;border-color:#80cbc4;color:#80cbc4}.gui-dark .gui-button:hover{background:#616161}.gui-dark .gui-button:active{background:#212121}.gui-dark .gui-button:disabled{opacity:.36}\n",".gui-light .gui-button{background:#f6f5f4;border-color:#d8d7d6;color:#333;font-family:Roboto,Helvetica Neue,sans-serif}.gui-light .gui-button.gui-link{background:transparent;border:0;color:#2185d0}.gui-light .gui-button.gui-link:hover{background:none;color:#1e77ba;text-decoration:underline}.gui-light .gui-button.gui-link:focus{text-decoration:underline}.gui-light .gui-button:hover{background:#ecebeb}.gui-light .gui-button:active{background:#f6f5f4}.gui-light .gui-button:disabled{opacity:.5}\n",".gui-material .gui-button{background:#3949ab;color:#fff;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:500;padding:10px 16px}.gui-material .gui-button.gui-outline:focus{box-shadow:0 0 0 1px #5262c5}.gui-material .gui-button.gui-outline.gui-primary:focus{box-shadow:0 0 0 1px #6200ee}.gui-material .gui-button.gui-outline.gui-secondary:focus{box-shadow:0 0 0 1px #0097a7}.gui-material .gui-button.gui-primary{background:#6200ee;color:#fff}.gui-material .gui-button.gui-primary.gui-outline{color:#6200ee}.gui-material .gui-button.gui-primary.gui-button:hover{background:#974dff}.gui-material .gui-button.gui-primary.gui-button:active{background:#791aff;color:#fff}.gui-material .gui-button.gui-primary.gui-button:disabled{background:#d1c4e9;color:#7d22ff}.gui-material .gui-button.gui-primary.gui-badge{background:#6200ee}.gui-material .gui-button.gui-secondary{background:#0097a7;color:#fff}.gui-material .gui-button.gui-secondary.gui-outline{color:#0097a7}.gui-material .gui-button.gui-secondary.gui-button:hover{background:#00a1b3}.gui-material .gui-button.gui-secondary.gui-button:active{background:#00808e;color:#fff}.gui-material .gui-button.gui-secondary.gui-button:disabled{background:#b2ebf2;color:#00c5da}.gui-material .gui-button.gui-secondary.gui-badge{background:#0097a7}.gui-material .gui-button.gui-link{background:transparent;border:0;color:#3949ab}.gui-material .gui-button.gui-link:hover{color:#4051bf}.gui-material .gui-button.gui-outline{background:transparent;color:#3949ab;border-color:#5262c5}.gui-material .gui-button.gui-outline.gui-button:hover{background:#e8eaf6;color:#3949ab}.gui-material .gui-button.gui-outline.gui-button:active{background:#c5cae9}.gui-material .gui-button.gui-outline.gui-button:disabled{border-color:#c5cae9;color:#c5cae9}.gui-material .gui-button.gui-outline.gui-badge{background:#fff}.gui-material .gui-button.gui-outline.gui-primary{border-color:#6200ee}.gui-material .gui-button.gui-outline.gui-primary.gui-button:hover{background:#ede7f6;border-color:#6200ee;color:#6200ee}.gui-material .gui-button.gui-outline.gui-primary.gui-button:active{background:#d1c4e9}.gui-material .gui-button.gui-outline.gui-primary.gui-button:disabled{background:transparent;border-color:#d1c4e9;color:#d1c4e9}.gui-material .gui-button.gui-outline.gui-primary.gui-badge{background:#fff;border-color:#6200ee;color:#7d22ff}.gui-material .gui-button.gui-outline.gui-secondary{border-color:#0097a7}.gui-material .gui-button.gui-outline.gui-secondary.gui-button:hover{background:#e0f7fa;border-color:#0097a7;color:#0097a7}.gui-material .gui-button.gui-outline.gui-secondary.gui-button:active{background:#b2ebf2}.gui-material .gui-button.gui-outline.gui-secondary.gui-button:disabled{background:transparent;border-color:#b2ebf2;color:#b2ebf2}.gui-material .gui-button.gui-outline.gui-secondary.gui-badge{background:#fff;border-color:#0097a7;color:#0097a7}.gui-material .gui-button:hover{background:#5262c5}.gui-material .gui-button:active{background:#4051bf}.gui-material .gui-button:disabled{background:#c5cae9;color:#7885d2}\n"],encapsulation:2,changeDetection:0}),i})(),Oe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),Oh=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-button-group"]],hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-button-group",!0)},ngContentSelectors:tt,decls:1,vars:0,template:function(e,n){1&e&&(r.NAR(),r.SdG(0))},styles:[".gui-button-group{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gui-button-group .gui-button{border-radius:0}.gui-button-group .gui-button:not(:last-child){border-right:none;margin:0}.gui-button-group .gui-button:last-child{border-radius:0 4px 4px 0}.gui-button-group .gui-button:first-child{border-radius:4px 0 0 4px}.gui-button-group .gui-button-toggle .gui-button{border-radius:0}.gui-button-group .gui-button-toggle:not(:last-child) .gui-button{border-right:none;margin:0}.gui-button-group .gui-button-toggle:last-child .gui-button{border-radius:0 4px 4px 0}.gui-button-group .gui-button-toggle:first-child .gui-button{border-radius:4px 0 0 4px}\n"],encapsulation:2,changeDetection:0}),i})(),Yr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),ja=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),Nt=(()=>{class i{constructor(e,n){this.elementRef=e,this.renderer=n,this.name="",this.inputChecked=!1,this.disabled=!1,this.readonly=!1,this.indeterminate=!1,this.changed=new r.bkB,this.checked=!1}ngOnChanges(e){this.checked=this.inputChecked,e.disabled&&(this.disabled?this.renderer.addClass(this.elementRef.nativeElement,"gui-disabled"):this.renderer.removeClass(this.elementRef.nativeElement,"gui-disabled")),e.readonly&&(this.readonly?this.renderer.addClass(this.elementRef.nativeElement,"gui-readonly"):this.renderer.removeClass(this.elementRef.nativeElement,"gui-readonly")),e.indeterminate&&this.inputRef&&(this.indeterminate?this.inputRef.nativeElement.indeterminate=!0:(this.inputRef.nativeElement.indeterminate=!1,this.inputRef.nativeElement.checked=this.checked))}ngAfterViewInit(){this.inputRef&&(this.inputRef.nativeElement.indeterminate=this.indeterminate)}check(e){e.stopPropagation(),this.checked=!this.checked,this.changed.emit(this.checked)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.sFG))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-checkbox"]],viewQuery:function(e,n){if(1&e&&r.GBs(Qg,5,r.aKT),2&e){let o;r.mGM(o=r.lsd())&&(n.inputRef=o.first)}},hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-checkbox",!0)},inputs:{name:"name",inputChecked:[r.Mj6.None,"checked","inputChecked"],disabled:"disabled",readonly:"readonly",indeterminate:"indeterminate"},outputs:{changed:"changed"},features:[r.OA$],ngContentSelectors:tt,decls:5,vars:3,consts:[["input",""],["type","checkbox",3,"click","checked","disabled"],[1,"gui-checkmark"]],template:function(e,n){if(1&e){const o=r.RV6();r.NAR(),r.j41(0,"label")(1,"input",1,0),r.bIt("click",function(a){return r.eBV(o),r.Njj(n.check(a))}),r.k0s(),r.nrm(3,"span",2),r.SdG(4),r.k0s()}2&e&&(r.R7$(),r.Y8G("checked",n.checked)("disabled",n.disabled),r.BMQ("name",n.name))},styles:['.gui-checkbox{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:24px;padding-left:32px;position:relative}.gui-checkbox label{cursor:pointer}.gui-checkbox label:hover .gui-checkmark{border-color:#999}.gui-checkbox input{height:0;opacity:0;position:absolute;width:0}.gui-checkbox .gui-checkmark{border-color:#575757;border-radius:4px;border-style:solid;border-width:2px;box-sizing:content-box;height:20px;left:0;position:absolute;width:20px}.gui-checkbox input:checked+.gui-checkmark{border-color:#575757}.gui-checkbox.gui-disabled.gui-checkbox{color:#ccc;pointer-events:none}.gui-checkbox.gui-readonly.gui-checkbox{pointer-events:none}.gui-checkbox .gui-checkmark:after{content:" ";display:none;left:6px;position:absolute;-ms-transform:rotate(45deg);transform:rotate(45deg)}.gui-checkbox input:checked+.gui-checkmark:after{box-sizing:content-box;display:block}.gui-checkbox .gui-checkmark:after{border-color:#575757;border-style:solid;border-width:0 3.2px 3.2px 0;height:12px;width:5.2px}.gui-checkbox input:indeterminate+.gui-checkmark:after{display:block;height:10px;left:9px;top:4px;-ms-transform:rotate(90deg);transform:rotate(90deg);width:0}\n',".gui-material .gui-checkbox{font-family:Roboto,Helvetica Neue,sans-serif}.gui-material .gui-checkbox input:focus+.gui-checkmark{border-color:#3949ab}.gui-material .gui-checkbox label:hover .gui-checkmark{border-color:#575757}.gui-material .gui-checkbox .gui-checkmark{border-color:#999}.gui-material .gui-checkbox input:checked+.gui-checkmark{background:#3949ab;border-color:#3949ab}.gui-material .gui-checkbox .gui-checkmark:after{border-color:#fff}.gui-material .gui-checkbox.gui-indeterminate .gui-checkmark{background:#3949ab;border-color:#3949ab}\n",".gui-dark .gui-checkbox{color:#bdbdbd}.gui-dark .gui-checkbox .gui-checkmark{border-color:#878787}.gui-dark .gui-checkbox input:checked+.gui-checkmark{border-color:#878787}.gui-dark .gui-checkbox .gui-checkmark:after{border-color:#878787}.gui-dark .gui-checkbox.gui-disabled.gui-checkbox{opacity:.36}\n"],encapsulation:2,changeDetection:0}),i})(),yt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),Xa=(()=>{class i extends $a{constructor(e,n){super(e,n)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.sFG))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-chip"]],hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-chip",!0)},features:[r.Vt3],ngContentSelectors:tt,decls:1,vars:0,template:function(e,n){1&e&&(r.NAR(),r.SdG(0))},styles:[".gui-chip{background:#e6e6e6;border-radius:4px;box-sizing:border-box;color:#595959;display:inline-block;font-family:Arial;font-size:14px;font-weight:700;margin:0 2px;padding:9.6px 12px}.gui-chip.gui-primary{background:#2185d0;color:#fff}.gui-chip.gui-primary.gui-outline{color:#2185d0}.gui-chip.gui-primary:hover:not(.gui-chip,.gui-badge){background:#1e77ba}.gui-chip.gui-primary:active{background:#1a69a4;color:#fff}.gui-chip.gui-primary:disabled{background:#6fb4e8;color:#439de1}.gui-chip.gui-primary.gui-badge{background:#439de1}.gui-chip.gui-secondary{background:#3cb371;color:#fff}.gui-chip.gui-secondary.gui-outline{color:#3cb371}.gui-chip.gui-secondary.gui-button:hover{background:#36a065}.gui-chip.gui-secondary.gui-button:active{background:#32945e;color:#fff}.gui-chip.gui-secondary.gui-button:disabled{background:#80d5a6;color:#5ac88b}.gui-chip.gui-secondary.gui-badge{background:#5ac88b}.gui-chip.gui-outline{background:transparent;color:#999;border-color:#d6d6d6;border-style:solid;border-width:1px}.gui-chip.gui-outline.gui-button:hover{background:#cccccc;color:#fff}.gui-chip.gui-outline.gui-button:disabled{border-color:#ccc;color:#ccc}.gui-chip.gui-outline.gui-badge{background:#fff}.gui-chip.gui-outline.gui-primary{border-color:#439de1}.gui-chip.gui-outline.gui-primary.gui-button:hover{background:#2185d0;border-color:#2185d0}.gui-chip.gui-outline.gui-primary.gui-button:disabled{background:transparent;border-color:#6fb4e8;color:#6fb4e8}.gui-chip.gui-outline.gui-primary.gui-badge{background:#fff;border-color:#439de1;color:#439de1}.gui-chip.gui-outline.gui-secondary{border-color:#5ac88b}.gui-chip.gui-outline.gui-secondary.gui-button:hover{background:#3cb371;border-color:#3cb371}.gui-chip.gui-outline.gui-secondary.gui-button:disabled{background:transparent;border-color:#80d5a6;color:#80d5a6}.gui-chip.gui-outline.gui-secondary.gui-badge{background:#fff;border-color:#5ac88b;color:#5ac88b}\n",".gui-material .gui-chip{background:#3949ab;color:#fff;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:500;padding:10px 16px}.gui-material .gui-chip.gui-primary{background:#6200ee;color:#fff}.gui-material .gui-chip.gui-primary.gui-outline{color:#6200ee}.gui-material .gui-chip.gui-primary.gui-button:hover{background:#974dff}.gui-material .gui-chip.gui-primary.gui-button:active{background:#791aff;color:#fff}.gui-material .gui-chip.gui-primary.gui-button:disabled{background:#d1c4e9;color:#7d22ff}.gui-material .gui-chip.gui-primary.gui-badge{background:#6200ee}.gui-material .gui-chip.gui-secondary{background:#0097a7;color:#fff}.gui-material .gui-chip.gui-secondary.gui-outline{color:#0097a7}.gui-material .gui-chip.gui-secondary.gui-button:hover{background:#00a1b3}.gui-material .gui-chip.gui-secondary.gui-button:active{background:#00808e;color:#fff}.gui-material .gui-chip.gui-secondary.gui-button:disabled{background:#b2ebf2;color:#00c5da}.gui-material .gui-chip.gui-secondary.gui-badge{background:#0097a7}.gui-material .gui-chip.gui-outline{background:transparent;color:#3949ab;border-color:#5262c5}.gui-material .gui-chip.gui-outline.gui-button:hover{background:#e8eaf6;color:#3949ab}.gui-material .gui-chip.gui-outline.gui-button:active{background:#c5cae9}.gui-material .gui-chip.gui-outline.gui-button:disabled{border-color:#c5cae9;color:#c5cae9}.gui-material .gui-chip.gui-outline.gui-badge{background:#fff}.gui-material .gui-chip.gui-outline.gui-primary{border-color:#6200ee}.gui-material .gui-chip.gui-outline.gui-primary.gui-button:hover{background:#ede7f6;border-color:#6200ee;color:#6200ee}.gui-material .gui-chip.gui-outline.gui-primary.gui-button:active{background:#d1c4e9}.gui-material .gui-chip.gui-outline.gui-primary.gui-button:disabled{background:transparent;border-color:#d1c4e9;color:#d1c4e9}.gui-material .gui-chip.gui-outline.gui-primary.gui-badge{background:#fff;border-color:#6200ee;color:#7d22ff}.gui-material .gui-chip.gui-outline.gui-secondary{border-color:#0097a7}.gui-material .gui-chip.gui-outline.gui-secondary.gui-button:hover{background:#e0f7fa;border-color:#0097a7;color:#0097a7}.gui-material .gui-chip.gui-outline.gui-secondary.gui-button:active{background:#b2ebf2}.gui-material .gui-chip.gui-outline.gui-secondary.gui-button:disabled{background:transparent;border-color:#b2ebf2;color:#b2ebf2}.gui-material .gui-chip.gui-outline.gui-secondary.gui-badge{background:#fff;border-color:#0097a7;color:#0097a7}\n",".gui-dark .gui-chip{background:#333;color:#bdbdbd}.gui-dark .gui-chip.gui-primary{background:#ce93d8;color:#212121}.gui-dark .gui-chip.gui-primary.gui-outline{color:#ce93d8}.gui-dark .gui-chip.gui-primary.gui-button:hover{background:#c680d1}.gui-dark .gui-chip.gui-primary.gui-button:active{background:#b55bc4;color:#212121}.gui-dark .gui-chip.gui-primary.gui-button:disabled{background:#ce93d8;color:#212121;opacity:.5}.gui-dark .gui-chip.gui-primary.gui-badge{background:#dfb8e6}.gui-dark .gui-chip.gui-secondary{background:#80cbc4;color:#212121}.gui-dark .gui-chip.gui-secondary.gui-outline{color:#80cbc4}.gui-dark .gui-chip.gui-secondary.gui-button:hover{background:#6ec4bc}.gui-dark .gui-chip.gui-secondary.gui-button:active{background:#26a69a;color:#212121}.gui-dark .gui-chip.gui-secondary.gui-button:disabled{background:#80cbc4;color:#212121;opacity:.5}.gui-dark .gui-chip.gui-secondary.gui-badge{background:#a4dad5}.gui-dark .gui-chip.gui-outline{background:transparent;color:#bdbdbd;border-color:#616161;border-style:solid;border-width:1px}.gui-dark .gui-chip.gui-outline.gui-button:hover{background:#616161;color:#bdbdbd}.gui-dark .gui-chip.gui-outline.gui-badge{background:#121212}.gui-dark .gui-chip.gui-outline.gui-primary{border-color:#ce93d8}.gui-dark .gui-chip.gui-outline.gui-primary.gui-button:hover{background:#ce93d8;border-color:#ce93d8;color:#212121}.gui-dark .gui-chip.gui-outline.gui-primary.gui-button:disabled{background:transparent;border-color:#f0def3;color:#f0def3}.gui-dark .gui-chip.gui-outline.gui-primary.gui-badge{background:#121212;border-color:#ce93d8;color:#dfb8e6}.gui-dark .gui-chip.gui-outline.gui-secondary{border-color:#80cbc4}.gui-dark .gui-chip.gui-outline.gui-secondary.gui-button:hover{background:#80cbc4;border-color:#80cbc4;color:#212121}.gui-dark .gui-chip.gui-outline.gui-secondary.gui-button:disabled{background:transparent;border-color:#b2ebf2;color:#b2ebf2}.gui-dark .gui-chip.gui-outline.gui-secondary.gui-badge{background:#121212;border-color:#80cbc4;color:#80cbc4}\n",".gui-light .gui-chip{background:#f6f5f4;border-color:#333;border-style:solid;border-width:1px;color:#333}\n"],encapsulation:2,changeDetection:0}),i})(),Bt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),nt=(()=>{class i{constructor(){this.unsubscribe$=new Ve.B}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.unsubscribe$.isStopped||(this.unsubscribe$.next(),this.unsubscribe$.complete())}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=r.FsC({type:i}),i})();var q=function(i){return i[i.DAYS=0]="DAYS",i[i.MONTHS=1]="MONTHS",i[i.YEARS=2]="YEARS",i}(q||{}),Q=function(i){return i[i.NONE=0]="NONE",i[i.DATE_PICKER=1]="DATE_PICKER",i[i.TIME_PICKER=2]="TIME_PICKER",i[i.TIME_PICKER_HOURS=4]="TIME_PICKER_HOURS",i[i.TIME_PICKER_MINUTES=8]="TIME_PICKER_MINUTES",i[i.TIME_PICKER_SECONDS=16]="TIME_PICKER_SECONDS",i[i.TIME_PICKER_MERIDIAN=32]="TIME_PICKER_MERIDIAN",i[i.ALL=63]="ALL",i}(Q||{});const oo=(new Date).getMonth(),so=(new Date).getFullYear();let Pi=(()=>{class i{constructor(){this.selectedDate=new Date,this.selectedDate$=new zr.t(this.selectedDate)}observeSelectedDate(){return this.selectedDate$.asObservable()}dateSelected(e){this.selectedDate=new Date(e.getTime()),this.setSelectedDateTime(),this.selectedDate$.next(this.selectedDate)}changeTime(e,n){this.selectedTime=e,this.selectedDate||(this.selectedDate=n),this.setSelectedDateTime()}next(){this.dateSelected(this.selectedDate)}setSelectedDateTime(){this.selectedTime&&(this.selectedDate.setHours(this.selectedTime.hours),this.selectedDate.setMinutes(this.selectedTime.minutes),this.selectedDate.setSeconds(this.selectedTime.seconds))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),ao=(()=>{class i{constructor(){this.datePickerFormat$=new zr.t(Q.DATE_PICKER)}onComposition(){return this.datePickerFormat$.asObservable()}next(e){this.datePickerFormat$.next(this.getComposition(e))}getComposition(e){const c=e.split(":").join(" ").split("/").join(" ").split(".").join(" ").split(",").join(" ").split(" ");let u=Q.NONE;return c.forEach(g=>{const p=g.toLowerCase().includes("d"),b=g.includes("M"),E=g.toLowerCase().includes("y"),P=g.toLowerCase().includes("h"),U=g.includes("m"),V=g.toLowerCase().includes("s"),C=g.includes("h");(p||b||E)&&(u|=Q.DATE_PICKER),(P||U||V)&&(u|=Q.TIME_PICKER),C&&(u|=Q.TIME_PICKER_MERIDIAN),P&&(u|=Q.TIME_PICKER_HOURS),U&&(u|=Q.TIME_PICKER_MINUTES),V&&(u|=Q.TIME_PICKER_SECONDS)}),u}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),La=(()=>{class i{constructor(){this.weeks=[]}getDaysInMonths(e,n){this.resetWeeks();const o=new Date(e,n+1,0).getDate();for(let s=1;s<=o;s++)this.createWeeks(new Date(e,n,s));return this.weeks}createWeeks(e){const n=e.getDate();for(let s=0;s<6;s++)1===n?this.addDaysToWeek(s,e):this.canAddDaysToWeek(s,n)&&this.addDaysToWeek(s,this.getLastDayDate(this.weeks[s-1]));this.weeks=[this.weeks[0],this.weeks[1],this.weeks[2],this.weeks[3],this.weeks[4],this.weeks[5]]}addDaysToWeek(e,n){const o=this.weeks[e];for(let s=1;s<=7;s++){let c;c=0===n.getDay()&&0===this.weeks[0].length?n.getDate()-6:n.getDate()-n.getDay()+s;const u=new Date(n.setDate(c));o.length<7&&o.push(u)}}getLastDayNumber(e){return 7===e.length?e[e.length-1].getDate():0}getLastDayDate(e){const n=e[e.length-1].getDate();return new Date(e[e.length-1].setDate(n))}canAddDaysToWeek(e,n){return 0===this.weeks[e].length&&7===this.weeks[e-1].length&&n>this.getLastDayNumber(this.weeks[e-1])}resetWeeks(){this.weeks=[],this.weeks[0]=[],this.weeks[1]=[],this.weeks[2]=[],this.weeks[3]=[],this.weeks[4]=[],this.weeks[5]=[]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),co=(()=>{class i{constructor(){this.rowsForDisplay=[],this.minYear=0,this.maxYear=0,this.selectedYear=0,this.inc=10}getYears(e){this.minYear=e-50,this.maxYear=e+50;let o=[],s=[];return o=this.createYearsPool(this.minYear,this.maxYear-this.minYear,o),s=this.divideYearsPool(o,s),this.rowsForDisplay=this.createRowsForDisplay(s,e)}prevYearRange(e){return this.selectedYear||(this.selectedYear=e),this.selectedYear>this.minYear&&(this.selectedYear-=this.inc),this.selectedYear>this.minYear?this.getYears(this.selectedYear):this.rowsForDisplay}nextYearRange(e){return this.selectedYear||(this.selectedYear=e),this.selectedYear<this.maxYear&&(this.selectedYear+=this.inc),this.selectedYear<this.maxYear?this.getYears(this.selectedYear):this.rowsForDisplay}createYearsPool(e,n,o){for(let s=0;s<=n;s++)o.push(e+s);return o}divideYearsPool(e,n){for(let o=0;o<e.length;o+=5)n.push(e.slice(o,o+5));return n}createRowsForDisplay(e,n){if(n>=this.minYear||n<=this.maxYear)for(let o=0;o<e.length;o++)if(e[o].indexOf(n)>-1)return e[o-1]?e[o-2]?e[o+1]?e[o+2]?this.rowsForDisplay=[e[o-2],e[o-1],e[o],e[o+1],e[o+2]]:[e[o-3],e[o-2],e[o-1],e[o],e[o+1]]:[e[o-4],e[o-3],e[o-2],e[o-1],e[o]]:[e[o-1],e[o],e[o+1],e[o+2],e[o+3]]:[e[o],e[o+1],e[o+2],e[o+3],e[o+4]];return[[]]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),uo=(()=>{class i{constructor(){this.years$=new Ve.B}onYears(){return this.years$.asObservable()}next(e){this.years$.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),Gi=(()=>{class i{constructor(){this.activeMonth$=new Ve.B,this.activeYear$=new Ve.B}onActiveMonth(){return this.activeMonth$.asObservable()}onActiveYear(){return this.activeYear$.asObservable()}nextMonth(e,n){11===n?(this.activeYear$.next(e+1),this.selectMonth(0)):this.selectMonth(n+1)}prevMonth(e,n){0===n?(this.activeYear$.next(e-1),this.selectMonth(11)):this.selectMonth(n-1)}selectYear(e){this.activeYear$.next(e)}selectMonth(e){this.activeMonth$.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),Vi=(()=>{class i{constructor(){this.activeView$=new Ve.B}onActiveView(){return this.activeView$.asObservable()}switchView(e){this.activeView$.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();const Nh=["Mo","Tu","We","Th","Fr","Sa","Su"];class lo{static areDatesSame(t,e){return t&&e&&t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}static isMonth(t,e,n){return t.getMonth()===e&&t.getFullYear()===n}}let Bh=(()=>{class i{constructor(e){this.datePickerService=e,this.activeMonth=oo,this.weeks=[],this.daysOfTheWeek=Nh,this.currentDay=new Date}selectDate(e){this.datePickerService.dateSelected(e)}isDate(e,n){return lo.areDatesSame(e,n)}displayMonthDays(e){return e===this.activeMonth}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(Pi))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-date-picker-days-view"]],inputs:{selectedDate:"selectedDate",activeMonth:"activeMonth",weeks:"weeks"},decls:4,vars:2,consts:[[1,"gui-display-grid","gui-grid-rows-gap-8","gui-py-6"],[1,"gui-display-grid","gui-grid-cols-7","gui-py-4","gui-date-picker-header"],[4,"ngFor","ngForOf"],["class","gui-display-grid gui-grid-cols-7",4,"ngFor","ngForOf"],[1,"gui-display-grid","gui-grid-cols-7"],["class","gui-date-picker-cell gui-date-picker-day",3,"gui-date-picker-current-day","gui-date-picker-selected-day","gui-date-picker-selected-month","click",4,"ngFor","ngForOf"],[1,"gui-date-picker-cell","gui-date-picker-day",3,"click"]],template:function(e,n){1&e&&(r.j41(0,"div",0)(1,"div",1),r.DNE(2,Jg,2,1,"div",2),r.k0s(),r.DNE(3,eh,2,1,"div",3),r.k0s()),2&e&&(r.R7$(2),r.Y8G("ngForOf",n.daysOfTheWeek),r.R7$(),r.Y8G("ngForOf",n.weeks))},dependencies:[l.Sq],encapsulation:2,changeDetection:0}),i})();const Hh=[[{nr:0,name:"Jan"},{nr:1,name:"Feb"},{nr:2,name:"Mar"}],[{nr:3,name:"Apr"},{nr:4,name:"May"},{nr:5,name:"Jun"}],[{nr:6,name:"Jul"},{nr:7,name:"Aug"},{nr:8,name:"Sep"}],[{nr:9,name:"Oct"},{nr:10,name:"Nov"},{nr:11,name:"Dec"}]];let Uh=(()=>{class i{constructor(e,n){this.calendarService=e,this.calendarViewService=n,this.activeYear=so,this.currentDay=new Date,this.monthsPerQuarters=Hh}isMonth(e,n){return lo.isMonth(e,n,this.activeYear)}selectMonth(e){this.calendarService.selectMonth(e),this.calendarViewService.switchView(q.DAYS)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(Gi),r.rXU(Vi))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-date-picker-months-view"]],inputs:{selectedDate:"selectedDate",activeYear:"activeYear"},decls:2,vars:1,consts:[[1,"gui-display-grid","gui-grid-rows-gap-8","gui-py-6","gui-date-picker-view-border-top"],["class","gui-display-grid gui-grid-cols-3",4,"ngFor","ngForOf"],[1,"gui-display-grid","gui-grid-cols-3"],["class","gui-date-picker-cell gui-date-picker-month",3,"gui-date-picker-current-month","gui-date-picker-selected-month","click",4,"ngFor","ngForOf"],[1,"gui-date-picker-cell","gui-date-picker-month",3,"click"]],template:function(e,n){1&e&&(r.j41(0,"div",0),r.DNE(1,ih,2,1,"div",1),r.k0s()),2&e&&(r.R7$(),r.Y8G("ngForOf",n.monthsPerQuarters))},dependencies:[l.Sq],encapsulation:2,changeDetection:0}),i})(),$h=(()=>{class i{constructor(e,n){this.calendarService=e,this.calendarViewService=n,this.years=[],this.currentDay=new Date}selectYear(e){this.calendarService.selectYear(e),this.calendarViewService.switchView(q.MONTHS)}isYear(e,n){return!!e&&e.getFullYear()===n}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(Gi),r.rXU(Vi))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-date-picker-years-view"]],inputs:{selectedDate:"selectedDate",years:"years"},decls:2,vars:1,consts:[[1,"gui-display-grid","gui-grid-rows-gap-8","gui-py-6","gui-date-picker-view-border-top"],["class","gui-display-grid gui-grid-cols-5",4,"ngFor","ngForOf"],[1,"gui-display-grid","gui-grid-cols-5"],["class","gui-date-picker-cell gui-date-picker-year",3,"gui-date-picker-current-year","gui-date-picker-selected-year","click",4,"ngFor","ngForOf"],[1,"gui-date-picker-cell","gui-date-picker-year",3,"click"]],template:function(e,n){1&e&&(r.j41(0,"div",0),r.DNE(1,nh,2,1,"div",1),r.k0s()),2&e&&(r.R7$(),r.Y8G("ngForOf",n.years))},dependencies:[l.Sq],encapsulation:2,changeDetection:0}),i})();var go=function(i){return i[i.NEXT=0]="NEXT",i[i.PREV=1]="PREV",i}(go||{}),ot=function(i){return i[i.TOP=-90]="TOP",i[i.BOTTOM=90]="BOTTOM",i[i.LEFT=180]="LEFT",i[i.RIGHT=0]="RIGHT",i}(ot||{});const za=["January","February","March","April","May","June","July","August","September","October","November","December"];let Kr=(()=>{class i{constructor(){this.direction=ot.RIGHT}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-arrow-icon"]],hostVars:4,hostBindings:function(e,n){2&e&&r.AVh("gui-arrow-icon",!0)("gui-icon",!0)},inputs:{direction:"direction"},decls:2,vars:2,consts:[["height","10.661","viewBox","0 0 6.081 10.661","width","6.081","xmlns","http://www.w3.org/2000/svg"],["d","M.75.75,5.02,5.02.75,9.29","fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","transform","translate(0.311 0.311)"]],template:function(e,n){1&e&&(r.qSk(),r.j41(0,"svg",0),r.nrm(1,"path",1),r.k0s()),2&e&&r.xc7("transform","rotate("+n.direction+"deg)")},styles:[".gui-arrow-icon{cursor:pointer}.gui-arrow-icon svg path{stroke:#aaa;transition:stroke .2s ease-in-out}.gui-arrow-icon:hover svg path{stroke:#464646}\n"],encapsulation:2,changeDetection:0}),i})(),jh=(()=>{class i{constructor(e,n,o,s){this.calendarViewService=e,this.calendarService=n,this.datePickerYearsService=o,this.datePickerYears=s,this.fabricCalendarView=q.DAYS,this.activeMonth=oo,this.activeYear=so,this.years=[],this.Direction=ot,this.FabricCalendarCardView=go}getDisplayedDate(){switch(this.fabricCalendarView){case q.DAYS:case q.MONTHS:return`${za[this.activeMonth]} ${this.activeYear}`;case q.YEARS:return`${this.getDisplayedYearRange()}`;default:return""}}switchCalendarView(){switch(this.fabricCalendarView){case q.DAYS:this.calendarViewService.switchView(q.YEARS);break;case q.MONTHS:case q.YEARS:this.calendarViewService.switchView(q.DAYS)}}switchCard(e){const n=e===go.NEXT,s=this.activeYear+(n?1:-1),a=n?this.datePickerYears.nextYearRange(this.activeYear):this.datePickerYears.prevYearRange(this.activeYear);switch(this.fabricCalendarView){case q.DAYS:this.handleMonthChange(n);break;case q.MONTHS:this.calendarService.selectYear(s);break;case q.YEARS:this.datePickerYearsService.next(a)}}getDisplayedYearRange(){return this.years[0][0].toString()+"-"+this.years[4][this.years[4].length-1].toString()}handleMonthChange(e){e?this.calendarService.nextMonth(this.activeYear,this.activeMonth):this.calendarService.prevMonth(this.activeYear,this.activeMonth)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(Vi),r.rXU(Gi),r.rXU(uo),r.rXU(co))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-date-picker-view-panel"]],inputs:{fabricCalendarView:"fabricCalendarView",selectedDate:"selectedDate",activeMonth:"activeMonth",activeYear:"activeYear",years:"years"},decls:6,vars:3,consts:[[1,"gui-date-picker-view-panel"],[1,"gui-date-picker-view-panel-date",3,"click"],[1,"gui-date-picker-arrows"],[1,"gui-date-picker-arrow",3,"click","direction"]],template:function(e,n){1&e&&(r.j41(0,"div",0)(1,"div",1),r.bIt("click",function(){return n.switchCalendarView()}),r.EFF(2),r.k0s(),r.j41(3,"div",2)(4,"gui-arrow-icon",3),r.bIt("click",function(){return n.switchCard(n.FabricCalendarCardView.PREV)}),r.k0s(),r.j41(5,"gui-arrow-icon",3),r.bIt("click",function(){return n.switchCard(n.FabricCalendarCardView.NEXT)}),r.k0s()()()),2&e&&(r.R7$(2),r.SpI(" ",n.getDisplayedDate()," "),r.R7$(2),r.Y8G("direction",n.Direction.LEFT),r.R7$(),r.Y8G("direction",n.Direction.RIGHT))},dependencies:[Kr],encapsulation:2,changeDetection:0}),i})();class Xh{constructor(t,e,n){this.hours=t,this.minutes=e,this.seconds=n}}let ho=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.VBU({type:i,selectors:[["input","gui-input",""]],hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-input",!0)},attrs:oh,decls:0,vars:0,template:function(e,n){},styles:[".gui-input{background:#fff;border-color:#d6d6d6;border-radius:4px;border-style:solid;border-width:1px;color:#333;font:14px Arial;margin:0;max-width:100%;outline:0;padding:8px 12px;text-align:left;transition:border-color .3s ease-in-out}.gui-input:hover{border-color:#999}.gui-input:focus{border-color:#6fb4e8}.gui-input:disabled{color:#ccc;cursor:default;pointer-events:none}.gui-input:disabled::-moz-placeholder{color:#ccc}.gui-input:disabled:-ms-input-placeholder{color:#ccc}.gui-input:disabled::placeholder{color:#ccc}\n",".gui-material .gui-input{border-color:#ccc;border-radius:0;border-style:solid;border-width:0 0 1px 0;font-family:Roboto,Helvetica Neue,sans-serif;padding-left:0;transition:border-color .3s ease-in-out}.gui-material .gui-input:not(:-moz-placeholder-shown){border-color:#6200ee}.gui-material .gui-input:not(:-ms-input-placeholder){border-color:#6200ee}.gui-material .gui-input:not(:placeholder-shown){border-color:#6200ee}.gui-material .gui-input:focus{border-color:#6200ee}\n",".gui-dark .gui-input{background:#424242;border-color:#616161;color:#bdbdbd}.gui-dark .gui-input:hover{border-color:#757575}.gui-dark .gui-input:focus{border-color:#ce93d8}.gui-dark .gui-input:disabled{opacity:.36}\n"],encapsulation:2,changeDetection:0}),i})(),Lh=(()=>{class i extends nt{constructor(e,n){super(),this.formBuilder=e,this.datePickerService=n,this.datePickerComposition=Q.NONE,this.steps=1,this.Direction=ot,this.FabricDatePickerComposition=Q,this.form=this.formBuilder.group({hours:[""],minutes:[""],seconds:[""]})}ngOnChanges(e){}ngOnInit(){this.isActive(this.datePickerComposition,Q.TIME_PICKER_HOURS)&&this.form.controls.hours.valueChanges.pipe((0,I.Q)(this.unsubscribe$)).subscribe(n=>{const o=this.isMeridian()?1:0;(n>(this.isMeridian()?12:23)||n<o)&&this.form.controls.hours.setValue(o),this.changeSelectedDate()}),this.isActive(this.datePickerComposition,Q.TIME_PICKER_MINUTES)&&this.form.controls.minutes.valueChanges.pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.controlFormItemValue(e,"minutes","hours"),this.changeSelectedDate()}),this.isActive(this.datePickerComposition,Q.TIME_PICKER_SECONDS)&&this.form.controls.seconds.valueChanges.pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.controlFormItemValue(e,"seconds","minutes"),this.changeSelectedDate()}),this.setTimeFromSelectedDate()}changeTimeItem(e,n){this.form.controls[e].setValue(this.form.controls[e].value+n)}changeSelectedDateTime(){this.datePickerService.next()}isActive(e,n){return!!(e&n)}isMeridian(){return this.isActive(this.datePickerComposition,Q.TIME_PICKER_MERIDIAN)}isOnlyTimePicker(){return!(this.datePickerComposition&Q.DATE_PICKER)}changeSelectedDate(){if(this.selectedDate){const s=new Xh(this.form.controls.hours.value,this.form.controls.minutes.value,this.form.controls.seconds.value);this.datePickerService.changeTime(s,this.selectedDate)}}controlFormItemValue(e,n,o){e>59?(this.form.controls[o].setValue(this.form.controls[o].value+1),this.form.controls[n].setValue(0)):e<0&&this.form.controls[n].setValue(0)}setTimeFromSelectedDate(){if(this.selectedDate){const e=this.selectedDate.getHours(),n=this.selectedDate.getMinutes(),o=this.selectedDate.getSeconds();this.form.controls.hours.setValue(e),this.form.controls.minutes.setValue(n),this.form.controls.seconds.setValue(o)}}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(y.ok),r.rXU(Pi))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-time-picker"]],hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("only-time-picker",n.isOnlyTimePicker())},inputs:{selectedDate:"selectedDate",datePickerComposition:"datePickerComposition"},features:[r.Vt3,r.OA$],decls:7,vars:5,consts:[[3,"formGroup"],["class","gui-time-picker-item",4,"ngIf"],[1,"gui-time-picker-button-wrapper",3,"click"],["gui-button","",3,"outline"],[1,"gui-time-picker-item"],[1,"gui-date-picker-arrow",3,"click","direction"],["formControlName","hours","gui-input","","maxlength","2"],["formControlName","minutes","gui-input","","maxlength","2","type","number"],["formControlName","seconds","gui-input","","maxlength","2","type","number"]],template:function(e,n){1&e&&(r.j41(0,"form",0),r.DNE(1,sh,4,2,"div",1)(2,ah,4,2,"div",1)(3,ch,4,2,"div",1),r.k0s(),r.j41(4,"div",2),r.bIt("click",function(){return n.changeSelectedDateTime()}),r.j41(5,"button",3),r.EFF(6," Ok "),r.k0s()()),2&e&&(r.Y8G("formGroup",n.form),r.R7$(),r.Y8G("ngIf",n.isActive(n.datePickerComposition,n.FabricDatePickerComposition.TIME_PICKER_HOURS)),r.R7$(),r.Y8G("ngIf",n.isActive(n.datePickerComposition,n.FabricDatePickerComposition.TIME_PICKER_MINUTES)),r.R7$(),r.Y8G("ngIf",n.isActive(n.datePickerComposition,n.FabricDatePickerComposition.TIME_PICKER_SECONDS)),r.R7$(2),r.Y8G("outline",!0))},dependencies:[l.bT,y.qT,y.me,y.Q0,y.BC,y.cb,y.tU,y.j4,y.JD,ho,rt,Kr],encapsulation:2,changeDetection:0}),i})(),zh=(()=>{class i extends nt{constructor(e,n,o,s,a,c,u,g){super(),this.datePickerService=e,this.datePickerFormatService=n,this.datePickerWeeks=o,this.datePickerYears=s,this.datePickerYearsService=a,this.calendarService=c,this.calendarViewService=u,this.changeDetectorRef=g,this.weeks=[],this.years=[],this.activeMonth=oo,this.activeYear=so,this.datePickerComposition=Q.NONE,this.FabricDatePickerComposition=Q,this.FabricCalendarView=q,this.fabricCalendarView=q.DAYS}ngOnInit(){this.datePickerFormatService.onComposition().pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.datePickerComposition=e}),this.calendarService.onActiveMonth().pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.activeMonth=e,this.calculateDatePickerData(),this.changeDetectorRef.detectChanges()}),this.calendarService.onActiveYear().pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.activeYear=e,this.calculateDatePickerData(),this.changeDetectorRef.detectChanges()}),this.datePickerService.observeSelectedDate().pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.selectedDate=e,this.activeYear=e.getFullYear(),this.activeMonth=e.getMonth()}),this.datePickerYearsService.onYears().pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.years=e,this.changeDetectorRef.detectChanges()}),this.calendarViewService.onActiveView().pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.fabricCalendarView=e,this.changeDetectorRef.detectChanges()}),this.calculateDatePickerData()}getCalendarView(){return event&&event.stopPropagation(),this.fabricCalendarView}isVisible(e,n){return!!(e&n)}calculateDatePickerData(){this.weeks=this.datePickerWeeks.getDaysInMonths(this.activeYear,this.activeMonth),this.years=this.datePickerYears.getYears(this.activeYear)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(Pi),r.rXU(ao),r.rXU(La),r.rXU(co),r.rXU(uo),r.rXU(Gi),r.rXU(Vi),r.rXU(r.gRc))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-date-picker-toggle"]],hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-date-picker-calendar",!0)},features:[r.Vt3],decls:2,vars:2,consts:[[4,"ngIf"],[3,"datePickerComposition","selectedDate",4,"ngIf"],[3,"activeMonth","activeYear","fabricCalendarView","selectedDate","years"],[3,"ngSwitch"],[3,"activeMonth","selectedDate","weeks",4,"ngSwitchCase"],[3,"activeYear","selectedDate",4,"ngSwitchCase"],[3,"selectedDate","years",4,"ngSwitchCase"],[3,"activeMonth","selectedDate","weeks"],[3,"activeYear","selectedDate"],[3,"selectedDate","years"],[3,"datePickerComposition","selectedDate"]],template:function(e,n){1&e&&r.DNE(0,gh,6,9,"ng-container",0)(1,hh,1,2,"gui-time-picker",1),2&e&&(r.Y8G("ngIf",n.isVisible(n.datePickerComposition,n.FabricDatePickerComposition.DATE_PICKER)),r.R7$(),r.Y8G("ngIf",n.isVisible(n.datePickerComposition,n.FabricDatePickerComposition.TIME_PICKER)))},dependencies:[l.bT,l.ux,l.e1,Bh,Uh,$h,jh,Lh],styles:['.gui-box-border{box-sizing:border-box}.gui-bg-transparent{background-color:transparent}.gui-border{border-width:1px}.gui-border-0{border-width:0}.gui-border-b{border-bottom-width:1px}.gui-border-t{border-top-width:1px}.gui-border-solid{border-style:solid}.gui-border-b-solid{border-bottom-style:solid}.gui-border-t-solid{border-top-style:solid}.gui-border-none{border-style:none}.gui-rounded{border-radius:4px}.gui-cursor-pointer{cursor:pointer}.gui-block{display:block}.gui-inline-block{display:inline-block}.gui-inline{display:inline}.gui-flex{display:-ms-flexbox;display:flex}.gui-hidden{display:none}.gui-display-grid{display:grid}.gui-flex-row{-ms-flex-direction:row;flex-direction:row}.gui-flex-row-reverse{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.gui-flex-col{-ms-flex-direction:column;flex-direction:column}.gui-flex-col-reverse{-ms-flex-direction:column-reverse;flex-direction:column-reverse}.gui-justify-start{-ms-flex-pack:start;justify-content:flex-start}.gui-justify-end{-ms-flex-pack:end;justify-content:flex-end}.gui-justify-center{-ms-flex-pack:center;justify-content:center}.gui-justify-between{-ms-flex-pack:justify;justify-content:space-between}.gui-justify-around{-ms-flex-pack:distribute;justify-content:space-around}.gui-justify-evenly{-ms-flex-pack:space-evenly;justify-content:space-evenly}.gui-items-start{-ms-flex-align:start;align-items:flex-start}.gui-items-end{-ms-flex-align:end;align-items:flex-end}.gui-items-center{-ms-flex-align:center;align-items:center}.gui-items-between{-ms-flex-align:space-between;align-items:space-between}.gui-items-around{-ms-flex-align:space-around;align-items:space-around}.gui-items-evenly{-ms-flex-align:space-evenly;align-items:space-evenly}.gui-flex-wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.gui-flex-wrap-reverse{-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse}.gui-flex-nowrap{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.gui-grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.gui-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.gui-grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.gui-grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.gui-grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.gui-grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.gui-grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}.gui-grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}.gui-grid-cols-9{grid-template-columns:repeat(9,minmax(0,1fr))}.gui-grid-rows-1{grid-template-rows:repeat(1,minmax(0,1fr))}.gui-grid-rows-2{grid-template-rows:repeat(2,minmax(0,1fr))}.gui-grid-rows-3{grid-template-rows:repeat(3,minmax(0,1fr))}.gui-grid-rows-4{grid-template-rows:repeat(4,minmax(0,1fr))}.gui-grid-rows-5{grid-template-rows:repeat(5,minmax(0,1fr))}.gui-grid-rows-6{grid-template-rows:repeat(6,minmax(0,1fr))}.gui-grid-rows-7{grid-template-rows:repeat(7,minmax(0,1fr))}.gui-grid-rows-8{grid-template-rows:repeat(8,minmax(0,1fr))}.gui-grid-rows-9{grid-template-rows:repeat(9,minmax(0,1fr))}.gui-grid-rows-gap-0{grid-row-gap:0}.gui-grid-rows-gap-1{grid-row-gap:1px}.gui-grid-rows-gap-2{grid-row-gap:2px}.gui-grid-rows-gap-3{grid-row-gap:3px}.gui-grid-rows-gap-4{grid-row-gap:4px}.gui-grid-rows-gap-5{grid-row-gap:6px}.gui-grid-rows-gap-6{grid-row-gap:8px}.gui-grid-rows-gap-7{grid-row-gap:10px}.gui-grid-rows-gap-8{grid-row-gap:12px}.gui-grid-rows-gap-10{grid-row-gap:16px}.gui-grid-rows-gap-13{grid-row-gap:22px}.gui-grid-rows-gap-23{grid-row-gap:42px}.gui-grid-cols-gap-0{grid-column-gap:0}.gui-grid-cols-gap-1{grid-column-gap:1px}.gui-grid-cols-gap-2{grid-column-gap:2px}.gui-grid-cols-gap-3{grid-column-gap:3px}.gui-grid-cols-gap-4{grid-column-gap:4px}.gui-grid-cols-gap-5{grid-column-gap:6px}.gui-grid-cols-gap-6{grid-column-gap:8px}.gui-grid-cols-gap-7{grid-column-gap:10px}.gui-grid-cols-gap-8{grid-column-gap:12px}.gui-grid-cols-gap-10{grid-column-gap:16px}.gui-grid-cols-gap-13{grid-column-gap:22px}.gui-grid-cols-gap-23{grid-column-gap:42px}.gui-h-full{height:100%}.gui-list-none{list-style-type:none}.gui-m-0{margin:0}.gui-mx-0{margin-left:0;margin-right:0}.gui-my-0{margin-bottom:0;margin-top:0}.-gui-m-0{margin:0}.-gui-mx-0{margin-left:0;margin-right:0}.-gui-my-0{margin-bottom:0;margin-top:0}.gui-m-1{margin:1px}.gui-mx-1{margin-left:1px;margin-right:1px}.gui-my-1{margin-bottom:1px;margin-top:1px}.-gui-m-1{margin:-1px}.-gui-mx-1{margin-left:-1px;margin-right:-1px}.-gui-my-1{margin-bottom:-1px;margin-top:-1px}.gui-m-2{margin:2px}.gui-mx-2{margin-left:2px;margin-right:2px}.gui-my-2{margin-bottom:2px;margin-top:2px}.-gui-m-2{margin:-2px}.-gui-mx-2{margin-left:-2px;margin-right:-2px}.-gui-my-2{margin-bottom:-2px;margin-top:-2px}.gui-m-3{margin:3px}.gui-mx-3{margin-left:3px;margin-right:3px}.gui-my-3{margin-bottom:3px;margin-top:3px}.-gui-m-3{margin:-3px}.-gui-mx-3{margin-left:-3px;margin-right:-3px}.-gui-my-3{margin-bottom:-3px;margin-top:-3px}.gui-m-4{margin:4px}.gui-mx-4{margin-left:4px;margin-right:4px}.gui-my-4{margin-bottom:4px;margin-top:4px}.-gui-m-4{margin:-4px}.-gui-mx-4{margin-left:-4px;margin-right:-4px}.-gui-my-4{margin-bottom:-4px;margin-top:-4px}.gui-m-5{margin:6px}.gui-mx-5{margin-left:6px;margin-right:6px}.gui-my-5{margin-bottom:6px;margin-top:6px}.-gui-m-5{margin:-6px}.-gui-mx-5{margin-left:-6px;margin-right:-6px}.-gui-my-5{margin-bottom:-6px;margin-top:-6px}.gui-m-6{margin:8px}.gui-mx-6{margin-left:8px;margin-right:8px}.gui-my-6{margin-bottom:8px;margin-top:8px}.-gui-m-6{margin:-8px}.-gui-mx-6{margin-left:-8px;margin-right:-8px}.-gui-my-6{margin-bottom:-8px;margin-top:-8px}.gui-m-7{margin:10px}.gui-mx-7{margin-left:10px;margin-right:10px}.gui-my-7{margin-bottom:10px;margin-top:10px}.-gui-m-7{margin:-10px}.-gui-mx-7{margin-left:-10px;margin-right:-10px}.-gui-my-7{margin-bottom:-10px;margin-top:-10px}.gui-m-8{margin:12px}.gui-mx-8{margin-left:12px;margin-right:12px}.gui-my-8{margin-bottom:12px;margin-top:12px}.-gui-m-8{margin:-12px}.-gui-mx-8{margin-left:-12px;margin-right:-12px}.-gui-my-8{margin-bottom:-12px;margin-top:-12px}.gui-m-10{margin:16px}.gui-mx-10{margin-left:16px;margin-right:16px}.gui-my-10{margin-bottom:16px;margin-top:16px}.-gui-m-10{margin:-16px}.-gui-mx-10{margin-left:-16px;margin-right:-16px}.-gui-my-10{margin-bottom:-16px;margin-top:-16px}.gui-m-13{margin:22px}.gui-mx-13{margin-left:22px;margin-right:22px}.gui-my-13{margin-bottom:22px;margin-top:22px}.-gui-m-13{margin:-22px}.-gui-mx-13{margin-left:-22px;margin-right:-22px}.-gui-my-13{margin-bottom:-22px;margin-top:-22px}.gui-m-23{margin:42px}.gui-mx-23{margin-left:42px;margin-right:42px}.gui-my-23{margin-bottom:42px;margin-top:42px}.-gui-m-23{margin:-42px}.-gui-mx-23{margin-left:-42px;margin-right:-42px}.-gui-my-23{margin-bottom:-42px;margin-top:-42px}.gui-mb-4{margin-bottom:4px}.gui-mb-6{margin-bottom:8px}.gui-mb-8{margin-bottom:12px}.gui-mb-10{margin-bottom:16px}.gui-mb-18{margin-bottom:32px}.gui-mr-0{margin-right:0}.gui-mr-5{margin-right:6px}.gui-mr-auto{margin-right:auto}.gui-ml-auto{margin-left:auto}.gui-ml-6{margin-left:8px}.gui-mt-0{margin-top:0}.gui-mt-4{margin-top:4px}.gui-mt-6{margin-top:8px}.gui-mt-10{margin-top:16px}.gui-mt-14{margin-top:24px}.gui-overflow-hidden{overflow:hidden}.gui-overflow-y-scroll{overflow-y:scroll}.gui-overflow-x-hidden{overflow-x:hidden}.gui-overflow-auto{overflow:auto}.gui-p-0{padding:0}.gui-px-0{padding-left:0;padding-right:0}.gui-py-0{padding-bottom:0;padding-top:0}.gui-p-1{padding:1px}.gui-px-1{padding-left:1px;padding-right:1px}.gui-py-1{padding-bottom:1px;padding-top:1px}.gui-p-2{padding:2px}.gui-px-2{padding-left:2px;padding-right:2px}.gui-py-2{padding-bottom:2px;padding-top:2px}.gui-p-3{padding:3px}.gui-px-3{padding-left:3px;padding-right:3px}.gui-py-3{padding-bottom:3px;padding-top:3px}.gui-p-4{padding:4px}.gui-px-4{padding-left:4px;padding-right:4px}.gui-py-4{padding-bottom:4px;padding-top:4px}.gui-p-5{padding:6px}.gui-px-5{padding-left:6px;padding-right:6px}.gui-py-5{padding-bottom:6px;padding-top:6px}.gui-p-6{padding:8px}.gui-px-6{padding-left:8px;padding-right:8px}.gui-py-6{padding-bottom:8px;padding-top:8px}.gui-p-7{padding:10px}.gui-px-7{padding-left:10px;padding-right:10px}.gui-py-7{padding-bottom:10px;padding-top:10px}.gui-p-8{padding:12px}.gui-px-8{padding-left:12px;padding-right:12px}.gui-py-8{padding-bottom:12px;padding-top:12px}.gui-p-10{padding:16px}.gui-px-10{padding-left:16px;padding-right:16px}.gui-py-10{padding-bottom:16px;padding-top:16px}.gui-p-13{padding:22px}.gui-px-13{padding-left:22px;padding-right:22px}.gui-py-13{padding-bottom:22px;padding-top:22px}.gui-p-23{padding:42px}.gui-px-23{padding-left:42px;padding-right:42px}.gui-py-23{padding-bottom:42px;padding-top:42px}.gui-pr-10{padding-right:16px}.gui-pl-9{padding-right:10px}.gui-pb-6{padding-bottom:8px}.gui-pb-12{padding-bottom:20px}.gui-pl-21{padding-left:38px}.gui-pt-4{padding-top:4px}.gui-pt-6{padding-top:8px}.gui-pt-10{padding-top:16px}.gui-pt-12{padding-top:20px}.gui-pt-14{padding-top:24px}.gui-static{position:static}.gui-fixed{position:fixed}.gui-relative{position:relative}.gui-absolute{position:absolute}.gui-text-xxs{font-size:11px}.gui-text-xs{font-size:12px}.gui-text-sm{font-size:13px}.gui-text-base{font-size:14px}.gui-text-lg{font-size:16px}.gui-text-xl{font-size:18px}.gui-text-2xl{font-size:20px}.gui-text-3xl{font-size:22px}.gui-leading-4{line-height:16px}.gui-leading-6{line-height:24px}.gui-font-thin{font-weight:100}.gui-font-extralight{font-weight:200}.gui-font-light{font-weight:300}.gui-font-normal{font-weight:400}.gui-font-medium{font-weight:500}.gui-font-semibold{font-weight:600}.gui-font-bold{font-weight:700}.gui-font-extrabold{font-weight:800}.gui-font-black{font-weight:900}.gui-italic{font-style:italic}.gui-not-italic{font-style:normal}.gui-whitespace-nowrap{white-space:nowrap}.gui-overflow-ellipsis{text-overflow:ellipsis}.gui-no-underline{text-decoration:none}.gui-text-center{text-align:center}.gui-w-full{width:100%}.gui-w-96{width:384px}.gui-w-3\\/5{width:60%}.gui-date-picker-calendar{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box;font-family:Roboto,Helvetica Neue,sans-serif;border-radius:4px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:0 0 12px;width:268px}.gui-date-picker-header{font-size:13px;font-weight:400;text-align:center;border-top:1px solid #999}.gui-date-picker-cell{border-radius:4px;border-color:transparent;border-style:solid;border-width:1px;padding:2px 4px;position:relative;text-align:center;font-size:13px;z-index:0}.gui-date-picker-cell:before{border:1px solid #999;border-radius:50%;box-sizing:border-box;content:"";display:none;height:36px;left:50%;position:absolute;top:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translate(-50%) translateY(-50%);width:36px;z-index:-1}.gui-date-picker-cell:after{background:transparent;border-radius:50%;box-sizing:border-box;content:"";display:block;height:32px;left:50%;position:absolute;top:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translate(-50%) translateY(-50%);width:32px;z-index:-1}.gui-date-picker-cell:hover:after{background:#e6e6e6}.gui-date-picker-day{color:#333;cursor:pointer;opacity:.2}.gui-date-picker-day.gui-date-picker-selected-month{opacity:1}.gui-date-picker-month,.gui-date-picker-year{cursor:pointer}.gui-date-picker-year{font-size:13px}.gui-date-picker-day.gui-date-picker-current-day:before,.gui-date-picker-month.gui-date-picker-current-month:before,.gui-date-picker-year.gui-date-picker-current-year:before{display:block}.gui-date-picker-day.gui-date-picker-selected-day{pointer-events:none}.gui-date-picker-day.gui-date-picker-selected-day,.gui-date-picker-month.gui-date-picker-selected-month,.gui-date-picker-year.gui-date-picker-selected-year{color:#fff}.gui-date-picker-day.gui-date-picker-selected-day:after,.gui-date-picker-month.gui-date-picker-selected-month:after,.gui-date-picker-year.gui-date-picker-selected-year:after{background:#2185d0}.gui-date-picker-arrows{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;width:32px}.gui-date-picker-view-padding{padding:0 8px}.gui-date-picker-view-border-top{border-top:1px solid #999}gui-time-picker{border-top:1px solid #999;margin:6px 0 0;padding:12px 0 2.6666666667px}gui-time-picker form{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}gui-time-picker.only-time-picker{border-top:none}.gui-time-picker-button-wrapper{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;padding-right:8px}.gui-time-picker-button-wrapper .gui-button{font-size:12px}.gui-time-picker-item{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin:0 8px;position:relative}.gui-time-picker-item input{box-sizing:border-box;max-width:24px;text-align:center}.gui-time-picker-item input::-webkit-outer-spin-button,.gui-time-picker-item input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.gui-time-picker-item input[type=number]{-moz-appearance:textfield}.gui-time-picker-item .gui-date-picker-arrow:nth-of-type(1){margin-bottom:2px}.gui-time-picker-item .gui-date-picker-arrow:nth-of-type(2){margin-top:6px}.gui-date-picker-view-panel{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding:16px 18px}.gui-date-picker-view-panel .gui-date-picker-view-panel-date{cursor:pointer;font-size:14px;font-weight:700;margin:0;pointer-events:auto}.gui-date-picker-arrow{position:relative;z-index:0}.gui-date-picker-arrow:hover:after{background:#e6e6e6;border-radius:50%;box-sizing:border-box;content:"";display:block;height:24px;left:50%;position:absolute;top:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translate(-50%) translateY(-50%);width:24px;z-index:-1}\n'],encapsulation:2,changeDetection:0}),i})();var st=function(i){return i[i.TOP=1]="TOP",i[i.BOTTOM=2]="BOTTOM",i[i.BEFORE=3]="BEFORE",i[i.AFTER=4]="AFTER",i}(st||{});const ni=new r.nKC("Theme token");let Ne=(()=>{class i{constructor(){this.fabricTheme$=new zr.t(D.FABRIC)}onTheme(){return this.fabricTheme$.asObservable()}changeTheme(e){const n="string"==typeof e?this.convertToTheme(e):e;this.fabricTheme$.next(n)}convertToTheme(e){switch(e.toLowerCase()){case"fabric":default:return D.FABRIC;case"material":return D.MATERIAL;case"generic":return D.GENERIC;case"light":return D.LIGHT;case"dark":return D.DARK}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),Oi=(()=>{class i extends nt{constructor(e,n,o){super(),this.elementRef=e,this.renderer=n,this.themeService=o}ngAfterViewInit(){this.themeService.onTheme().pipe((0,Wg.F)(),(0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.addTheme(e)})}addTheme(e){this.removeThemes();const n=i.CSS_CLASS_PREFIX+e.toLowerCase();this.renderer.addClass(this.elementRef.nativeElement,n)}removeThemes(){Object.keys(D).map(n=>D[n].toLowerCase()).filter(n=>!Number.isInteger(n)).forEach(n=>{this.renderer.removeClass(this.elementRef.nativeElement,i.CSS_CLASS_PREFIX+n)})}getElementRef(){return this.elementRef}getRenderer(){return this.renderer}}return i.CSS_CLASS_PREFIX="gui-",i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(Ne))},i.\u0275dir=r.FsC({type:i,features:[r.Vt3]}),i})();class Wh{constructor(t,e){this.elementRef=t,this.containerClassName=e}getHeight(){return this.elementRef.nativeElement.querySelector(`.${this.containerClassName}`).offsetHeight}getWidth(){return this.elementRef.nativeElement.querySelector(`.${this.containerClassName}`).offsetWidth}}class Yh extends Wh{constructor(t,e,n,o,s,a){super(n,o),this.verticalPosition=0,this.horizontalPosition=0,this.calculateCords(t,e,a,s)}getVerticalPosition(){return this.verticalPosition}getHorizontalPosition(){return this.horizontalPosition}calculateCords(t,e,n,o){const s=e.nativeElement.getBoundingClientRect(),a=t.pageYOffset+s.bottom,c=t.pageXOffset+s.left,u=t.pageXOffset+s.right,p=t.pageYOffset+s.top+n-this.getHeight();switch(o){case st.BOTTOM:this.horizontalPosition=c,this.verticalPosition=a+n;break;case st.TOP:this.horizontalPosition=c,this.verticalPosition=p;break;case st.BEFORE:this.horizontalPosition=u+n-this.getWidth(),this.verticalPosition=a;break;case st.AFTER:this.horizontalPosition=c+n,this.verticalPosition=a;break;default:this.horizontalPosition=c,this.verticalPosition=a+n}this.calculateDirection(e,t,p)}calculateDirection(t,e,n){const o=e.innerHeight+e.pageYOffset,s=e.innerWidth+e.pageXOffset,a=t.nativeElement.offsetWidth,c=this.getHeight(),u=this.getWidth(),p=o-this.verticalPosition-c<0;s-this.horizontalPosition-u<0&&(this.horizontalPosition-=u-a),p&&(this.verticalPosition=n)}}let Kh=(()=>{class i extends Yh{constructor(e,n,o,s,a=i.defaultInlineDialogOffset){super(o,e,n,"gui-inline-dialog-wrapper",s,a)}}return i.defaultInlineDialogOffset=8,i})(),po=(()=>{class i{constructor(e){this.platformId=e,this.inlineDialogState$=new Ve.B}observeInlineDialogCords(){return this.inlineDialogState$.asObservable()}changeGeometry(e){this.inlineDialogGeometry=e}getInlineDialogCords(e,n,o){if((0,l.UE)(this.platformId)){const s=new Kh(e,this.inlineDialogGeometry,window,n,o);this.inlineDialogState$.next(s)}}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.Agw))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),qh=(()=>{class i extends Oi{constructor(e,n,o,s,a,c,u,g){super(s,c,u),this.componentFactoryResolver=e,this.changeDetectorRef=n,this.inlineDialogService=o,this.elRef=s,this.inlineDialogGeometryService=a,this.customClass="",this.visible=!1,this.width="400px"}ngOnInit(){this.inlineDialogGeometryService.observeInlineDialogCords().pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.dialogTopAttribute=e.getVerticalPosition(),this.dialogLeftAttribute=e.getHorizontalPosition(),this.changeDetectorRef.detectChanges()})}ngAfterViewInit(){super.ngAfterViewInit(),this.createNestedComponent(this.inlineDialogNestedComponent),this.inlineDialogGeometryService.changeGeometry(this.elRef),this.changeDetectorRef.detectChanges(),(0,Ct.O)(0).pipe((0,I.Q)(this.unsubscribe$)).subscribe(()=>{this.visible=!0,this.changeDetectorRef.detectChanges()})}ngOnDestroy(){this.unsubscribe()}clickOutside(e){this.isContainerClicked(e)&&this.inlineDialogService.close()}isContainerClicked(e){return!this.elRef.nativeElement.contains(e.target)}createNestedComponent(e){if(this.container&&e){const n=this.componentFactoryResolver.resolveComponentFactory(e);this.inlineDialogNestedInjector?this.container.createComponent(n,void 0,this.inlineDialogNestedInjector):this.container.createComponent(n),this.changeDetectorRef.detectChanges()}}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.OM3),r.rXU(r.gRc),r.rXU((0,r.Rfq)(()=>Ni)),r.rXU(r.aKT),r.rXU(po),r.rXU(r.sFG),r.rXU(Ne),r.rXU(ni))},i.\u0275cmp=r.VBU({type:i,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&r.GBs(Ai,5,r.c1b),2&e){let o;r.mGM(o=r.lsd())&&(n.container=o.first)}},features:[r.Vt3],decls:4,vars:9,consts:[["container",""],[1,"gui-inline-dialog-wrapper",3,"ngClass"],[1,"gui-inline-dialog-content",3,"click"]],template:function(e,n){if(1&e){const o=r.RV6();r.j41(0,"div",1)(1,"div",2),r.bIt("click",function(a){return r.eBV(o),r.Njj(n.clickOutside(a))},!1,r.EBC),r.DNE(2,ph,0,0,"ng-template",null,0,r.C5r),r.k0s()()}2&e&&(r.xc7("left",n.dialogLeftAttribute,"px")("top",n.dialogTopAttribute,"px"),r.Y8G("ngClass",n.customClass),r.R7$(),r.xc7("max-width",n.width),r.AVh("gui-inline-dialog-visible",n.visible))},dependencies:[l.YU],styles:[".gui-inline-dialog-wrapper{box-sizing:border-box;position:absolute;z-index:1}.gui-inline-dialog-wrapper .gui-inline-dialog-content{background-color:#fff;border-radius:4px;box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;box-sizing:border-box;display:block;z-index:1000;opacity:0;transition:opacity .2s ease-in-out}.gui-inline-dialog-wrapper .gui-inline-dialog-content.gui-inline-dialog-visible{opacity:1}\n",".gui-dark .gui-inline-dialog-content{background:#424242;box-shadow:0 1px 2px #424242;color:#bdbdbd}\n"],encapsulation:2,changeDetection:0}),i})(),Ni=(()=>{class i{constructor(e,n,o,s,a){this.componentFactoryResolver=e,this.applicationRef=n,this.injector=o,this.document=s,this.inlineDialogGeometryService=a,this.inlineDialogRef=null,this.opened=!1,this.opened$=new zr.t(!1),this.destroy$=new Ve.B}ngOnDestroy(){this.removeInlineDialog()}open(e,n,o){if(event&&event.stopPropagation(),this.inlineDialogRef)this.close();else{let s=this.injector,a=st.BOTTOM,c=0,u=D.FABRIC,g="";o&&o.injector&&(s=o.injector),o&&o.placement&&(a=o.placement),o&&o.offset&&(c=o.offset),o&&o.theme&&(u=o.theme),o&&o.customClass&&(g=o.customClass);const p=r.zZn.create({providers:[{provide:ni,useValue:u}],parent:s});this.setOpened(!0),this.appendInlineDialogToElement(n,p,g),this.inlineDialogGeometryService.getInlineDialogCords(e,a,c),this.closeOnEscKey()}}close(){this.removeInlineDialog(),this.destroy$.next(void 0),this.destroy$.complete(),this.setOpened(!1)}isOpened(){return this.opened}onOpened(){return this.opened$.asObservable()}appendInlineDialogToElement(e,n,o){const s=this.componentFactoryResolver.resolveComponentFactory(qh).create(n);o&&(s.instance.customClass=o),s.instance.inlineDialogNestedComponent=e,s.changeDetectorRef.detectChanges(),this.applicationRef.attachView(s.hostView),this.document.body.appendChild(s.hostView.rootNodes[0]),this.inlineDialogRef=s}removeInlineDialog(){this.inlineDialogRef&&(this.applicationRef.detachView(this.inlineDialogRef.hostView),this.inlineDialogRef.destroy(),this.inlineDialogRef=null)}setOpened(e){this.opened=e,this.opened$.next(this.opened)}closeOnEscKey(){(0,Ri.R)(this.document,"keyup").pipe((0,Ba.p)(n=>"Escape"===n.code),(0,I.Q)(this.destroy$)).subscribe(()=>this.close())}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.OM3),r.KVO(r.o8S),r.KVO(r.zZn),r.KVO(l.qQ),r.KVO(po))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),Wa=(()=>{class i{constructor(e){this.fabricInlineDialogService=e}open(e,n,o){let s=D.FABRIC;o&&(s=o),this.fabricInlineDialogService.open(e,n,{placement:st.BOTTOM,offset:0,theme:s})}close(){this.fabricInlineDialogService.close()}isOpened(){return this.fabricInlineDialogService.isOpened()}onOpened(){return this.fabricInlineDialogService.onOpened()}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(Ni))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),Qh=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-date-picker-icon"]],hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-date-picker-icon",!0)},decls:8,vars:0,consts:[["height","9.82","viewBox","0 0 8.76 9.82","width","8.76","xmlns","http://www.w3.org/2000/svg"],["d","M401.41,308.63l-.46.15h-.15a.34.34,0,0,1-.08-.67l.68-.22a1.539,1.539,0,0,1,.38-.07h0a.39.39,0,0,1,.39.39V312a.38.38,0,0,1-.39.39.39.39,0,0,1-.39-.39Z","fill","#8c8b8b","transform","translate(-397.19 -304.36)"],["fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1","transform","translate(0.64 9.32)","x1","7.39"],["fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1","transform","translate(0.64 2.16)","x1","7.39"],["fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1","transform","translate(0.5 0.5)","y2","8.82"],["fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1","transform","translate(3.09 0.5)","y2","1.66"],["fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1","transform","translate(5.68 0.5)","y2","1.66"],["fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1","transform","translate(8.26 0.5)","y2","8.82"]],template:function(e,n){1&e&&(r.qSk(),r.j41(0,"svg",0),r.nrm(1,"path",1)(2,"line",2)(3,"line",3)(4,"line",4)(5,"line",5)(6,"line",6)(7,"line",7),r.k0s())},styles:[".gui-date-picker-icon svg{height:16px;width:16px}.gui-date-picker-icon svg line,.gui-date-picker-icon svg path{transition:all .3s ease-in-out}.gui-date-picker-icon svg line{stroke:#aaa}.gui-date-picker-icon svg path{fill:#aaa}.gui-date-picker-icon svg:hover line{stroke:#464646}.gui-date-picker-icon svg:hover path{fill:#464646}\n",".gui-dark .gui-date-picker-icon svg line{stroke:#bdbdbd}.gui-dark .gui-date-picker-icon svg path{fill:#bdbdbd}.gui-dark .gui-date-picker-icon svg:hover line{stroke:#616161}.gui-dark .gui-date-picker-icon svg:hover path{fill:#616161}\n"],encapsulation:2}),i})(),Jh=(()=>{class i extends nt{constructor(e,n,o,s,a){super(),this.fabricDatePickerInlineDialogService=e,this.datePickerService=n,this.datePickerCompositionService=o,this.changeDetectorRef=a,this.name="",this.openDialog=!1,this.onlyDialog=!1,this.datePipeOptions="dd/MM/yyyy",this.dateSelected=new r.bkB,this.dialogOpened=new r.bkB,this.pickedDate=new Date,this.inputDisabled="",this.datePickerForm=s.group({date:[""]})}ngOnChanges(e){e.selectDate&&this.selectDate&&(!this.pickedDate||!lo.areDatesSame(this.selectDate,this.pickedDate))&&this.datePickerService.dateSelected(this.selectDate),e.onlyDialog&&(this.inputDisabled=this.onlyDialog?"disabled":""),e.datePipeOptions&&this.datePickerCompositionService.next(this.datePipeOptions)}ngOnInit(){this.datePickerService.observeSelectedDate().pipe((0,Ha.i)(1),(0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.pickedDate=e,this.emitSelectedDate(e),this.changeDetectorRef.detectChanges(),this.closeDatePicker()}),this.fabricDatePickerInlineDialogService.onOpened().pipe((0,Ha.i)(1),(0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.dialogOpened.emit(e)})}ngAfterViewInit(){this.datePickerService.observeSelectedDate().pipe((0,Yg.s)(1),(0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.pickedDate=e,this.emitSelectedDate(e),this.changeDetectorRef.detectChanges()}),this.openDialog&&this.openDatePicker()}ngOnDestroy(){super.ngOnDestroy(),this.fabricDatePickerInlineDialogService.close()}openDatePicker(){const n=!this.parentElement&&this.datePickerRef?this.datePickerRef:this.parentElement;n&&this.fabricDatePickerInlineDialogService.open(n,zh,this.theme)}closeDatePicker(){this.fabricDatePickerInlineDialogService.close()}emitSelectedDate(e){this.dateSelected.emit(e)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(Wa),r.rXU(Pi),r.rXU(ao),r.rXU(y.ok),r.rXU(r.gRc))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-date-picker"]],viewQuery:function(e,n){if(1&e&&r.GBs(mh,5,r.aKT),2&e){let o;r.mGM(o=r.lsd())&&(n.datePickerRef=o.first)}},inputs:{parentElement:"parentElement",theme:"theme",selectDate:"selectDate",name:"name",openDialog:"openDialog",onlyDialog:"onlyDialog",datePipeOptions:"datePipeOptions"},outputs:{dateSelected:"dateSelected",dialogOpened:"dialogOpened"},features:[r.Vt3,r.OA$],decls:6,vars:7,consts:[["datePicker",""],[1,"gui-date-picker"],[3,"formGroup"],["formControlName","date","gui-input","","readonly","",1,"gui-date-picker-input",3,"name","value"],[1,"gui-date-picker-icon",3,"click"]],template:function(e,n){if(1&e){const o=r.RV6();r.j41(0,"div",1,0)(2,"form",2),r.nrm(3,"input",3),r.nI1(4,"date"),r.k0s(),r.j41(5,"gui-date-picker-icon",4),r.bIt("click",function(){return r.eBV(o),r.Njj(n.openDatePicker())}),r.k0s()()}2&e&&(r.R7$(2),r.Y8G("formGroup",n.datePickerForm),r.R7$(),r.Y8G("name",n.name)("value",r.i5U(4,4,n.pickedDate,n.datePipeOptions)),r.BMQ("disabled",n.inputDisabled))},dependencies:[y.qT,y.me,y.BC,y.cb,y.j4,y.JD,ho,Qh,l.vh],styles:[".gui-date-picker{-ms-flex-align:center;align-items:center;display:-ms-inline-flexbox;display:inline-flex;position:relative}.gui-date-picker .gui-date-picker-icon{cursor:pointer;position:absolute;right:0}.gui-date-picker input,.gui-date-picker-calendar input{background:transparent;border-radius:0;border-width:0 0 1px 0;font-family:Arial;font-size:14px;padding:4px}.gui-date-picker input:disabled,.gui-date-picker-calendar input:disabled{color:#333}.gui-date-picker .gui-date-picker-icon,.gui-date-picker-calendar .gui-date-picker-icon{cursor:pointer;position:absolute;right:0}\n",".gui-dark .gui-input{background:transparent;color:#bdbdbd}.gui-dark .gui-date-picker-calendar .gui-arrow-icon:hover:after{background:#757575}.gui-dark .gui-date-picker-calendar .gui-date-picker-cell{color:#bdbdbd}.gui-dark .gui-date-picker-calendar .gui-date-picker-cell:hover:after{background:#757575}.gui-dark .gui-date-picker-calendar .gui-date-picker-day.gui-date-picker-selected-day,.gui-dark .gui-date-picker-calendar .gui-date-picker-month.gui-date-picker-selected-month,.gui-dark .gui-date-picker-calendar .gui-date-picker-year.gui-date-picker-selected-year{color:#333}.gui-dark .gui-date-picker-calendar .gui-date-picker-day.gui-date-picker-selected-day:after,.gui-dark .gui-date-picker-calendar .gui-date-picker-month.gui-date-picker-selected-month:after,.gui-dark .gui-date-picker-calendar .gui-date-picker-year.gui-date-picker-selected-year:after{background:#dfb8e6}\n",".gui-material .gui-date-picker-calendar .gui-date-picker-day.gui-date-picker-selected-day:after,.gui-material .gui-date-picker-calendar .gui-date-picker-month.gui-date-picker-selected-month:after,.gui-material .gui-date-picker-calendar .gui-date-picker-year.gui-date-picker-selected-year:after{background:#6200ee}\n"],encapsulation:2,changeDetection:0}),i})(),Bi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[Ni,po],imports:[l.MD]}),i})(),St=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),mo=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),Zh=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),fo=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[Pi,ao,Gi,Vi,uo,La,co,Wa],imports:[l.MD,Bi,y.X1,St,Oe,Zh,mo]}),i})(),Hi=(()=>{class i extends nt{constructor(e,n,o,s){super(),this.componentFactoryResolver=e,this.applicationRef=n,this.injector=o,this.document=s,this.componentRef="destroyed"}ngOnDestroy(){this.removeComponent()}createAndAppend(e){const n=e?.injector?e.injector:this.injector;this.componentRef=this.componentFactoryResolver.resolveComponentFactory(this.getComponent()).create(n),this.applicationRef.attachView(this.componentRef.hostView);const o=this.componentRef.hostView.rootNodes[0];this.getElement(e?.appendToElement).appendChild(o),e?.afterCompCreation&&e?.afterCompCreation(),this.componentRef.changeDetectorRef.detectChanges()}removeComponent(){"destroyed"!==this.componentRef&&(this.applicationRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.componentRef="destroyed",this.unsubscribe())}getComponentRef(){return this.componentRef}getInjector(){return this.injector}getDocument(){return this.document}onCloseOnEsc(){return(0,Ri.R)(this.getDocument(),"keyup").pipe((0,Ba.p)(n=>"Escape"===n.code),(0,I.Q)(this.unsubscribe$))}isComponentCreated(){return"destroyed"!==this.componentRef}getElement(e){return e?e.nativeElement:this.document.body}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.OM3),r.rXU(r.o8S),r.rXU(r.zZn),r.rXU(l.qQ))},i.\u0275dir=r.FsC({type:i,features:[r.Vt3]}),i})(),vo=(()=>{class i extends Hi{constructor(e,n,o,s){super(e,n,o,s),this.inProgress=!1}getComponent(){return ep}open(e){event&&event.stopPropagation(),(!this.isComponentCreated()||!e?.preventReopeningDrawer)&&(!this.isComponentCreated()||this.inProgress||e?.preventReopeningDrawer?this.createDrawer(e):this.waitAndCreateNewDrawer(e))}close(){if(this.isComponentCreated()){const e=this.getComponentRef();e.instance.visible=!1,e.instance.detectChanges(),(0,Ct.O)(300).pipe((0,I.Q)(this.unsubscribe$)).subscribe(()=>{this.removeComponent(),this.inProgress=!1})}}createDrawer(e){this.isComponentCreated()&&this.removeComponent();let n=D.FABRIC,o=this.getInjector();e&&e.theme&&(n=e.theme),e&&e.injector&&(o=e.injector);const s=r.zZn.create({providers:[{provide:ni,useValue:n}],parent:o});this.createAndAppend({injector:s,afterCompCreation:()=>this.applyInstanceVars(e),appendToElement:e?.appendToElement}),this.closeOnEscKey()}waitAndCreateNewDrawer(e){this.inProgress=!0,this.close(),(0,Ct.O)(400).pipe((0,I.Q)(this.unsubscribe$)).subscribe(()=>{this.createDrawer(e)})}applyInstanceVars(e){if(this.isComponentCreated()){const n=this.getComponentRef();e?.width&&(n.instance.width=e.width),e?.closeOnClickOutside&&(n.instance.closeOnClickOutside=e.closeOnClickOutside),n.instance.dialogNestedComponent=e?.component,n.instance.isFixed=!e?.appendToElement}}closeOnEscKey(){this.onCloseOnEsc().subscribe(()=>this.close())}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.OM3),r.KVO(r.o8S),r.KVO(r.zZn),r.KVO(l.qQ))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),bo=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-close-icon"]],hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-close-icon-wrapper",!0)},decls:1,vars:0,consts:[[1,"gui-close-icon"]],template:function(e,n){1&e&&r.nrm(0,"span",0)},styles:['.gui-close-icon-wrapper .gui-close-icon{cursor:pointer;height:16px;position:absolute;right:8px;top:8px;width:16px}.gui-close-icon-wrapper .gui-close-icon:before,.gui-close-icon-wrapper .gui-close-icon:after{background-color:#aaa;content:" ";height:16px;left:7px;position:absolute;width:2px}.gui-close-icon-wrapper .gui-close-icon:before{-ms-transform:rotate(45deg);transform:rotate(45deg)}.gui-close-icon-wrapper .gui-close-icon:after{-ms-transform:rotate(-45deg);transform:rotate(-45deg)}.gui-close-icon-wrapper .gui-close-icon:hover:before,.gui-close-icon-wrapper .gui-close-icon:hover:after{background-color:#464646}\n'],encapsulation:2,changeDetection:0}),i})(),ep=(()=>{class i extends Oi{constructor(e,n,o,s,a,c){super(o,c,a),this.componentFactoryResolver=e,this.changeDetectorRef=n,this.elRef=o,this.dialogService=s,this.width="400px",this.closeOnClickOutside=!1,this.visible=!1,this.isFixed=!1}ngAfterViewInit(){super.ngAfterViewInit(),this.createNestedComponent(),(0,Ct.O)(50).pipe((0,I.Q)(this.unsubscribe$)).subscribe(()=>{this.visible=!0,this.changeDetectorRef.detectChanges()})}closeDrawer(){this.dialogService.close()}clickOutside(e){this.closeOnClickOutside&&this.isContainerClicked(e)&&this.closeDrawer()}detectChanges(){this.changeDetectorRef.detectChanges()}isContainerClicked(e){const n=this.elRef.nativeElement.querySelector(".gui-drawer-content");return!!n&&!n.contains(e.target)}createNestedComponent(){if(this.container){const e=this.componentFactoryResolver.resolveComponentFactory(this.dialogNestedComponent);this.container.createComponent(e),this.changeDetectorRef.detectChanges()}}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.OM3),r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(vo),r.rXU(Ne),r.rXU(r.sFG))},i.\u0275cmp=r.VBU({type:i,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&r.GBs(Ai,5,r.c1b),2&e){let o;r.mGM(o=r.lsd())&&(n.container=o.first)}},features:[r.Vt3],decls:5,vars:6,consts:[["container",""],[1,"gui-drawer-wrapper",3,"click"],[1,"gui-drawer-content"],[3,"click"]],template:function(e,n){if(1&e){const o=r.RV6();r.j41(0,"div",1),r.bIt("click",function(a){return r.eBV(o),r.Njj(n.clickOutside(a))},!1,r.EBC),r.j41(1,"div",2)(2,"gui-close-icon",3),r.bIt("click",function(){return r.eBV(o),r.Njj(n.closeDrawer())}),r.k0s(),r.DNE(3,fh,0,0,"ng-template",null,0,r.C5r),r.k0s()()}2&e&&(r.xc7("max-width",n.width),r.AVh("gui-drawer-fixed",n.isFixed)("gui-drawer-visible",n.visible))},dependencies:[bo],styles:[".gui-drawer-wrapper{display:-ms-flexbox;display:flex;font-family:Arial;height:100%;width:auto;position:absolute;padding-left:50px;right:0;top:0;overflow:hidden;z-index:1000}.gui-drawer-wrapper .gui-drawer-content{background-color:#fff;height:100%;position:relative;margin-left:auto;-ms-transform:translateX(100%);transform:translate(100%);transition:all .3s ease-in-out}.gui-drawer-wrapper.gui-drawer-visible .gui-drawer-content{-ms-transform:translateX(0);transform:translate(0);box-shadow:-6px 0 16px -8px #00000014,-9px 0 28px #0000000d,-12px 0 48px 16px #00000008}.gui-drawer-wrapper.gui-drawer-fixed{position:fixed;height:100vh}\n",".gui-dark .gui-drawer-wrapper .gui-drawer-content{background:#424242;box-shadow:0 1px 2px #424242;color:#bdbdbd}\n"],encapsulation:2,changeDetection:0}),i})(),Co=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),qr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[vo],imports:[l.MD,Co]}),i})();class tp{constructor(t,e,n){this.container=t,this.menu=e,this.windowSize=n,this.containerHeight=0,this.containerWidth=0,this.availableBottomSpace=0,this.availableTopSpace=0,this.calculate(this.menu,this.windowSize)}getContainerHeight(){return this.containerHeight}getContainerWidth(){return this.containerWidth}canOpenDownward(){return this.availableBottomSpace>0}canOpenUpward(){return this.availableTopSpace>0}calculate(t,e){const n=this.container.nativeElement,o=t.nativeElement.offsetHeight,s=n.getBoundingClientRect().bottom;this.containerHeight=n.offsetHeight,this.containerWidth=n.offsetWidth,this.availableBottomSpace=e-s-o,this.availableTopSpace=s-o-this.containerHeight}}let Ya=(()=>{class i{constructor(){this.geometryResults$=new Ve.B}watchGeometry(){return this.geometryResults$.asObservable()}changeGeometry(e,n,o){const s=new tp(e,n,o);this.geometryResults$.next(s)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();var oi=function(i){return i[i.Right=0]="Right",i[i.Left=1]="Left",i}(oi||{});let ip=(()=>{class i extends nt{constructor(e,n,o,s,a){super(),this.platformId=e,this.elementRef=n,this.renderer=o,this.changeDetectorRef=s,this.geometryService=a,this.disabled=!1,this.dropdownText="Dropdown",this.isArrowEnabled=!0,this.width=120,this.showOnHover=!1,this.containerWidth=0,this.containerHeight=0,this.windowSize=0,this.horizontalPosition=0,this.bottomPosition=0,this.topPosition=0,this.arrowDirection=ot.BOTTOM,this.canOpenDownward=!1,this.canOpenUpward=!1,this.open=!1,this.topBorderWidth=1,this.onResize()}onResize(){(0,l.UE)(this.platformId)&&(this.windowSize=window.innerHeight)}ngOnChanges(e){e.placement&&this.changePlacement()}ngOnInit(){this.geometryService.watchGeometry().pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.containerHeight=e.getContainerHeight(),this.containerWidth=e.getContainerWidth(),this.canOpenUpward=e.canOpenUpward(),this.canOpenDownward=e.canOpenDownward()})}tryToOpen(e){this.isContainerDisabled(e)?e.stopPropagation():(this.openMenu(!this.open),this.changeDetectorRef.detectChanges())}tryToOpenOnHover(){this.showOnHover&&(this.openMenu(!this.open),this.changeDetectorRef.detectChanges())}hideOnHover(){this.showOnHover&&(this.hideItems(),this.open=!1)}clickOutside(e){this.isContainerClicked(e)&&this.openMenu(!1)}isDirectionLeft(){return this.isArrowEnabled&&this.arrowDirection===ot.LEFT}openMenu(e){this.open=e,this.open?this.showItems():this.hideItems()}showItems(){this.containerRef&&this.dropdownMenuRef&&(this.addClass(this.elementRef.nativeElement,"gui-menu-opened"),this.geometryService.changeGeometry(this.containerRef,this.dropdownMenuRef,this.windowSize),this.canOpenDownward||!this.canOpenUpward?this.openDownward():this.openUpward(),this.placement===oi.Right&&this.openRight(),this.placement===oi.Left&&this.openLeft())}openDownward(){this.topPosition=null,this.bottomPosition=this.containerHeight}openUpward(){this.bottomPosition=null,this.topPosition=this.containerHeight}openRight(){this.bottomPosition=-this.topBorderWidth,this.topPosition=null,this.horizontalPosition=this.containerWidth}openLeft(){this.bottomPosition=-this.topBorderWidth,this.topPosition=null,this.horizontalPosition=-(this.containerWidth+1)}changePlacement(){if(this.dropdownMenuRef)switch(this.placement){case oi.Right:this.removeClass(this.dropdownMenuRef.nativeElement,"gui-dropdown-left"),this.addClass(this.dropdownMenuRef.nativeElement,"gui-dropdown-right"),this.arrowDirection=ot.RIGHT;break;case oi.Left:this.removeClass(this.dropdownMenuRef.nativeElement,"gui-dropdown-right"),this.addClass(this.dropdownMenuRef.nativeElement,"gui-dropdown-left"),this.arrowDirection=ot.LEFT}}hideItems(){this.elementRef.nativeElement.classList.contains("gui-menu-opened")&&this.removeClass(this.elementRef.nativeElement,"gui-menu-opened")}isContainerClicked(e){return!this.elementRef.nativeElement.contains(e.target)}isContainerDisabled(e){return e.target.classList.contains("gui-disabled")}addClass(e,n){this.renderer.addClass(e,n)}removeClass(e,n){this.renderer.removeClass(e,n)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.Agw),r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(r.gRc),r.rXU(Ya))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-dropdown"]],viewQuery:function(e,n){if(1&e&&(r.GBs(vh,7,r.aKT),r.GBs(Ai,7,r.aKT)),2&e){let o;r.mGM(o=r.lsd())&&(n.dropdownMenuRef=o.first),r.mGM(o=r.lsd())&&(n.containerRef=o.first)}},hostVars:2,hostBindings:function(e,n){1&e&&r.bIt("resize",function(){return n.onResize()},!1,r.tSv),2&e&&r.AVh("gui-dropdown",!0)},inputs:{disabled:"disabled",dropdownText:"dropdownText",isArrowEnabled:"isArrowEnabled",placement:"placement",width:"width",showOnHover:"showOnHover"},features:[r.Jv_([Ya]),r.Vt3,r.OA$],ngContentSelectors:tt,decls:8,vars:14,consts:[["container",""],["dropdownMenu",""],[1,"gui-dropdown-container",3,"click","mouseenter","mouseleave"],[1,"gui-dropdown-text"],[3,"gui-dropdown-arrow",4,"ngIf"],[1,"gui-dropdown-menu"],[3,"direction"]],template:function(e,n){if(1&e){const o=r.RV6();r.NAR(),r.j41(0,"div",2,0),r.bIt("click",function(a){return r.eBV(o),r.Njj(n.tryToOpen(a))})("click",function(a){return r.eBV(o),r.Njj(n.clickOutside(a))},!1,r.EBC)("mouseenter",function(){return r.eBV(o),r.Njj(n.tryToOpenOnHover())})("mouseleave",function(){return r.eBV(o),r.Njj(n.hideOnHover())}),r.j41(2,"div",3),r.EFF(3),r.k0s(),r.DNE(4,bh,2,3,"div",4),r.j41(5,"div",5,1),r.SdG(7),r.k0s()()}2&e&&(r.xc7("width",n.width,"px"),r.AVh("gui-arrow-left",n.isDirectionLeft())("gui-disabled",n.disabled),r.R7$(3),r.JRh(n.dropdownText),r.R7$(),r.Y8G("ngIf",n.isArrowEnabled),r.R7$(),r.xc7("bottom",n.topPosition,"px")("left",n.horizontalPosition,"px")("top",n.bottomPosition,"px"))},dependencies:[l.bT,Kr],styles:[".gui-dropdown .gui-dropdown-container{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#fff;border-color:#d6d6d6;border-radius:4px;border-style:solid;border-width:1px;box-sizing:border-box;color:#333;cursor:pointer;display:inline-block;font:14px Arial;padding:8px 12px;position:relative;width:auto}.gui-dropdown .gui-dropdown-container:hover{border-color:#999}.gui-dropdown .gui-dropdown-container:hover .gui-arrow-icon svg path{stroke:#464646}.gui-dropdown .gui-dropdown-container .gui-dropdown-arrow{cursor:pointer;position:absolute;right:12px;top:8px}.gui-dropdown .gui-dropdown-container .gui-dropdown-right.gui-dropdown-menu,.gui-dropdown .gui-dropdown-container .gui-dropdown-left.gui-dropdown-menu{margin:0}.gui-dropdown .gui-dropdown-container .gui-dropdown-menu{background:inherit;border-color:#d6d6d6;border-radius:4px;border-style:solid;border-width:1px;box-sizing:border-box;display:none;left:-1px;overflow:hidden;position:absolute;width:inherit;z-index:2}.gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item{list-style-type:none;padding:8px 12px;width:inherit}.gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item:hover{background:#cccccc}.gui-dropdown .gui-dropdown-container.gui-arrow-left{padding:8px 12px 8px 32px}.gui-dropdown .gui-dropdown-container.gui-arrow-left .gui-dropdown-arrow{left:12px;right:initial}.gui-dropdown.gui-menu-opened .gui-dropdown-container{border-color:#999}.gui-dropdown.gui-menu-opened .gui-dropdown-menu{display:block}.gui-dropdown .gui-disabled{color:#ccc;pointer-events:none}\n",".gui-material .gui-dropdown .gui-dropdown-container{font-family:Roboto,Helvetica Neue,sans-serif}\n",".gui-dark .gui-dropdown .gui-dropdown-container{background:#424242;border-color:#616161;color:#bdbdbd}.gui-dark .gui-dropdown .gui-dropdown-container:hover{border-color:#ce93d8}.gui-dark .gui-dropdown .gui-dropdown-container:hover .gui-dropdown-arrow svg path{stroke:#ce93d8}.gui-dark .gui-dropdown .gui-dropdown-container .gui-dropdown-menu{border-color:#616161}.gui-dark .gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item{border-top-color:#757575}.gui-dark .gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item:hover{background:#616161}.gui-dark .gui-dropdown.gui-options-opened .gui-dropdown-container{border-color:#ce93d8}.gui-dark .gui-dropdown .gui-disabled{opacity:.36}\n"],encapsulation:2,changeDetection:0}),i})(),rp=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-dropdown-item"]],ngContentSelectors:tt,decls:2,vars:0,consts:[[1,"gui-item"]],template:function(e,n){1&e&&(r.NAR(),r.j41(0,"div",0),r.SdG(1),r.k0s())},encapsulation:2,changeDetection:0}),i})(),Qr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD,mo]}),i})(),si=(()=>{class i extends Hi{constructor(e,n,o,s){super(e,n,o,s)}getComponent(){return np}open(e){if(this.isComponentCreated())return;let n=D.FABRIC,o=this.getInjector();e&&e.theme&&(n=e.theme),e&&e.injector&&(o=e.injector);const s=r.zZn.create({providers:[{provide:ni,useValue:n}],parent:o});this.createAndAppend({afterCompCreation:()=>this.afterComponentCreation(e),injector:s}),this.closeOnEscKey()}close(){if(this.isComponentCreated()){const e=this.getComponentRef();e.instance.visible=!1,e.instance.detectChanges(),(0,Ct.O)(400).pipe((0,I.Q)(this.unsubscribe$)).subscribe(()=>{this.removeComponent()})}}closeOnEscKey(){this.onCloseOnEsc().subscribe(()=>this.close())}afterComponentCreation(e){if(this.isComponentCreated()){const n=this.getComponentRef();n.instance.dialogNestedComponent=e.component,e?.width&&(n.instance.width=e.width),e?.height&&(n.instance.height=e.height),n.instance.setTransformOrigin(event)}}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.OM3),r.KVO(r.o8S),r.KVO(r.zZn),r.KVO(l.qQ))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),np=(()=>{class i extends Oi{constructor(e,n,o,s,a,c,u){super(o,c,a),this.componentFactoryResolver=e,this.changeDetectorRef=n,this.elRef=o,this.platformId=s,this.dialogService=u,this.visible=!1,this.width="400px",this.height="90vh",this.triggerPosition=""}ngAfterViewInit(){super.ngAfterViewInit(),this.createNestedComponent(),(0,Ct.O)(0).pipe((0,I.Q)(this.unsubscribe$)).subscribe(()=>{this.visible=!0,this.detectChanges()})}detectChanges(){this.changeDetectorRef.detectChanges()}closeDialog(){this.dialogService.close()}clickOutside(e){this.isContainerClicked(e)&&this.dialogService.close()}setTransformOrigin(e){if((0,l.UE)(this.platformId)&&e){const n=e.clientX-window.innerWidth/2,o=e.clientY-window.innerHeight/2;this.triggerPosition=`${n}px ${o}px`}}isContainerClicked(e){const n=this.elRef.nativeElement.querySelector(".gui-dialog-content");return!!n&&!n.contains(e.target)}createNestedComponent(){if(this.dialogNestedComponent&&this.container){const e=this.componentFactoryResolver.resolveComponentFactory(this.dialogNestedComponent);this.container.createComponent(e),this.detectChanges()}}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.OM3),r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(r.Agw),r.rXU(Ne),r.rXU(r.sFG),r.rXU((0,r.Rfq)(()=>si)))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-fabric-dialog"]],viewQuery:function(e,n){if(1&e&&r.GBs(Ai,5,r.c1b),2&e){let o;r.mGM(o=r.lsd())&&(n.container=o.first)}},hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-fabric-dialog",!0)},features:[r.Vt3],decls:6,vars:8,consts:[["container",""],[1,"gui-dialog-blanket"],[1,"gui-dialog-wrapper",3,"click"],[1,"gui-dialog-content"],[3,"click"]],template:function(e,n){if(1&e){const o=r.RV6();r.nrm(0,"div",1),r.j41(1,"div",2),r.bIt("click",function(a){return r.eBV(o),r.Njj(n.clickOutside(a))}),r.j41(2,"div",3),r.DNE(3,Ch,0,0,"ng-template",null,0,r.C5r),r.j41(5,"gui-close-icon",4),r.bIt("click",function(){return r.eBV(o),r.Njj(n.closeDialog())}),r.k0s()()()}2&e&&(r.R7$(2),r.xc7("max-height",n.height)("max-width",n.width)("transform-origin",n.triggerPosition),r.AVh("gui-dialog-visible",n.visible))},dependencies:[bo],styles:[".gui-box-border{box-sizing:border-box}.gui-bg-transparent{background-color:transparent}.gui-border{border-width:1px}.gui-border-0{border-width:0}.gui-border-b{border-bottom-width:1px}.gui-border-t{border-top-width:1px}.gui-border-solid{border-style:solid}.gui-border-b-solid{border-bottom-style:solid}.gui-border-t-solid{border-top-style:solid}.gui-border-none{border-style:none}.gui-rounded{border-radius:4px}.gui-cursor-pointer{cursor:pointer}.gui-block{display:block}.gui-inline-block{display:inline-block}.gui-inline{display:inline}.gui-flex{display:-ms-flexbox;display:flex}.gui-hidden{display:none}.gui-display-grid{display:grid}.gui-flex-row{-ms-flex-direction:row;flex-direction:row}.gui-flex-row-reverse{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.gui-flex-col{-ms-flex-direction:column;flex-direction:column}.gui-flex-col-reverse{-ms-flex-direction:column-reverse;flex-direction:column-reverse}.gui-justify-start{-ms-flex-pack:start;justify-content:flex-start}.gui-justify-end{-ms-flex-pack:end;justify-content:flex-end}.gui-justify-center{-ms-flex-pack:center;justify-content:center}.gui-justify-between{-ms-flex-pack:justify;justify-content:space-between}.gui-justify-around{-ms-flex-pack:distribute;justify-content:space-around}.gui-justify-evenly{-ms-flex-pack:space-evenly;justify-content:space-evenly}.gui-items-start{-ms-flex-align:start;align-items:flex-start}.gui-items-end{-ms-flex-align:end;align-items:flex-end}.gui-items-center{-ms-flex-align:center;align-items:center}.gui-items-between{-ms-flex-align:space-between;align-items:space-between}.gui-items-around{-ms-flex-align:space-around;align-items:space-around}.gui-items-evenly{-ms-flex-align:space-evenly;align-items:space-evenly}.gui-flex-wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.gui-flex-wrap-reverse{-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse}.gui-flex-nowrap{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.gui-grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.gui-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.gui-grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.gui-grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.gui-grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.gui-grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.gui-grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}.gui-grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}.gui-grid-cols-9{grid-template-columns:repeat(9,minmax(0,1fr))}.gui-grid-rows-1{grid-template-rows:repeat(1,minmax(0,1fr))}.gui-grid-rows-2{grid-template-rows:repeat(2,minmax(0,1fr))}.gui-grid-rows-3{grid-template-rows:repeat(3,minmax(0,1fr))}.gui-grid-rows-4{grid-template-rows:repeat(4,minmax(0,1fr))}.gui-grid-rows-5{grid-template-rows:repeat(5,minmax(0,1fr))}.gui-grid-rows-6{grid-template-rows:repeat(6,minmax(0,1fr))}.gui-grid-rows-7{grid-template-rows:repeat(7,minmax(0,1fr))}.gui-grid-rows-8{grid-template-rows:repeat(8,minmax(0,1fr))}.gui-grid-rows-9{grid-template-rows:repeat(9,minmax(0,1fr))}.gui-grid-rows-gap-0{grid-row-gap:0}.gui-grid-rows-gap-1{grid-row-gap:1px}.gui-grid-rows-gap-2{grid-row-gap:2px}.gui-grid-rows-gap-3{grid-row-gap:3px}.gui-grid-rows-gap-4{grid-row-gap:4px}.gui-grid-rows-gap-5{grid-row-gap:6px}.gui-grid-rows-gap-6{grid-row-gap:8px}.gui-grid-rows-gap-7{grid-row-gap:10px}.gui-grid-rows-gap-8{grid-row-gap:12px}.gui-grid-rows-gap-10{grid-row-gap:16px}.gui-grid-rows-gap-13{grid-row-gap:22px}.gui-grid-rows-gap-23{grid-row-gap:42px}.gui-grid-cols-gap-0{grid-column-gap:0}.gui-grid-cols-gap-1{grid-column-gap:1px}.gui-grid-cols-gap-2{grid-column-gap:2px}.gui-grid-cols-gap-3{grid-column-gap:3px}.gui-grid-cols-gap-4{grid-column-gap:4px}.gui-grid-cols-gap-5{grid-column-gap:6px}.gui-grid-cols-gap-6{grid-column-gap:8px}.gui-grid-cols-gap-7{grid-column-gap:10px}.gui-grid-cols-gap-8{grid-column-gap:12px}.gui-grid-cols-gap-10{grid-column-gap:16px}.gui-grid-cols-gap-13{grid-column-gap:22px}.gui-grid-cols-gap-23{grid-column-gap:42px}.gui-h-full{height:100%}.gui-list-none{list-style-type:none}.gui-m-0{margin:0}.gui-mx-0{margin-left:0;margin-right:0}.gui-my-0{margin-bottom:0;margin-top:0}.-gui-m-0{margin:0}.-gui-mx-0{margin-left:0;margin-right:0}.-gui-my-0{margin-bottom:0;margin-top:0}.gui-m-1{margin:1px}.gui-mx-1{margin-left:1px;margin-right:1px}.gui-my-1{margin-bottom:1px;margin-top:1px}.-gui-m-1{margin:-1px}.-gui-mx-1{margin-left:-1px;margin-right:-1px}.-gui-my-1{margin-bottom:-1px;margin-top:-1px}.gui-m-2{margin:2px}.gui-mx-2{margin-left:2px;margin-right:2px}.gui-my-2{margin-bottom:2px;margin-top:2px}.-gui-m-2{margin:-2px}.-gui-mx-2{margin-left:-2px;margin-right:-2px}.-gui-my-2{margin-bottom:-2px;margin-top:-2px}.gui-m-3{margin:3px}.gui-mx-3{margin-left:3px;margin-right:3px}.gui-my-3{margin-bottom:3px;margin-top:3px}.-gui-m-3{margin:-3px}.-gui-mx-3{margin-left:-3px;margin-right:-3px}.-gui-my-3{margin-bottom:-3px;margin-top:-3px}.gui-m-4{margin:4px}.gui-mx-4{margin-left:4px;margin-right:4px}.gui-my-4{margin-bottom:4px;margin-top:4px}.-gui-m-4{margin:-4px}.-gui-mx-4{margin-left:-4px;margin-right:-4px}.-gui-my-4{margin-bottom:-4px;margin-top:-4px}.gui-m-5{margin:6px}.gui-mx-5{margin-left:6px;margin-right:6px}.gui-my-5{margin-bottom:6px;margin-top:6px}.-gui-m-5{margin:-6px}.-gui-mx-5{margin-left:-6px;margin-right:-6px}.-gui-my-5{margin-bottom:-6px;margin-top:-6px}.gui-m-6{margin:8px}.gui-mx-6{margin-left:8px;margin-right:8px}.gui-my-6{margin-bottom:8px;margin-top:8px}.-gui-m-6{margin:-8px}.-gui-mx-6{margin-left:-8px;margin-right:-8px}.-gui-my-6{margin-bottom:-8px;margin-top:-8px}.gui-m-7{margin:10px}.gui-mx-7{margin-left:10px;margin-right:10px}.gui-my-7{margin-bottom:10px;margin-top:10px}.-gui-m-7{margin:-10px}.-gui-mx-7{margin-left:-10px;margin-right:-10px}.-gui-my-7{margin-bottom:-10px;margin-top:-10px}.gui-m-8{margin:12px}.gui-mx-8{margin-left:12px;margin-right:12px}.gui-my-8{margin-bottom:12px;margin-top:12px}.-gui-m-8{margin:-12px}.-gui-mx-8{margin-left:-12px;margin-right:-12px}.-gui-my-8{margin-bottom:-12px;margin-top:-12px}.gui-m-10{margin:16px}.gui-mx-10{margin-left:16px;margin-right:16px}.gui-my-10{margin-bottom:16px;margin-top:16px}.-gui-m-10{margin:-16px}.-gui-mx-10{margin-left:-16px;margin-right:-16px}.-gui-my-10{margin-bottom:-16px;margin-top:-16px}.gui-m-13{margin:22px}.gui-mx-13{margin-left:22px;margin-right:22px}.gui-my-13{margin-bottom:22px;margin-top:22px}.-gui-m-13{margin:-22px}.-gui-mx-13{margin-left:-22px;margin-right:-22px}.-gui-my-13{margin-bottom:-22px;margin-top:-22px}.gui-m-23{margin:42px}.gui-mx-23{margin-left:42px;margin-right:42px}.gui-my-23{margin-bottom:42px;margin-top:42px}.-gui-m-23{margin:-42px}.-gui-mx-23{margin-left:-42px;margin-right:-42px}.-gui-my-23{margin-bottom:-42px;margin-top:-42px}.gui-mb-4{margin-bottom:4px}.gui-mb-6{margin-bottom:8px}.gui-mb-8{margin-bottom:12px}.gui-mb-10{margin-bottom:16px}.gui-mb-18{margin-bottom:32px}.gui-mr-0{margin-right:0}.gui-mr-5{margin-right:6px}.gui-mr-auto{margin-right:auto}.gui-ml-auto{margin-left:auto}.gui-ml-6{margin-left:8px}.gui-mt-0{margin-top:0}.gui-mt-4{margin-top:4px}.gui-mt-6{margin-top:8px}.gui-mt-10{margin-top:16px}.gui-mt-14{margin-top:24px}.gui-overflow-hidden{overflow:hidden}.gui-overflow-y-scroll{overflow-y:scroll}.gui-overflow-x-hidden{overflow-x:hidden}.gui-overflow-auto{overflow:auto}.gui-p-0{padding:0}.gui-px-0{padding-left:0;padding-right:0}.gui-py-0{padding-bottom:0;padding-top:0}.gui-p-1{padding:1px}.gui-px-1{padding-left:1px;padding-right:1px}.gui-py-1{padding-bottom:1px;padding-top:1px}.gui-p-2{padding:2px}.gui-px-2{padding-left:2px;padding-right:2px}.gui-py-2{padding-bottom:2px;padding-top:2px}.gui-p-3{padding:3px}.gui-px-3{padding-left:3px;padding-right:3px}.gui-py-3{padding-bottom:3px;padding-top:3px}.gui-p-4{padding:4px}.gui-px-4{padding-left:4px;padding-right:4px}.gui-py-4{padding-bottom:4px;padding-top:4px}.gui-p-5{padding:6px}.gui-px-5{padding-left:6px;padding-right:6px}.gui-py-5{padding-bottom:6px;padding-top:6px}.gui-p-6{padding:8px}.gui-px-6{padding-left:8px;padding-right:8px}.gui-py-6{padding-bottom:8px;padding-top:8px}.gui-p-7{padding:10px}.gui-px-7{padding-left:10px;padding-right:10px}.gui-py-7{padding-bottom:10px;padding-top:10px}.gui-p-8{padding:12px}.gui-px-8{padding-left:12px;padding-right:12px}.gui-py-8{padding-bottom:12px;padding-top:12px}.gui-p-10{padding:16px}.gui-px-10{padding-left:16px;padding-right:16px}.gui-py-10{padding-bottom:16px;padding-top:16px}.gui-p-13{padding:22px}.gui-px-13{padding-left:22px;padding-right:22px}.gui-py-13{padding-bottom:22px;padding-top:22px}.gui-p-23{padding:42px}.gui-px-23{padding-left:42px;padding-right:42px}.gui-py-23{padding-bottom:42px;padding-top:42px}.gui-pr-10{padding-right:16px}.gui-pl-9{padding-right:10px}.gui-pb-6{padding-bottom:8px}.gui-pb-12{padding-bottom:20px}.gui-pl-21{padding-left:38px}.gui-pt-4{padding-top:4px}.gui-pt-6{padding-top:8px}.gui-pt-10{padding-top:16px}.gui-pt-12{padding-top:20px}.gui-pt-14{padding-top:24px}.gui-static{position:static}.gui-fixed{position:fixed}.gui-relative{position:relative}.gui-absolute{position:absolute}.gui-text-xxs{font-size:11px}.gui-text-xs{font-size:12px}.gui-text-sm{font-size:13px}.gui-text-base{font-size:14px}.gui-text-lg{font-size:16px}.gui-text-xl{font-size:18px}.gui-text-2xl{font-size:20px}.gui-text-3xl{font-size:22px}.gui-leading-4{line-height:16px}.gui-leading-6{line-height:24px}.gui-font-thin{font-weight:100}.gui-font-extralight{font-weight:200}.gui-font-light{font-weight:300}.gui-font-normal{font-weight:400}.gui-font-medium{font-weight:500}.gui-font-semibold{font-weight:600}.gui-font-bold{font-weight:700}.gui-font-extrabold{font-weight:800}.gui-font-black{font-weight:900}.gui-italic{font-style:italic}.gui-not-italic{font-style:normal}.gui-whitespace-nowrap{white-space:nowrap}.gui-overflow-ellipsis{text-overflow:ellipsis}.gui-no-underline{text-decoration:none}.gui-text-center{text-align:center}.gui-w-full{width:100%}.gui-w-96{width:384px}.gui-w-3\\/5{width:60%}.gui-fabric-dialog *,.gui-fabric-dialog *:after,.gui-fabric-dialog *:before{box-sizing:border-box}.gui-fabric-dialog input{font-size:13px;outline:0}.gui-dialog-blanket{background:rgba(0,0,0,.32);height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:1000}.gui-dialog-wrapper{font-family:Arial;height:100%;width:100%;position:fixed;pointer-events:auto;left:0;top:0;z-index:1000}.gui-dialog-content{background-color:#fff;border-radius:4px;box-shadow:0 3px 7px #999;padding:24px 16px;position:fixed;left:50%;top:50%;transform:scale3d(0,0,0) translate(-50%) translateY(-50%);opacity:0;transition:all .4s;overflow:auto;z-index:1000}.gui-dialog-content.gui-dialog-visible{transform:scaleZ(1) translate(-50%) translateY(-50%);opacity:1}\n",".gui-dark .gui-dialog-wrapper .gui-dialog-content{background:#424242;box-shadow:0 1px 2px #424242;color:#bdbdbd}.gui-dark .gui-dialog-wrapper .gui-dialog-content .gui-dialog-close:before,.gui-dark .gui-dialog-wrapper .gui-dialog-content .gui-dialog-close:after{background:#bdbdbd}\n"],encapsulation:2,changeDetection:0}),i})(),op=(()=>{class i{constructor(){this.theme$=new Ve.B}onTheme(){return this.theme$.asObservable()}nextTheme(e){this.theme$.next(this.toTheme(e))}toTheme(e){switch(e.toLowerCase()){case"fabric":default:return D.FABRIC;case"material":return D.MATERIAL;case"generic":return D.GENERIC;case"light":return D.LIGHT;case"dark":return D.DARK}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),Jr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[si,op],imports:[l.MD,Co]}),i})(),Zr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),sp=(()=>{class i{constructor(e,n){this.elementRef=e,this.renderer=n,this.width=5,this.diameter=90,this.primary=!1,this.secondary=!1,this.r=0,this.circumference=0,this.croppedCircle=0,this.circleSize=0}ngOnChanges(e){this.calculateCircle(),e.primary&&(this.primary?this.addClass("gui-primary"):this.removeClass("gui-primary")),e.secondary&&(this.secondary?this.addClass("gui-secondary"):this.removeClass("gui-secondary"))}ngOnInit(){this.calculateCircle()}calculateCircle(){this.circumference=this.calculateCircumference(this.diameter),this.r=this.calculateR(this.diameter),this.croppedCircle=this.calculateDashes(this.circumference),this.circleSize=this.calculateSize(this.diameter,this.width)}calculateCircumference(e){return e*Math.PI}calculateR(e){return e/2}calculateDashes(e){return.25*e}calculateSize(e,n){return e+n}addClass(e){this.renderer.addClass(this.elementRef.nativeElement,e)}removeClass(e){this.renderer.removeClass(this.elementRef.nativeElement,e)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.sFG))},i.\u0275dir=r.FsC({type:i,inputs:{width:"width",diameter:"diameter",primary:"primary",secondary:"secondary"},features:[r.OA$]}),i})(),en=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),cp=(()=>{class i{constructor(e,n){this.elementRef=e,this.renderer=n,this.name="",this.checked=!1,this.disabled=!1,this.changed=new r.bkB}ngOnChanges(){this.disabled?this.renderer.addClass(this.elementRef.nativeElement,"gui-disabled"):this.renderer.removeClass(this.elementRef.nativeElement,"gui-disabled")}check(){this.checked=!0,this.changed.emit(this.checked)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.sFG))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-radio-button"]],hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-radio-button",!0)},inputs:{name:"name",checked:"checked",disabled:"disabled"},outputs:{changed:"changed"},features:[r.OA$],ngContentSelectors:tt,decls:4,vars:3,consts:[["type","radio",3,"click","checked","disabled"],[1,"gui-radio-checkmark"]],template:function(e,n){1&e&&(r.NAR(),r.j41(0,"label")(1,"input",0),r.bIt("click",function(){return n.check()}),r.k0s(),r.nrm(2,"span",1),r.SdG(3),r.k0s()),2&e&&(r.R7$(),r.Y8G("checked",n.checked)("disabled",n.disabled),r.BMQ("name",n.name))},styles:['.gui-radio-button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;font:14px Arial;line-height:18px;padding-left:32px;position:relative}.gui-radio-button label{cursor:pointer}.gui-radio-button label:hover .gui-radio-checkmark{border-color:#999}.gui-radio-button input{height:0;opacity:0;position:absolute;width:0}.gui-radio-button .gui-radio-checkmark{border-color:#d6d6d6;border-radius:50%;border-style:solid;border-width:1px;box-sizing:content-box;height:16px;left:0;position:absolute;width:16px}.gui-radio-button input:checked+.gui-radio-checkmark{border-color:#999}.gui-radio-button input:focus+.gui-radio-checkmark{border-color:#6fb4e8}.gui-radio-button.gui-disabled.gui-radio-button{color:#ccc;pointer-events:none}.gui-radio-button .gui-radio-checkmark:after{content:"";display:none;position:absolute}.gui-radio-button input:checked+.gui-radio-checkmark:after{box-sizing:content-box;display:block}.gui-radio-button .gui-radio-checkmark:after{background:#333;border-radius:50%;height:16px;-ms-transform:scale(.5);transform:scale(.5);width:16px}\n',".gui-material .gui-radio-button{font-family:Roboto,Helvetica Neue,sans-serif}\n",".gui-dark .gui-radio-button{color:#bdbdbd}.gui-dark .gui-radio-button .gui-radio-checkmark{border-color:#878787}.gui-dark .gui-radio-button input:checked+.gui-radio-checkmark{border-color:#878787}.gui-dark .gui-radio-button input:focus+.gui-radio-checkmark{border-color:#ce93d8}.gui-dark .gui-radio-button .gui-radio-checkmark:after{background:#878787}.gui-dark .gui-radio-button.gui-disabled.gui-radio-button{opacity:.36}\n"],encapsulation:2,changeDetection:0}),i})(),tn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),rn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})();var he=function(i){return i[i.TOP_RIGHT=0]="TOP_RIGHT",i[i.TOP_LEFT=1]="TOP_LEFT",i[i.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",i[i.BOTTOM_LEFT=3]="BOTTOM_LEFT",i}(he||{});let up=(()=>{class i{constructor(e){this.renderer=e,this.onNotificationClose=new r.bkB,this.unsub$=new Ve.B}ngOnInit(){this.notification?.timer.enabled&&(0,Ct.O)(this.notification.timer.duration).pipe((0,I.Q)(this.unsub$)).subscribe(()=>this.closeNotification())}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}closeNotification(){this.addCloseAnimation(),(0,Ct.O)(200).pipe((0,I.Q)(this.unsub$)).subscribe(()=>this.onNotificationClose.emit(this.notification))}addCloseAnimation(){this.notificationRef&&this.renderer.addClass(this.notificationRef.nativeElement,"gui-notification-active")}isRightSide(){return this.notification?.position===he.TOP_RIGHT||this.notification?.position===he.BOTTOM_RIGHT}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.sFG))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-notification"]],viewQuery:function(e,n){if(1&e&&r.GBs(yh,5,r.aKT),2&e){let o;r.mGM(o=r.lsd())&&(n.notificationRef=o.first)}},inputs:{notification:"notification"},outputs:{onNotificationClose:"onNotificationClose"},decls:4,vars:5,consts:[["guiNotification",""],[1,"gui-notification"],[3,"click"]],template:function(e,n){if(1&e){const o=r.RV6();r.j41(0,"div",1,0)(2,"gui-close-icon",2),r.bIt("click",function(){return r.eBV(o),r.Njj(n.closeNotification())}),r.k0s(),r.EFF(3),r.k0s()}2&e&&(r.AVh("gui-notification-right-side",n.isRightSide())("gui-notification-left-side",!n.isRightSide()),r.R7$(3),r.SpI(" ",n.notification.description," "))},dependencies:[bo],encapsulation:2,changeDetection:0}),i})();class lp{constructor(t,e,n,o){this.description=t,this.index=e,this.timer=n,this.position=o}}let Ka=(()=>{class i extends Hi{constructor(e,n,o,s){super(e,n,o,s),this.notificationIndex=0,this.unsub$=new Ve.B}ngOnDestroy(){this.removeNotificationContainer()}getComponent(){return gp}open(e,n){let o=he.TOP_RIGHT;if(n&&n.position&&(o=n.position),this.createFabricNotification(e,o,n),this.isComponentCreated())this.pushNotification(o);else{let s=D.FABRIC,a=this.getInjector();n&&n.theme&&(s=n.theme),n&&n.injector&&(a=n.injector);const c=r.zZn.create({providers:[{provide:ni,useValue:s}],parent:a});this.createAndAppend({injector:c}),this.pushNotification(o)}}close(){this.removeNotificationContainer(),this.unsub$.next(),this.unsub$.complete()}removeNotificationContainer(){this.isComponentCreated()&&(this.removeComponent(),this.notificationIndex=0)}createFabricNotification(e,n,o){let s=i.DEFAULT_DURATION,a=!0;o&&o.timer&&(o.timer.duration&&(s=o.timer.duration,o.timer.extendTimer&&(s=o.timer.duration*(this.notificationIndex+1))),void 0!==o.timer.enabled&&(a=o.timer.enabled)),this.fabricNotification=new lp(e,this.notificationIndex,{duration:s,enabled:a},n),this.notificationIndex+=1}pushNotification(e){if(!this.fabricNotification||!this.isComponentCreated())return;const n=this.getComponentRef();switch(e){case he.TOP_RIGHT:n.instance.notificationsTopRight=n.instance.notificationsTopRight.concat(this.fabricNotification);break;case he.TOP_LEFT:n.instance.notificationsTopLeft=n.instance.notificationsTopLeft.concat(this.fabricNotification);break;case he.BOTTOM_RIGHT:n.instance.notificationsBottomRight=n.instance.notificationsBottomRight.concat(this.fabricNotification);break;case he.BOTTOM_LEFT:n.instance.notificationsBottomLeft=n.instance.notificationsBottomLeft.concat(this.fabricNotification)}n.instance.detectChanges()}}return i.DEFAULT_DURATION=4e3,i.\u0275fac=function(e){return new(e||i)(r.KVO(r.OM3),r.KVO(r.o8S),r.KVO(r.zZn),r.KVO(l.qQ))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),dp=(()=>{class i{constructor(){this.notifications=[],this.onNotificationClose=new r.bkB,this.FabricNotificationPosition=he}emitClosedNotification(e){this.onNotificationClose.emit(e)}isPosition(e){return this.position===e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-notifications-container"]],hostVars:8,hostBindings:function(e,n){2&e&&r.AVh("gui-notifications-top-right",n.isPosition(n.FabricNotificationPosition.TOP_RIGHT))("gui-notifications-top-left",n.isPosition(n.FabricNotificationPosition.TOP_LEFT))("gui-notifications-bottom-right",n.isPosition(n.FabricNotificationPosition.BOTTOM_RIGHT))("gui-notifications-bottom-left",n.isPosition(n.FabricNotificationPosition.BOTTOM_LEFT))},inputs:{notifications:"notifications",position:"position"},outputs:{onNotificationClose:"onNotificationClose"},decls:1,vars:1,consts:[[3,"notification","onNotificationClose",4,"ngFor","ngForOf"],[3,"onNotificationClose","notification"]],template:function(e,n){1&e&&r.DNE(0,Sh,1,1,"gui-notification",0),2&e&&r.Y8G("ngForOf",n.notifications)},dependencies:[l.Sq,up],encapsulation:2,changeDetection:0}),i})(),gp=(()=>{class i extends Oi{constructor(e,n,o,s,a,c){super(n,o,s),this.changeDetectorRef=e,this.notificationsService=c,this.notificationsTopRight=[],this.notificationsTopLeft=[],this.notificationsBottomRight=[],this.notificationsBottomLeft=[],this.FabricNotificationPosition=he}removeNotification(e){switch(e.position){case he.TOP_RIGHT:this.notificationsTopRight=this.notificationsTopRight.filter(n=>n.index!==e.index);break;case he.TOP_LEFT:this.notificationsTopLeft=this.notificationsTopLeft.filter(n=>n.index!==e.index);break;case he.BOTTOM_RIGHT:this.notificationsBottomRight=this.notificationsBottomRight.filter(n=>n.index!==e.index);break;case he.BOTTOM_LEFT:this.notificationsBottomLeft=this.notificationsBottomLeft.filter(n=>n.index!==e.index)}this.detectChanges(),this.checkNotificationsLength()}detectChanges(){this.changeDetectorRef.detectChanges()}checkNotificationsLength(){0===this.notificationsTopRight.length&&0===this.notificationsTopLeft.length&&0===this.notificationsBottomRight.length&&0===this.notificationsBottomLeft.length&&this.notificationsService.close()}isContainerNotEmpty(e){return e&&e.length>0}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(Ne),r.rXU(ni),r.rXU((0,r.Rfq)(()=>Ka)))},i.\u0275cmp=r.VBU({type:i,selectors:[["ng-component"]],hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-notifications-overlay",!0)},features:[r.Vt3],decls:4,vars:4,consts:[[3,"notifications","position","onNotificationClose",4,"ngIf"],[3,"onNotificationClose","notifications","position"]],template:function(e,n){1&e&&r.DNE(0,xh,1,2,"gui-notifications-container",0)(1,wh,1,2,"gui-notifications-container",0)(2,Eh,1,2,"gui-notifications-container",0)(3,_h,1,2,"gui-notifications-container",0),2&e&&(r.Y8G("ngIf",n.isContainerNotEmpty(n.notificationsTopRight)),r.R7$(),r.Y8G("ngIf",n.isContainerNotEmpty(n.notificationsTopLeft)),r.R7$(),r.Y8G("ngIf",n.isContainerNotEmpty(n.notificationsBottomRight)),r.R7$(),r.Y8G("ngIf",n.isContainerNotEmpty(n.notificationsBottomLeft)))},dependencies:[l.bT,dp],styles:[".gui-notifications-overlay{-ms-flex-align:center;align-items:center;font-family:Arial;-ms-flex-pack:center;justify-content:center;max-width:400px;position:fixed;z-index:1000}.gui-notifications-overlay gui-notifications-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:fixed}.gui-notifications-overlay gui-notifications-container.gui-notifications-top-left{left:0;top:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-top-right{right:0;top:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-bottom-left{bottom:0;left:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-bottom-right{bottom:0;right:0}.gui-notifications-overlay .gui-notification{background:#fff;box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;display:block;margin:16px;padding:32px;position:relative}.gui-notifications-overlay .gui-notification.gui-notification-right-side{animation:loadNotificationRightSide .1s forwards}.gui-notifications-overlay .gui-notification.gui-notification-left-side{animation:loadNotificationLeftSide .1s forwards}@keyframes loadNotificationRightSide{0%{transform:translate(50%)}to{transform:translate(0)}}@keyframes loadNotificationLeftSide{0%{transform:translate(-50%)}to{transform:translate(0)}}.gui-notifications-overlay .gui-notification.gui-notification-active.gui-notification-right-side{animation:closeNotificationRightSide .2s forwards}@keyframes closeNotificationRightSide{0%{transform:translate(0)}to{transform:translate(100%)}}.gui-notifications-overlay .gui-notification.gui-notification-active.gui-notification-left-side{animation:closeNotificationLeftSide .2s forwards}@keyframes closeNotificationLeftSide{0%{transform:translate(0)}to{transform:translate(-100%)}}\n",".gui-dark .gui-notification{background:#424242}\n",".gui-material .gui-notification{background:#3949ab;color:#fff;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:500}\n"],encapsulation:2,changeDetection:0}),i})(),qa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[Ka],imports:[l.MD,Co]}),i})(),Qa=(()=>{class i extends Hi{constructor(e,n,o,s){super(e,n,o,s)}getComponent(){return hp}open(e){this.createAndAppend({afterCompCreation:()=>this.afterCompCreation(e)})}close(){this.removeComponent()}afterCompCreation(e){if(this.isComponentCreated()){const n=this.getComponentRef();n.instance.text=e,n.instance.detectChanges()}}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.OM3),r.KVO(r.o8S),r.KVO(r.zZn),r.KVO(l.qQ))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),hp=(()=>{class i{constructor(e,n){this.messageService=e,this.changeDetectorRef=n,this.text=""}detectChanges(){this.changeDetectorRef.detectChanges()}close(){this.messageService.close()}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(Qa),r.rXU(r.gRc))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-message"]],decls:4,vars:1,consts:[[1,"gui-message"],[3,"click"]],template:function(e,n){1&e&&(r.j41(0,"div",0),r.EFF(1),r.j41(2,"button",1),r.bIt("click",function(){return n.close()}),r.EFF(3,"X"),r.k0s()()),2&e&&(r.R7$(),r.SpI(" ",n.text," "))},styles:[".gui-message{left:50%;position:fixed;top:50%}\n"],encapsulation:2,changeDetection:0}),i})(),Ja=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[Qa],imports:[l.MD]}),i})(),pp=(()=>{class i{constructor(){this.svg=""}ngAfterViewInit(){this.svgRef&&(this.svgRef.nativeElement.innerHTML=this.svg)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-svg-template"]],viewQuery:function(e,n){if(1&e&&r.GBs(Ih,5,r.aKT),2&e){let o;r.mGM(o=r.lsd())&&(n.svgRef=o.first)}},inputs:{svg:"svg"},decls:2,vars:0,consts:[["svgEl",""]],template:function(e,n){1&e&&r.nrm(0,"div",null,0)},encapsulation:2,changeDetection:0}),i})(),mp=(()=>{class i extends nt{constructor(e,n,o){super(),this.renderer=e,this.changeDetectorRef=n,this.platformId=o,this.menu=[],this.active="",this.scrollActive=!1,this.Direction=ot,this.listPosition=0,this.menuListWidth=0,this.scrollAmount=60,this.ACTIVE_TAB_CLASS_NAME="gui-active"}ngAfterViewInit(){this.toggleTab(this.active),this.calculateMenuWidth(),this.showMenuArrows(),this.checkIfMenuFitsOnResize()}toggleTab(e){this.removeActive(),this.setActive(e)}isSvg(e){return"object"==typeof e}getTabName(e){return"object"==typeof e?e.name:e}scrollTabList(e){if(this.tabRef){const n=this.tabRef.nativeElement.querySelector(".gui-tab-menu-list").offsetWidth;e&&this.menuListWidth-n>this.listPosition?this.listPosition+=this.scrollAmount:!e&&this.listPosition>0&&(this.listPosition-=this.scrollAmount),this.tabRef.nativeElement.querySelector(".gui-tab-menu-list").scrollLeft=this.listPosition}}setActive(e){if(this.tabRef&&this.tabItemRef){"object"==typeof e&&(e=e.name);const n=this.tabRef.nativeElement.querySelector('[data-tab="'+e+'"]'),o=this.tabItemRef.nativeElement.querySelector('[data-tab="'+e+'"]');this.addClass(n,this.ACTIVE_TAB_CLASS_NAME),this.addClass(o,this.ACTIVE_TAB_CLASS_NAME)}}removeActive(){if(this.tabRef&&this.tabItemRef){const e=this.tabRef.nativeElement.querySelector("."+this.ACTIVE_TAB_CLASS_NAME),n=this.tabItemRef.nativeElement.querySelector("."+this.ACTIVE_TAB_CLASS_NAME);this.removeClass(e,this.ACTIVE_TAB_CLASS_NAME),this.removeClass(n,this.ACTIVE_TAB_CLASS_NAME)}}addClass(e,n){e&&this.renderer.addClass(e,n)}removeClass(e,n){e&&this.renderer.removeClass(e,n)}checkIfMenuFitsOnResize(){(0,l.UE)(this.platformId)&&(0,Ri.R)(window,"resize").pipe((0,I.Q)(this.unsubscribe$)).subscribe(()=>this.showMenuArrows())}calculateMenuWidth(){this.tabMenuList&&(this.menuListWidth=0,this.tabMenuList.forEach(e=>{this.menuListWidth+=e.nativeElement.offsetWidth}))}showMenuArrows(){if(this.tabRef){const e=this.tabRef.nativeElement.querySelector(".gui-tab-menu").offsetWidth;this.scrollActive=e<this.menuListWidth,this.changeDetectorRef.detectChanges()}}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.sFG),r.rXU(r.gRc),r.rXU(r.Agw))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-tab"]],viewQuery:function(e,n){if(1&e&&(r.GBs(Th,5,r.aKT),r.GBs(Fh,5,r.aKT),r.GBs(Mh,5,r.aKT)),2&e){let o;r.mGM(o=r.lsd())&&(n.tabRef=o.first),r.mGM(o=r.lsd())&&(n.tabItemRef=o.first),r.mGM(o=r.lsd())&&(n.tabMenuList=o)}},hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-tab",!0)},inputs:{menu:"menu",active:"active",scrollActive:"scrollActive"},features:[r.Vt3],ngContentSelectors:tt,decls:10,vars:3,consts:[["tab",""],["tabItem",""],["tabMenuList",""],[1,"gui-tab-menu"],["class","scroll-button",3,"click",4,"ngIf"],[1,"gui-tab-menu-list"],["class","gui-tab-menu-item",3,"click",4,"ngFor","ngForOf"],[1,"gui-tab-content"],[1,"scroll-button",3,"click"],[3,"direction"],[1,"gui-tab-menu-item",3,"click"],[4,"ngIf"],[3,"svg"]],template:function(e,n){1&e&&(r.NAR(),r.j41(0,"div",null,0)(2,"div",3),r.DNE(3,Dh,2,1,"div",4),r.j41(4,"div",5),r.DNE(5,Ah,4,3,"div",6),r.k0s(),r.DNE(6,Ph,2,0,"div",4),r.k0s(),r.j41(7,"div",7,1),r.SdG(9),r.k0s()()),2&e&&(r.R7$(3),r.Y8G("ngIf",n.scrollActive),r.R7$(2),r.Y8G("ngForOf",n.menu),r.R7$(),r.Y8G("ngIf",n.scrollActive))},dependencies:[l.Sq,l.bT,Kr,pp],styles:[".gui-tab{font:14px Arial}.gui-tab .gui-tab-content{background:#fff;border-color:#d6d6d6;border-radius:0 0 4px 4px;border-style:solid;border-width:1px;padding:12px}.gui-tab .gui-tab-menu{display:-ms-flexbox;display:flex;margin-bottom:-1px}.gui-tab .gui-tab-menu .gui-tab-menu-list{border-radius:4px 4px 0 0;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;overflow:hidden}.gui-tab .gui-tab-menu .gui-tab-menu-item{background:#fafafa;border-color:#d6d6d6;border-radius:4px 4px 0 0;border-style:solid;border-width:1px;box-sizing:border-box;cursor:pointer;display:inline-block;height:34px;margin-right:2px;padding:8px 16px;position:relative;text-align:center;white-space:nowrap}.gui-tab .gui-tab-menu .gui-tab-menu-item:nth-last-child(1){margin-right:0}.gui-tab .gui-tab-menu .gui-tab-menu-item svg{height:16px;width:16px}.gui-tab .gui-tab-menu .gui-tab-menu-item svg path{fill:#aaa}.gui-tab .gui-tab-menu .scroll-button{background:transparent;box-sizing:border-box;color:#ccc;cursor:pointer;font-weight:700;height:34px;padding:8px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gui-tab .gui-tab-menu .scroll-button:hover svg path{stroke:#464646}.gui-tab .gui-tab-item{display:none}.gui-tab .gui-active.gui-tab-menu-item{background:#fff;border-color:#d6d6d6 #d6d6d6 #fff #d6d6d6;border-radius:4px 4px 0 0;border-style:solid;border-width:1px;color:#2185d0}.gui-tab .gui-active.gui-tab-menu-item svg path{fill:#2185d0}.gui-tab .gui-active.gui-tab-item{display:block}\n",".gui-material .gui-tab{font:14px Roboto,Helvetica Neue,sans-serif}\n",".gui-dark .gui-tab{color:#bdbdbd}.gui-dark .gui-tab .gui-tab-content{background:#424242;border-color:#616161}.gui-dark .gui-tab .gui-tab-menu-item{background:#616161;border-color:transparent}.gui-dark .gui-tab .gui-active.gui-tab-menu-item{background:#424242;border-color:#616161 #616161 transparent #616161;color:#ce93d8}\n"],encapsulation:2,changeDetection:0}),i})(),fp=(()=>{class i{constructor(){this.tab=""}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-tab-item"]],inputs:{tab:"tab"},ngContentSelectors:tt,decls:2,vars:1,consts:[[1,"gui-tab-item"]],template:function(e,n){1&e&&(r.NAR(),r.j41(0,"div",0),r.SdG(1),r.k0s()),2&e&&r.BMQ("data-tab",n.tab)},encapsulation:2,changeDetection:0}),i})(),vp=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),ai=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD,mo,vp]}),i})(),bp=(()=>{class i{constructor(e){this.elementRef=e,this.text="",this.left=0,this.top=0}correctPosition(){this.top-=this.elementRef.nativeElement.offsetHeight}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["ng-component"]],hostVars:6,hostBindings:function(e,n){2&e&&(r.xc7("left",n.left,"px")("top",n.top,"px"),r.AVh("gui-tooltip",!0))},decls:1,vars:1,template:function(e,n){1&e&&r.EFF(0),2&e&&r.SpI(" ",n.text," ")},styles:['.gui-tooltip{background:rgba(0,0,0,.8);border-radius:4px;border-style:solid;border-width:0;box-sizing:border-box;color:#fff;display:block;font:14px Arial;font-weight:400;padding:8px 12px;position:absolute;-ms-transform:translateX(-50%);transform:translate(-50%);vertical-align:middle;z-index:10}.gui-tooltip:after{border-color:#333 transparent transparent transparent;border-style:solid;border-width:5px;content:"";left:50%;margin-left:-5px;position:absolute;top:100%}\n'],encapsulation:2,changeDetection:0}),i})(),yo=(()=>{class i extends nt{constructor(e,n,o,s,a,c){super(),this.componentFactoryResolver=e,this.injector=n,this.elementRef=o,this.applicationRef=s,this.document=a,this.platformId=c,this.text="",this.tooltipRef=null}ngOnInit(){const e=(0,Ri.R)(this.elementRef.nativeElement,"mouseenter"),n=(0,Ri.R)(this.elementRef.nativeElement,"mouseleave");e.pipe((0,I.Q)(this.unsubscribe$)).subscribe(()=>this.show()),n.pipe((0,I.Q)(this.unsubscribe$)).subscribe(()=>{this.tooltipRef&&this.hide()})}show(){const e=this.componentFactoryResolver.resolveComponentFactory(bp).create(this.injector);e.instance.text=this.text,e.changeDetectorRef.detectChanges(),this.document.body.appendChild(e.hostView.rootNodes[0]),this.tooltipRef=e,this.calculateCords(),this.tooltipRef.instance.correctPosition(),this.tooltipRef.changeDetectorRef.detectChanges()}hide(){this.tooltipRef&&(this.applicationRef.detachView(this.tooltipRef.hostView),this.tooltipRef.destroy(),this.tooltipRef=null)}calculateCords(){if(this.tooltipRef){const e=this.elementRef.nativeElement,n=e.getBoundingClientRect(),o=n.bottom,s=n.left;(0,l.UE)(this.platformId)&&(this.tooltipTopPosition=o+window.scrollY-e.offsetHeight-i.tooltipOffset,this.tooltipLeftPosition=window.scrollX+s+e.offsetWidth/2,this.tooltipTopPosition&&(this.tooltipRef.instance.top=this.tooltipTopPosition),this.tooltipLeftPosition&&(this.tooltipRef.instance.left=this.tooltipLeftPosition),this.tooltipRef.changeDetectorRef.detectChanges())}}}return i.tooltipOffset=8,i.\u0275fac=function(e){return new(e||i)(r.rXU(r.OM3),r.rXU(r.zZn),r.rXU(r.aKT),r.rXU(r.o8S),r.rXU(l.qQ),r.rXU(r.Agw))},i.\u0275dir=r.FsC({type:i,selectors:[["","gui-tooltip",""]],inputs:{text:[r.Mj6.None,"gui-tooltip","text"]},exportAs:["guiTooltip"],features:[r.Vt3]}),i})(),Ui=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({}),i})(),Cp=(()=>{class i{constructor(e,n,o){this.window=o,this.verticalPosition=0,this.horizontalPosition=0,this.canOpenUpward=!1,this.calculateCords(e,n)}getVerticalPosition(){return this.verticalPosition}getHorizontalPosition(){return this.horizontalPosition}getCanOpenUpward(){return this.canOpenUpward}calculateCords(e,n){const o=e.nativeElement.getBoundingClientRect(),s=this.window.pageYOffset+o.bottom;this.horizontalPosition=this.window.pageXOffset+o.left,this.verticalPosition=s-i.BORDER_WIDTH,this.calculateDirection(n,e)}calculateDirection(e,n){const o=this.window.innerHeight+this.window.pageYOffset,s=n.nativeElement.offsetHeight,a=e.getHeight();o-this.verticalPosition-a<0&&(this.canOpenUpward=!0,this.verticalPosition-=a+s-i.BORDER_WIDTH)}}return i.BORDER_WIDTH=1,i})();class yp{constructor(t){this.selectOptionsGeometry=t}getHeight(){return this.selectOptionsGeometry.nativeElement.querySelector(".gui-options-list").offsetHeight}getWidth(){return this.selectOptionsGeometry.nativeElement.querySelector(".gui-options-list").offsetWidth}}let nn=(()=>{class i{constructor(e){this.platformId=e,this.selectOptionsCords$=new Ua.m(1)}onSelectOptionsCords(){return this.selectOptionsCords$.asObservable()}setGeometry(e){this.selectContainerGeometry=new yp(e)}nextCords(e){if((0,l.UE)(this.platformId)&&this.selectContainerGeometry){const n=new Cp(e,this.selectContainerGeometry,window);this.selectOptionsCords$.next(n)}}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.Agw))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),So=(()=>{class i{constructor(){this.selectedOption$=new Ua.m(1)}onSelectedOption(){return this.selectedOption$.asObservable()}next(e){this.selectedOption$.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),Sp=(()=>{class i extends Oi{constructor(e,n,o,s,a,c){super(s,a,c),this.selectOptionsGeometryService=e,this.selectService=n,this.changeDetectorRef=o,this.options=[],this.optionsContainerLeftAttribute=0,this.optionsContainerTopAttribute=0,this.width=100,this.canOpenUpward=!1}ngOnInit(){this.selectOptionsGeometryService.onSelectOptionsCords().pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.optionsContainerTopAttribute=e.getVerticalPosition(),this.optionsContainerLeftAttribute=e.getHorizontalPosition(),this.canOpenUpward=e.getCanOpenUpward(),this.changeDetectorRef.detectChanges()}),this.selectService.onSelectedOption().pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.selectedOption=e,this.changeDetectorRef.detectChanges()})}ngAfterViewInit(){super.ngAfterViewInit(),this.initOpenAnimation()}getElementRef(){return super.getElementRef()}detectChanges(){this.changeDetectorRef.detectChanges()}selectOption(e){this.selectService.next(e)}isOptionSelected(e){return this.selectedOption?.name===e.name}getOptionValue(e){return e.value?e.value:e.name}initOpenAnimation(){if(this.optionListRef){const e=this.optionListRef.nativeElement;this.getRenderer().addClass(e,"gui-options-opened")}}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(nn),r.rXU(So),r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(Ne))},i.\u0275cmp=r.VBU({type:i,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&r.GBs(Gh,5,r.aKT),2&e){let o;r.mGM(o=r.lsd())&&(n.optionListRef=o.first)}},features:[r.Vt3],decls:3,vars:9,consts:[["optionList",""],[1,"gui-options-list"],["class","gui-option",3,"gui-option-selected","width","click",4,"ngFor","ngForOf"],[1,"gui-option",3,"click"]],template:function(e,n){1&e&&(r.j41(0,"div",1,0),r.DNE(2,Vh,2,5,"div",2),r.k0s()),2&e&&(r.xc7("left",n.optionsContainerLeftAttribute,"px")("top",n.optionsContainerTopAttribute,"px"),r.AVh("gui-upward",n.canOpenUpward)("gui-downward",!n.canOpenUpward),r.R7$(2),r.Y8G("ngForOf",n.options))},dependencies:[l.Sq],encapsulation:2,changeDetection:0}),i})(),Za=(()=>{class i extends Hi{constructor(e,n,o,s,a){super(n,o,s,a),this.selectOptionsGeometryService=e}getComponent(){return Sp}open(e,n){this.createAndAppend({afterCompCreation:()=>this.afterCompCreation(e,n)})}closeOptions(){this.removeComponent()}afterCompCreation(e,n){if(this.isComponentCreated()){const o=this.getComponentRef();o.instance.options=e,o.instance.width=n,o.instance.detectChanges(),this.selectOptionsGeometryService.setGeometry(o.instance.getElementRef()),o.instance.detectChanges()}}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(nn),r.KVO(r.OM3),r.KVO(r.o8S),r.KVO(r.zZn),r.KVO(l.qQ))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),xo=(()=>{class i extends nt{constructor(e,n,o,s,a,c,u){super(),this.selectService=e,this.selectOptionsGeometryService=n,this.selectOptionModalService=o,this.changeDetectorRef=s,this.platformId=a,this.elementRef=c,this.renderer=u,this.options=[],this.placeholder="...",this.width=100,this.disabled=!1,this.optionChanged=new r.bkB,this.doNotEmitValues=!1,this.opened=!1}ngOnChanges(e){e.placeholder&&(this.containerText=this.placeholder),e.selected&&this.selected&&this.tryToSelect(this.selected)}ngOnInit(){this.selectService.onSelectedOption().pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{this.emitSelectedOption(e),this.selectedOption=e,this.containerText=e.value??"",this.doNotEmitValues=!1,this.changeDetectorRef.detectChanges()}),this.selectOptionsGeometryService.onSelectOptionsCords().pipe((0,I.Q)(this.unsubscribe$)).subscribe(e=>{e.getCanOpenUpward()?this.openUpward():this.openDownward()})}tryToOpen(e){this.isContainerDisabled(e)?e.stopPropagation():(this.open(this.options,this.width),this.toggleOptions(!this.opened),this.changeDetectorRef.detectChanges())}clickOutside(e){this.isContainerClicked(e)&&this.toggleOptions(!1)}toggleOptions(e){this.opened=e,this.maintainOptionsListPosition(),this.opened||this.closeOptions()}isOptionSelected(e){return this.selectedOption?.name===e.name}getOptionValue(e){return e?e.value?e.value:e.name:""}open(e,n){this.containerRef&&(this.closeSelect(),this.selectOptionModalService.open(e,n),this.selectOptionsGeometryService.nextCords(this.containerRef))}tryToSelect(e){(!this.selectedOption||e.name!==this.selectedOption.name)&&(this.doNotEmitValues=!0,this.selectService.next(e),this.selectedOption=e,this.containerText=this.getOptionValue(e))}maintainOptionsListPosition(){(0,l.UE)(this.platformId)&&(this.opened?this.scrollListenerFn=this.renderer.listen("window","scroll",()=>{this.containerRef&&this.selectOptionsGeometryService.nextCords(this.containerRef)}):this.scrollListenerFn&&this.scrollListenerFn())}closeSelect(){this.selectOptionModalService.closeOptions()}emitSelectedOption(e){this.doNotEmitValues||this.isOptionSelected(e)||this.optionChanged.emit(e)}openDownward(){this.addClass("gui-options-opened"),this.addClass("gui-downward"),this.removeClass("gui-upward")}openUpward(){this.addClass("gui-options-opened"),this.addClass("gui-upward"),this.removeClass("gui-downward")}closeOptions(){this.elementRef.nativeElement.classList.contains("gui-options-opened")&&(this.removeClass("gui-options-opened"),this.closeSelect())}isContainerClicked(e){return!this.elementRef.nativeElement.contains(e.target)}isContainerDisabled(e){return e.target.classList.contains("gui-disabled")}addClass(e){this.renderer.addClass(this.elementRef.nativeElement,e)}removeClass(e){this.renderer.removeClass(this.elementRef.nativeElement,e)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(So),r.rXU(nn),r.rXU(Za),r.rXU(r.gRc),r.rXU(r.Agw),r.rXU(r.aKT),r.rXU(r.sFG))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-select"]],viewQuery:function(e,n){if(1&e&&r.GBs(Ai,5,r.aKT),2&e){let o;r.mGM(o=r.lsd())&&(n.containerRef=o.first)}},hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-select",!0)},inputs:{options:"options",placeholder:"placeholder",selected:"selected",width:"width",disabled:"disabled"},outputs:{optionChanged:"optionChanged"},features:[r.Jv_([So,nn,Za]),r.Vt3,r.OA$],decls:5,vars:5,consts:[["container",""],[1,"gui-select-container",3,"click"],[1,"gui-select-value"],[1,"gui-select-arrow"]],template:function(e,n){if(1&e){const o=r.RV6();r.j41(0,"div",1,0),r.bIt("click",function(a){return r.eBV(o),r.Njj(n.tryToOpen(a))})("click",function(a){return r.eBV(o),r.Njj(n.clickOutside(a))},!1,r.EBC),r.j41(2,"div",2),r.EFF(3),r.k0s(),r.nrm(4,"span",3),r.k0s()}2&e&&(r.xc7("width",n.width,"px"),r.AVh("gui-disabled",n.disabled),r.R7$(3),r.SpI(" ",n.containerText," "))},styles:[".gui-select .gui-select-container{min-height:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#fff;border-color:#d6d6d6;border-radius:4px;border-style:solid;border-width:1px;box-sizing:content-box;color:#333;cursor:pointer;display:inline-block;font:14px Arial;padding:8px 24px 8px 12px;position:relative}.gui-select .gui-select-container:hover{border-color:#999}.gui-select .gui-select-container .gui-select-arrow{border:4px solid transparent;border-color:#595959 transparent transparent transparent;height:0;margin:8px;position:absolute;right:5px;top:5px;width:0}.gui-select.gui-options-opened .gui-select-container{border-color:#6fb4e8 #6fb4e8 transparent #6fb4e8;border-radius:4px 4px 0 0;border-width:1px}.gui-select.gui-downward .gui-options-list{border-color:#6fb4e8;border-radius:0 0 4px 4px;border-style:solid;border-top:none;border-width:1px}.gui-select.gui-downward .gui-option{border-color:#e6e6e6;border-style:solid;border-width:1px 0 0 0}.gui-select.gui-upward .gui-select-container{padding:8px 12px 8px 24px;-ms-transform:rotate(180deg);transform:rotate(180deg)}.gui-select.gui-upward .gui-select-container .gui-select-value{-ms-transform:rotate(180deg);transform:rotate(180deg)}.gui-select.gui-upward .gui-select-container .gui-select-arrow{border:4px solid transparent;border-color:transparent transparent #595959 transparent;bottom:5px;left:5px;top:auto}.gui-select.gui-upward .gui-options-list{border-color:#6fb4e8;border-radius:0 0 4px 4px;border-style:solid;border-top:none;border-width:1px}.gui-select.gui-upward .gui-option{border-color:#e6e6e6;border-style:solid;border-width:0 0 1px 0;-ms-transform:rotate(180deg);transform:rotate(180deg)}.gui-select .gui-disabled{color:#ccc;pointer-events:none}.gui-select .gui-disabled .gui-select-arrow{border-color:#cccccc transparent transparent transparent}.gui-select .initAnimationDisabled.gui-options-list{display:none}.gui-options-list{background:#fff;border-color:#6fb4e8;border-radius:0 0 4px 4px;border-style:solid;border-width:0 1px 1px 1px;overflow:hidden;padding:0;position:absolute;z-index:1000}.gui-options-list .gui-option{box-sizing:content-box;cursor:pointer;font-size:14px;list-style-type:none;padding:8px 24px 8px 12px}.gui-options-list .gui-option:hover{background:#dcdcdc}.gui-options-list .gui-option-selected{background:#e6e6e6;font-weight:700}.gui-options-list.gui-upward{animation:loadUpward .2s forwards;border-bottom:none;border-color:#6fb4e8;border-radius:4px 4px 0 0;border-style:solid;border-width:1px}@keyframes loadUpward{0%{transform:translateY(50%) scaleY(0)}to{transform:translateY(0) scaleY(1)}}.gui-options-list.gui-downward{animation:loadDownward .2s forwards;border-color:#6fb4e8;border-radius:0 0 4px 4px;border-style:solid;border-width:0 1px 1px 1px}@keyframes loadDownward{0%{transform:translateY(-50%) scaleY(0)}to{transform:translateY(0) scaleY(1)}}\n",".gui-material .gui-select .gui-select-container,.gui-material .gui-options-list .gui-option{font-family:Roboto,Helvetica Neue,sans-serif}\n",".gui-dark .gui-select .gui-select-container{background:#424242;border-color:#616161;color:#bdbdbd}.gui-dark .gui-select .gui-select-container:hover{border-color:#ce93d8}.gui-dark .gui-select .gui-select-container .gui-select-arrow{border-color:#ce93d8 transparent transparent transparent}.gui-dark .gui-select.gui-options-opened .gui-select-container{border-color:#ce93d8}.gui-dark .gui-select.gui-upward .gui-select-container .gui-select-arrow{border-color:transparent transparent #ce93d8 transparent}.gui-dark .gui-select .gui-disabled{opacity:.36}.gui-dark .gui-options-list{border-color:#ce93d8}.gui-dark .gui-options-list .gui-option{background:#424242;border-color:#757575;color:#bdbdbd}.gui-dark .gui-options-list .gui-option:hover{background:#616161}.gui-dark .gui-options-list .gui-option-selected{background:#757575}\n",".gui-light .gui-select .gui-select-container{background:#fff;color:#333;font-family:Roboto,Helvetica Neue,sans-serif}.gui-light .gui-options-list .gui-option:hover{background:#f6f6f5}\n"],encapsulation:2,changeDetection:0}),i})(),on=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),ec=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),xp=(()=>{class i extends sp{constructor(e,n){super(e,n),this.color=""}ngOnInit(){super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.sFG))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-spinner"]],hostVars:2,hostBindings:function(e,n){2&e&&r.AVh("gui-spinner",!0)},inputs:{color:"color"},features:[r.Vt3],decls:5,vars:30,consts:[[1,"gui-spinner"],[1,"circle-outer"],["cx","50%","cy","50%"],[1,"circle-inner"]],template:function(e,n){1&e&&(r.j41(0,"div",0),r.qSk(),r.j41(1,"svg",1),r.nrm(2,"circle",2),r.k0s(),r.j41(3,"svg",3),r.nrm(4,"circle",2),r.k0s()()),2&e&&(r.xc7("height",n.circleSize,"px")("width",n.circleSize,"px"),r.R7$(),r.xc7("height",n.circleSize,"px")("width",n.circleSize,"px"),r.R7$(),r.xc7("stroke-dasharray",n.croppedCircle)("stroke-dashoffset",n.circumference)("stroke-width",n.width)("stroke",n.color),r.BMQ("r",n.r),r.R7$(),r.xc7("height",n.circleSize,"px")("width",n.circleSize,"px"),r.R7$(),r.xc7("stroke-dasharray",n.croppedCircle)("stroke-dashoffset",n.circumference)("stroke-width",n.width)("stroke",n.color),r.BMQ("r",n.r))},styles:["@keyframes gui-spin{0%{transform:rotate(-90deg)}to{transform:rotate(270deg)}}@keyframes gui-spin-reverse{0%{transform:rotate(-90deg) scale(.8)}to{transform:rotate(270deg) scale(.8)}}.gui-spinner{display:inline-block;margin:4px;position:relative;-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.gui-spinner circle{fill:transparent;stroke:#999}.gui-spinner svg{position:absolute}.gui-spinner .circle-inner{animation:gui-spin-reverse 2s infinite linear forwards reverse}.gui-spinner .circle-outer{animation:gui-spin 2s infinite linear forwards}.gui-primary .gui-spinner.gui-spinner circle{stroke:#2185d0}.gui-secondary .gui-spinner.gui-spinner circle{stroke:#3cb371}\n",".gui-material .gui-spinner circle{stroke:#3949ab}.gui-material .gui-primary .gui-spinner circle{stroke:#6200ee}.gui-material .gui-secondary .gui-spinner circle{stroke:#0097a7}\n",".gui-dark .gui-spinner circle{stroke:#424242}.gui-dark .gui-primary .gui-spinner circle{stroke:#ce93d8}.gui-dark .gui-secondary .gui-spinner circle{stroke:#80cbc4}\n"],encapsulation:2,changeDetection:0}),i})(),sn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),an=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD,Oe,Oe]}),i})(),tc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),wp=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})(),ic=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD,wp]}),i})(),Ht=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[Ne],imports:[l.MD,Wr,Oe,Yr,ja,yt,Bt,fo,qr,Qr,Jr,Bi,tn,rn,ic,qa,Ja,ai,Ui,Zr,en,on,ec,sn,an,tc,St,Wr,Oe,Yr,ja,yt,Bt,fo,qr,Qr,Jr,Bi,tn,rn,ic,qa,Ja,ai,Ui,Zr,en,on,ec,sn,an,tc,St]}),i})();var $i=M(1635),Ep=M(152),_p=M(3386);const Tp=M(3028).Z;var rc=M(4572),Fp=M(4779);const Mp=["gui-row-detail",""],Dp=["gui-paging-navigator","","paging",""],kp=["gui-paging-select","","paging",""],Rp=["gui-paging-stats","","paging",""];function Ap(i,t){if(1&i&&(r.qex(0),r.j41(1,"span",2)(2,"span"),r.EFF(3),r.k0s(),r.EFF(4," - "),r.j41(5,"span"),r.EFF(6),r.k0s()(),r.j41(7,"span"),r.EFF(8),r.nI1(9,"guiTranslate"),r.k0s(),r.j41(10,"span",3),r.EFF(11),r.k0s(),r.bVm()),2&i){const e=r.XpG();r.R7$(3),r.JRh(e.firstItemIndex),r.R7$(3),r.JRh(e.lastItemIndex),r.R7$(2),r.SpI(" ",r.bMT(9,4,"pagingOf")," "),r.R7$(3),r.SpI(" ",e.sourceSize," ")}}function Pp(i,t){1&i&&(r.j41(0,"span",4),r.EFF(1),r.nI1(2,"guiTranslate"),r.k0s()),2&i&&(r.R7$(),r.SpI(" ",r.bMT(2,1,"pagingNoItems")," "))}const Gp=["gui-paging-alternative-navigator","","paging","","sourceSize",""],Vp=["*"],Op=["gui-paging-alternative-pages","","paging",""];function Np(i,t){if(1&i){const e=r.RV6();r.j41(0,"div")(1,"div",3)(2,"div",4),r.bIt("click",function(){const o=r.eBV(e).$implicit,s=r.XpG(2);return r.Njj(s.goToPage(o))}),r.EFF(3),r.k0s()()()}if(2&i){const e=t.$implicit,n=r.XpG(2);r.R7$(),r.AVh("gui-paging-active-page",n.activePage(e))("gui-paging-visible-page",n.calculateVisiblePages(e)),r.R7$(2),r.SpI(" ",e," ")}}function Bp(i,t){if(1&i&&(r.qex(0),r.DNE(1,Np,4,5,"div",2),r.bVm()),2&i){const e=r.XpG();r.R7$(),r.Y8G("ngForOf",e.pages)}}function Hp(i,t){1&i&&(r.j41(0,"span",5),r.EFF(1),r.nI1(2,"guiTranslate"),r.k0s()),2&i&&(r.R7$(),r.SpI(" ",r.bMT(2,1,"pagingNoItems")," "))}const Up=["gui-paging","","position",""];function $p(i,t){if(1&i){const e=r.RV6();r.qex(0),r.j41(1,"div",4),r.bIt("pageSizeChanged",function(o){r.eBV(e);const s=r.XpG(3);return r.Njj(s.changePageSize(o))}),r.k0s(),r.nrm(2,"div",5),r.j41(3,"div",6),r.bIt("nextPageChanged",function(){r.eBV(e);const o=r.XpG(2).$implicit,s=r.XpG();return r.Njj(s.nextPage(o.sourceSize))})("prevPageChanged",function(){r.eBV(e);const o=r.XpG(3);return r.Njj(o.prevPage())}),r.k0s(),r.bVm()}if(2&i){const e=r.XpG(2).$implicit;r.R7$(),r.Y8G("paging",e.paging),r.R7$(),r.Y8G("paging",e.paging),r.R7$(),r.Y8G("paging",e.paging)("sourceSize",e.sourceSize)}}function jp(i,t){if(1&i){const e=r.RV6();r.nrm(0,"div",5),r.j41(1,"div",6),r.bIt("nextPageChanged",function(){r.eBV(e);const o=r.XpG(2).$implicit,s=r.XpG();return r.Njj(s.nextPage(o.sourceSize))})("prevPageChanged",function(){r.eBV(e);const o=r.XpG(3);return r.Njj(o.prevPage())}),r.k0s()}if(2&i){const e=r.XpG(2).$implicit;r.Y8G("paging",e.paging),r.R7$(),r.Y8G("paging",e.paging)("sourceSize",e.sourceSize)}}function Xp(i,t){if(1&i&&(r.qex(0),r.DNE(1,$p,4,4,"ng-container",3)(2,jp,2,3,"ng-template",null,0,r.C5r),r.bVm()),2&i){const e=r.sdS(3),n=r.XpG(2);r.R7$(),r.Y8G("ngIf",!n.minimal)("ngIfElse",e)}}function Lp(i,t){if(1&i){const e=r.RV6();r.qex(0),r.j41(1,"div",4),r.bIt("pageSizeChanged",function(o){r.eBV(e);const s=r.XpG(2);return r.Njj(s.changePageSize(o))}),r.k0s(),r.j41(2,"div",7),r.bIt("nextPageChanged",function(){r.eBV(e);const o=r.XpG().$implicit,s=r.XpG();return r.Njj(s.nextPage(o.sourceSize))})("prevPageChanged",function(){r.eBV(e);const o=r.XpG(2);return r.Njj(o.prevPage())}),r.nrm(3,"div",8),r.k0s(),r.bVm()}if(2&i){const e=r.XpG().$implicit;r.R7$(),r.Y8G("paging",e.paging),r.R7$(),r.Y8G("paging",e.paging)("sourceSize",e.sourceSize),r.R7$(),r.Y8G("paging",e.paging)("sourceSize",e.sourceSize)}}function zp(i,t){if(1&i&&(r.qex(0),r.DNE(1,Xp,4,2,"ng-container",2)(2,Lp,4,5,"ng-container",2),r.bVm()),2&i){const e=t.$implicit;r.R7$(),r.Y8G("ngIf",e.isPagingVisible&&!e.alternativeDisplay),r.R7$(),r.Y8G("ngIf",e.isPagingVisible&&e.alternativeDisplay)}}const wo=["value",""];function Wp(i,t){if(1&i&&r.nrm(0,"gui-percentage-view",3),2&i){const e=r.XpG();r.Y8G("value",e.value)}}function Yp(i,t){if(1&i&&(r.qex(0),r.nrm(1,"span",2),r.nI1(2,"guiSafe"),r.bVm()),2&i){const e=r.XpG();r.R7$(),r.Y8G("innerHTML",r.i5U(2,1,e.value.value,"html"),r.npT)}}function Kp(i,t){if(1&i&&(r.j41(0,"span"),r.EFF(1),r.k0s()),2&i){const e=r.XpG();r.R7$(),r.SpI(" ",e.value.value," ")}}const qp=["text"],nc=["number"],Qp=["chip"],Jp=["link"],Zp=["image"],oc=["checkbox"],em=["bold"],tm=["italic"],im=["custom"],rm=["function"],nm=["html"],sc=["date"],om=["bar"],sm=["percentageBar"],am=["percentage"];function cm(i,t){1&i&&r.nrm(0,"gui-view-text",15),2&i&&r.Y8G("value",t.element)}function um(i,t){if(1&i&&(r.j41(0,"span",16),r.EFF(1),r.k0s()),2&i){const e=t.element;r.R7$(),r.SpI(" ",e.value," ")}}function lm(i,t){if(1&i&&(r.j41(0,"gui-chip"),r.nrm(1,"gui-view-text",15),r.k0s()),2&i){const e=t.element;r.R7$(),r.Y8G("value",e)}}function dm(i,t){if(1&i&&(r.j41(0,"a",17),r.nrm(1,"gui-view-text",15),r.k0s()),2&i){const e=t.element;r.FS9("href",e.value,r.B4B),r.R7$(),r.Y8G("value",e)}}function gm(i,t){1&i&&r.nrm(0,"img",18),2&i&&r.FS9("src",t.element.value,r.B4B)}function hm(i,t){if(1&i&&(r.j41(0,"span",19),r.nrm(1,"gui-checkbox",20),r.k0s()),2&i){const e=t.element;r.R7$(),r.Y8G("checked",!!e.value)("disabled",!0)}}function pm(i,t){1&i&&r.nrm(0,"gui-view-text",21),2&i&&r.Y8G("value",t.element)}function mm(i,t){1&i&&r.nrm(0,"gui-view-text",22),2&i&&r.Y8G("value",t.element)}function fm(i,t){1&i&&r.EFF(0),2&i&&r.SpI(" ",t.element.value," ")}function vm(i,t){1&i&&r.nrm(0,"gui-function-view",23),2&i&&r.Y8G("element",t.element)}function bm(i,t){1&i&&r.nrm(0,"gui-html-view",23),2&i&&r.Y8G("element",t.element)}function Cm(i,t){if(1&i&&(r.j41(0,"span",24),r.EFF(1),r.nI1(2,"date"),r.k0s()),2&i){const e=t.element;r.R7$(),r.JRh(r.i5U(2,1,e.value,"dd/MM/yyyy"))}}function ym(i,t){1&i&&r.nrm(0,"gui-bar-view",25),2&i&&r.Y8G("value",t.element.value)("showPercentage",!1)}function Sm(i,t){1&i&&r.nrm(0,"gui-bar-view",25),2&i&&r.Y8G("value",t.element.value)("showPercentage",!0)}function xm(i,t){1&i&&r.nrm(0,"gui-percentage-view",15),2&i&&r.Y8G("value",t.element.value)}const wm=["input"],Em=["datepicker"],_m=["string"],Im=["boolean"],Tm=["empty"];function Fm(i,t){if(1&i&&r.nrm(0,"gui-string-edit",5),2&i){const n=t.value,o=t.status,s=t.focus;r.Y8G("valueChanges",t.valueChanges)("value",n)("status",o)("focus",s)}}function Mm(i,t){if(1&i&&r.nrm(0,"gui-number-edit",5),2&i){const n=t.value,o=t.status,s=t.focus;r.Y8G("valueChanges",t.valueChanges)("value",n)("status",o)("focus",s)}}function Dm(i,t){if(1&i&&r.nrm(0,"gui-boolean-edit",5),2&i){const n=t.value,o=t.status,s=t.focus;r.Y8G("valueChanges",t.valueChanges)("value",n)("status",o)("focus",s)}}function km(i,t){if(1&i&&r.nrm(0,"gui-date-edit",6),2&i){const n=t.value,o=t.status,s=t.focus,a=t.parent;r.Y8G("valueChanges",t.valueChanges)("value",n)("status",o)("focus",s)("parent",a)}}function Rm(i,t){}const Am=["gui-structure-summaries-panel","","enabled",""];function Pm(i,t){1&i&&r.nrm(0,"div",4)}function Gm(i,t){if(1&i&&(r.j41(0,"div",7)(1,"span",8),r.EFF(2),r.nI1(3,"guiTranslate"),r.k0s(),r.j41(4,"span",9),r.EFF(5),r.k0s()()),2&i){const e=r.XpG(2).$implicit,n=r.XpG(2).$implicit;r.R7$(),r.Y8G("gui-tooltip",n.summariesTranslations.countTooltip),r.R7$(),r.JRh(r.bMT(3,3,"summariesCount")),r.R7$(3),r.JRh(n.summaries.get(e.getFieldId().getId()).count)}}function Vm(i,t){if(1&i&&(r.j41(0,"div",7)(1,"span",8),r.EFF(2),r.nI1(3,"guiTranslate"),r.k0s(),r.j41(4,"span",9),r.EFF(5),r.k0s()()),2&i){const e=r.XpG(2).$implicit,n=r.XpG(2).$implicit;r.R7$(),r.Y8G("gui-tooltip",n.summariesTranslations.distinctTooltip),r.R7$(),r.JRh(r.bMT(3,3,"summariesDist")),r.R7$(3),r.JRh(n.summaries.get(e.getFieldId().getId()).distinct)}}function Om(i,t){if(1&i&&(r.j41(0,"div",7)(1,"span"),r.EFF(2),r.nI1(3,"guiTranslate"),r.k0s(),r.j41(4,"span",9),r.EFF(5),r.k0s()()),2&i){const e=r.XpG(2).$implicit,n=r.XpG(2).$implicit;r.R7$(2),r.SpI(" ",r.bMT(3,2,"summariesSum")," "),r.R7$(3),r.JRh(n.summaries.get(e.getFieldId().getId()).sum)}}function Nm(i,t){if(1&i&&(r.j41(0,"div",7)(1,"span",8),r.EFF(2),r.nI1(3,"guiTranslate"),r.k0s(),r.j41(4,"span",9),r.EFF(5),r.k0s()()),2&i){const e=r.XpG(2).$implicit,n=r.XpG(2).$implicit;r.R7$(),r.Y8G("gui-tooltip",n.summariesTranslations.averageTooltip),r.R7$(),r.JRh(r.bMT(3,3,"summariesAvg")),r.R7$(3),r.JRh(n.summaries.get(e.getFieldId().getId()).average)}}function Bm(i,t){if(1&i&&(r.j41(0,"div",7)(1,"span",8),r.EFF(2),r.nI1(3,"guiTranslate"),r.k0s(),r.j41(4,"span",9),r.EFF(5),r.k0s()()),2&i){const e=r.XpG(2).$implicit,n=r.XpG(2).$implicit;r.R7$(),r.Y8G("gui-tooltip",n.summariesTranslations.minTooltip),r.R7$(),r.SpI(" ",r.bMT(3,3,"summariesMin")," "),r.R7$(3),r.JRh(n.summaries.get(e.getFieldId().getId()).min)}}function Hm(i,t){if(1&i&&(r.j41(0,"div",7)(1,"span",8),r.EFF(2),r.nI1(3,"guiTranslate"),r.k0s(),r.j41(4,"span",9),r.EFF(5),r.k0s()()),2&i){const e=r.XpG(2).$implicit,n=r.XpG(2).$implicit;r.R7$(),r.Y8G("gui-tooltip",n.summariesTranslations.maxTooltip),r.R7$(),r.SpI(" ",r.bMT(3,3,"summariesMax")," "),r.R7$(3),r.JRh(n.summaries.get(e.getFieldId().getId()).max)}}function Um(i,t){if(1&i&&(r.j41(0,"div",7)(1,"span",8),r.EFF(2),r.nI1(3,"guiTranslate"),r.k0s(),r.j41(4,"span",9),r.EFF(5),r.k0s()()),2&i){const e=r.XpG(2).$implicit,n=r.XpG(2).$implicit;r.R7$(),r.Y8G("gui-tooltip",n.summariesTranslations.medTooltip),r.R7$(),r.JRh(r.bMT(3,3,"summariesMed")),r.R7$(3),r.JRh(n.summaries.get(e.getFieldId().getId()).median)}}function $m(i,t){if(1&i&&(r.j41(0,"div",7)(1,"span"),r.EFF(2),r.nI1(3,"guiTranslate"),r.k0s(),r.j41(4,"span",9),r.EFF(5),r.k0s()()),2&i){const e=r.XpG(2).$implicit,n=r.XpG(2).$implicit;r.R7$(2),r.JRh(r.bMT(3,2,"summariesTruthy")),r.R7$(3),r.JRh(n.summaries.get(e.getFieldId().getId()).truthy)}}function jm(i,t){if(1&i&&(r.j41(0,"div",7)(1,"span"),r.EFF(2),r.nI1(3,"guiTranslate"),r.k0s(),r.j41(4,"span",9),r.EFF(5),r.k0s()()),2&i){const e=r.XpG(2).$implicit,n=r.XpG(2).$implicit;r.R7$(2),r.JRh(r.bMT(3,2,"summariesFalsy")),r.R7$(3),r.JRh(n.summaries.get(e.getFieldId().getId()).falsy)}}function Xm(i,t){if(1&i&&(r.qex(0),r.DNE(1,Gm,6,5,"div",6)(2,Vm,6,5,"div",6)(3,Om,6,4,"div",6)(4,Nm,6,5,"div",6)(5,Bm,6,5,"div",6)(6,Hm,6,5,"div",6)(7,Um,6,5,"div",6)(8,$m,6,4,"div",6)(9,jm,6,4,"div",6),r.bVm()),2&i){const e=r.XpG().$implicit,n=r.XpG(2).$implicit,o=r.XpG();r.R7$(),r.Y8G("ngIf",o.isSummariesTypePresent(n.summaries.get(e.getFieldId().getId()).count)),r.R7$(),r.Y8G("ngIf",o.isSummariesTypePresent(n.summaries.get(e.getFieldId().getId()).distinct)),r.R7$(),r.Y8G("ngIf",o.isSummariesTypePresent(n.summaries.get(e.getFieldId().getId()).sum)),r.R7$(),r.Y8G("ngIf",o.isSummariesTypePresent(n.summaries.get(e.getFieldId().getId()).average)),r.R7$(),r.Y8G("ngIf",o.isSummariesTypePresent(n.summaries.get(e.getFieldId().getId()).min)),r.R7$(),r.Y8G("ngIf",o.isSummariesTypePresent(n.summaries.get(e.getFieldId().getId()).max)),r.R7$(),r.Y8G("ngIf",o.isSummariesTypePresent(n.summaries.get(e.getFieldId().getId()).median)),r.R7$(),r.Y8G("ngIf",o.isSummariesTypePresent(n.summaries.get(e.getFieldId().getId()).truthy)),r.R7$(),r.Y8G("ngIf",o.isSummariesTypePresent(n.summaries.get(e.getFieldId().getId()).falsy))}}function Lm(i,t){if(1&i&&(r.j41(0,"div",5),r.DNE(1,Xm,10,9,"ng-container",1),r.k0s()),2&i){const e=t.$implicit,n=r.XpG(2).$implicit;r.xc7("width",e.width,"px"),r.R7$(),r.Y8G("ngIf",n.summaries&&!!n.summaries.get(e.getFieldId().getId()))}}function zm(i,t){if(1&i&&(r.qex(0),r.DNE(1,Pm,1,0,"div",2),r.nI1(2,"guiPush"),r.DNE(3,Lm,2,3,"div",3),r.nI1(4,"guiPush"),r.bVm()),2&i){const e=r.XpG(2);r.R7$(),r.Y8G("ngIf",r.bMT(2,2,e.checkboxSelection$)),r.R7$(2),r.Y8G("ngForOf",r.bMT(4,4,e.headerColumns$))}}function Wm(i,t){if(1&i&&(r.qex(0),r.DNE(1,zm,5,6,"ng-container",1),r.bVm()),2&i){const e=t.$implicit,n=r.XpG();r.R7$(),r.Y8G("ngIf",n.enabled&&e.summaries&&!e.sourceEmpty)}}const Ym=["gui-info-dialog",""],Km=["gui-structure-column-manager",""];function qm(i,t){1&i&&r.eu8(0)}function Qm(i,t){if(1&i){const e=r.RV6();r.j41(0,"li",3),r.bIt("click",function(){const o=r.eBV(e).$implicit,s=r.XpG(2);return r.Njj(s.toggleColumn(o))}),r.j41(1,"gui-checkbox",4),r.DNE(2,qm,1,0,"ng-container",5),r.k0s()()}if(2&i){const e=t.$implicit,n=r.XpG().$implicit;r.R7$(),r.Y8G("checked",e.isEnabled())("disabled",1===n.enabledColumnsCount&&e.isEnabled()),r.R7$(),r.Y8G("ngTemplateOutlet",e.viewTemplate)("ngTemplateOutletContext",e.context)}}function Jm(i,t){if(1&i&&(r.j41(0,"ol",1),r.DNE(1,Qm,3,4,"li",2),r.k0s()),2&i){const e=t.$implicit;r.R7$(),r.Y8G("ngForOf",e.columns)}}const Zm=["gui-structure-dialog-column-manager",""],ef=["gui-structure-schema-manager",""];function tf(i,t){if(1&i){const e=r.RV6();r.j41(0,"li",7),r.bIt("click",function(){const o=r.eBV(e).$implicit,s=r.XpG();return r.Njj(s.toggleVerticalGrid(o))}),r.j41(1,"gui-checkbox",8),r.EFF(2),r.nI1(3,"guiTranslate"),r.k0s()()}if(2&i){const e=t.$implicit;r.R7$(),r.Y8G("checked",e),r.R7$(),r.SpI(" ",r.bMT(3,2,"themeManagerModalVerticalGrid")," ")}}function rf(i,t){if(1&i){const e=r.RV6();r.j41(0,"li",7),r.bIt("click",function(){const o=r.eBV(e).$implicit,s=r.XpG();return r.Njj(s.toggleHorizontalGrid(o))}),r.j41(1,"gui-checkbox",8),r.EFF(2),r.nI1(3,"guiTranslate"),r.k0s()()}if(2&i){const e=t.$implicit;r.R7$(),r.Y8G("checked",e),r.R7$(),r.SpI(" ",r.bMT(3,2,"themeManagerModalHorizontalGrid")," ")}}const nf=["gui-schema-manager-dialog",""],of=["gui-structure-column-manager-icon",""],sf=["gui-structure-schema-manager-icon",""],af=["gui-active-search",""];function cf(i,t){if(1&i){const e=r.RV6();r.qex(0),r.j41(1,"div"),r.EFF(2," Active search by: "),r.k0s(),r.j41(3,"div")(4,"gui-chip"),r.EFF(5),r.k0s()(),r.j41(6,"div")(7,"button",1),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.clearSearch())}),r.EFF(8," Clear search "),r.k0s()(),r.bVm()}if(2&i){const e=t.$implicit;r.R7$(5),r.JRh(e),r.R7$(2),r.Y8G("outline",!0)("primary",!0)}}const uf=["gui-active-filter-list",""];function lf(i,t){if(1&i){const e=r.RV6();r.j41(0,"div"),r.EFF(1),r.j41(2,"span",3),r.bIt("click",function(){const o=r.eBV(e).$implicit,s=r.XpG(2);return r.Njj(s.removeFilter(o))}),r.EFF(3,"X"),r.k0s()()}if(2&i){const e=t.$implicit;r.R7$(),r.SpI(" ",e.getText()," ")}}function df(i,t){if(1&i&&(r.qex(0),r.DNE(1,lf,4,1,"div",2),r.bVm()),2&i){const e=t.$implicit;r.R7$(),r.Y8G("ngForOf",e)}}const gf=["gui-structure-info-icon",""],hf=["gui-structure-info-panel",""];function pf(i,t){if(1&i&&(r.qex(0),r.EFF(1),r.nI1(2,"guiTranslate"),r.j41(3,"b"),r.EFF(4),r.nI1(5,"numberFormatter"),r.k0s(),r.EFF(6),r.nI1(7,"guiTranslate"),r.bVm()),2&i){const e=r.XpG(3).$implicit;r.R7$(),r.SpI(" ",r.bMT(2,3,"infoPanelShowing")," "),r.R7$(3),r.JRh(r.bMT(5,5,e)),r.R7$(2),r.SpI(" ",r.bMT(7,7,"infoPanelItems")," ")}}function mf(i,t){if(1&i&&(r.j41(0,"span",5),r.EFF(1),r.nI1(2,"guiTranslate"),r.j41(3,"b"),r.EFF(4),r.nI1(5,"numberFormatter"),r.k0s(),r.EFF(6),r.nI1(7,"guiTranslate"),r.j41(8,"b"),r.EFF(9),r.nI1(10,"numberFormatter"),r.k0s(),r.EFF(11),r.nI1(12,"guiTranslate"),r.k0s()),2&i){const e=r.XpG(3).$implicit,n=r.XpG().$implicit;r.R7$(),r.SpI(" ",r.bMT(2,5,"infoPanelShowing")," "),r.R7$(3),r.JRh(r.bMT(5,7,n.preparedItemsSize)),r.R7$(2),r.SpI(" ",r.bMT(7,9,"infoPanelOutOf")," "),r.R7$(3),r.JRh(r.bMT(10,11,e)),r.R7$(2),r.SpI(" ",r.bMT(12,13,"infoPanelItems")," ")}}function ff(i,t){if(1&i&&(r.qex(0),r.DNE(1,pf,8,9,"ng-container",3)(2,mf,13,15,"span",4),r.bVm()),2&i){const e=r.XpG(2).$implicit,n=r.XpG().$implicit;r.R7$(),r.Y8G("ngIf",n.preparedItemsSize===e),r.R7$(),r.Y8G("ngIf",n.preparedItemsSize!==e)}}function vf(i,t){if(1&i&&(r.j41(0,"div"),r.DNE(1,ff,3,2,"ng-container",3),r.k0s()),2&i){const e=r.XpG().$implicit,n=r.XpG().$implicit;r.R7$(),r.Y8G("ngIf",void 0!==n.preparedItemsSize&&void 0!==e)}}function bf(i,t){if(1&i&&(r.j41(0,"div"),r.DNE(1,vf,2,1,"div",3),r.k0s()),2&i){const e=r.XpG().$implicit;r.R7$(),r.Y8G("ngIf",e.infoPanelConfig.isSourceSizeEnabled())}}function Cf(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",6),r.bIt("click",function(){r.eBV(e);const o=r.XpG(2);return r.Njj(o.openSchemaManager())}),r.nrm(1,"div",7),r.k0s()}if(2&i){const e=r.XpG().$implicit;r.R7$(),r.Y8G("gui-tooltip",e.translations.infoPanelThemeMangerTooltipText)}}function yf(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",6),r.bIt("click",function(){r.eBV(e);const o=r.XpG(2);return r.Njj(o.openColumnManager())}),r.nrm(1,"div",8),r.k0s()}if(2&i){const e=r.XpG().$implicit;r.R7$(),r.Y8G("gui-tooltip",e.translations.infoPanelColumnManagerTooltipText)}}function Sf(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",6),r.bIt("click",function(){r.eBV(e);const o=r.XpG(2);return r.Njj(o.openInfo())}),r.nrm(1,"div",9),r.k0s()}if(2&i){const e=r.XpG().$implicit;r.R7$(),r.Y8G("gui-tooltip",e.translations.infoPanelInfoTooltipText)}}function xf(i,t){if(1&i&&(r.qex(0),r.DNE(1,bf,2,1,"div",0),r.j41(2,"div")(3,"div",1),r.DNE(4,Cf,2,1,"div",2)(5,yf,2,1,"div",2)(6,Sf,2,1,"div",2),r.k0s()(),r.bVm()),2&i){const e=t.$implicit,n=r.XpG();r.R7$(),r.Y8G("guiLet",n.totalItemsSize$),r.R7$(3),r.Y8G("ngIf",e.infoPanelConfig.isSchemaManagerEnabled()),r.R7$(),r.Y8G("ngIf",e.infoPanelConfig.isColumnsManagerEnabled()),r.R7$(),r.Y8G("ngIf",e.infoPanelConfig.isInfoDialogEnabled())}}const wf=["gui-search-icon",""],Ef=["formRef"],_f=["gui-search-bar",""];function If(i,t){if(1&i){const e=r.RV6();r.j41(0,"span",6),r.bIt("click",function(){r.eBV(e);const o=r.XpG(2);return r.Njj(o.clear())}),r.k0s()}}function Tf(i,t){if(1&i&&(r.qex(0),r.j41(1,"form",2,0),r.nrm(3,"div",3)(4,"input",4),r.nI1(5,"guiPush"),r.DNE(6,If,1,0,"span",5),r.k0s(),r.bVm()),2&i){const e=r.XpG();r.R7$(),r.Y8G("formGroup",e.searchForm),r.R7$(3),r.Y8G("placeholder",r.bMT(5,3,e.placeholder$)),r.R7$(2),r.Y8G("ngIf",e.searchForm.controls.searchPhrase.value)}}const Ff=["gui-structure-top-panel",""],Mf=["gui-empty-source","","items",""];function Df(i,t){1&i&&(r.qex(0),r.EFF(1),r.nI1(2,"guiTranslate"),r.bVm()),2&i&&(r.R7$(),r.SpI(" ",r.bMT(2,1,"sourceEmpty"),"\n"))}const kf=["gui-structure-menu-column-manager",""],Rf=["gui-unique-value-list","","fieldId",""];function Af(i,t){if(1&i){const e=r.RV6();r.j41(0,"div")(1,"gui-checkbox",6),r.bIt("changed",function(){const o=r.eBV(e).$implicit,s=r.XpG(2);return r.Njj(s.toggleSelect(o))}),r.EFF(2),r.k0s()()}if(2&i){const e=t.$implicit;r.R7$(),r.Y8G("checked",e.isEnabled()),r.R7$(),r.SpI(" ",e.getValue()," ")}}function Pf(i,t){if(1&i){const e=r.RV6();r.qex(0),r.j41(1,"gui-checkbox",1),r.bIt("changed",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.toggleAllSelect())}),r.EFF(2," Select all "),r.k0s(),r.j41(3,"div",2),r.DNE(4,Af,3,2,"div",3),r.k0s(),r.j41(5,"div",4)(6,"button",5),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.clearFilters())}),r.EFF(7," Clear "),r.k0s()(),r.bVm()}if(2&i){const e=t.$implicit;r.R7$(),r.Y8G("checked",e.selectAllChecked)("indeterminate",e.selectAllIndeterminate),r.R7$(3),r.Y8G("ngForOf",e.uniqueValues),r.R7$(2),r.Y8G("outline",!0)("primary",!0)}}const Gf=["gui-structure-arrow-icon",""],Vf=["gui-structure-column-config-sort","","column","","dropdownTextTranslation",""];function Of(i,t){if(1&i){const e=r.RV6();r.j41(0,"gui-dropdown",1)(1,"gui-dropdown-item",2),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.setSortOrder(o.status.ASC))}),r.j41(2,"div",3),r.EFF(3),r.nI1(4,"guiTranslate"),r.nrm(5,"div",4),r.k0s()(),r.j41(6,"gui-dropdown-item",2),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.setSortOrder(o.status.DESC))}),r.j41(7,"div",3),r.EFF(8),r.nI1(9,"guiTranslate"),r.nrm(10,"div",5),r.k0s()(),r.j41(11,"gui-dropdown-item",2),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.setSortOrder(o.status.NONE))}),r.EFF(12),r.nI1(13,"guiTranslate"),r.k0s()()}if(2&i){const e=r.XpG();r.Y8G("dropdownText",e.dropdownTextTranslation)("placement",e.placement)("showOnHover",!0)("width",225),r.R7$(),r.AVh("gui-header-item-active",e.isAscSort()),r.R7$(2),r.SpI(" ",r.bMT(4,16,"headerMenuMainTabColumnSortAscending")," "),r.R7$(2),r.Y8G("sort",!0),r.R7$(),r.AVh("gui-header-item-active",e.isDescSort()),r.R7$(2),r.SpI(" ",r.bMT(9,18,"headerMenuMainTabColumnSortDescending")," "),r.R7$(2),r.Y8G("position",e.StructureArrowPosition.DOWN)("sort",!0),r.R7$(),r.AVh("gui-header-item-active",e.isNoneSort()),r.R7$(),r.SpI(" ",r.bMT(13,20,"headerMenuMainTabColumnSortNone")," ")}}const Nf=["gui-structure-column-config-column-hide",""],Bf=["gui-structure-column-config-column-move","","column",""],Hf=["headerSortMenu"],Uf=["gui-column-config",""];function $f(i,t){if(1&i&&r.nrm(0,"div",10),2&i){const e=r.XpG(3).$implicit,n=r.XpG();r.Y8G("column",n.column)("dropdownTextTranslation",e.translations.headerMenuMainTabColumnSort)}}function jf(i,t){if(1&i){const e=r.RV6();r.qex(0),r.j41(1,"gui-tab-item",5),r.DNE(2,$f,1,2,"div",6),r.j41(3,"div",7),r.bIt("columnHidden",function(){r.eBV(e);const o=r.XpG(3);return r.Njj(o.hideColumn())}),r.k0s(),r.j41(4,"div",8),r.bIt("click",function(){r.eBV(e);const o=r.XpG(3);return r.Njj(o.highlightColumn())}),r.EFF(5),r.nI1(6,"guiTranslate"),r.k0s(),r.j41(7,"div",9),r.bIt("movedLeft",function(){r.eBV(e);const o=r.XpG(3);return r.Njj(o.moveLeft())})("movedRight",function(){r.eBV(e);const o=r.XpG(3);return r.Njj(o.moveRight())}),r.k0s()(),r.bVm()}if(2&i){const e=r.XpG(2).$implicit,n=r.XpG();r.R7$(),r.Y8G("tab",e.translations.headerMenuMainTab),r.R7$(),r.Y8G("ngIf",n.column.isSortEnabled()),r.R7$(),r.Y8G("column",n.column),r.R7$(2),r.SpI(" ",r.bMT(6,5,"headerMenuMainTabHighlightColumn")," "),r.R7$(2),r.Y8G("column",n.column)}}function Xf(i,t){if(1&i&&(r.qex(0),r.j41(1,"gui-tab-item",11),r.nrm(2,"div",12),r.k0s(),r.bVm()),2&i){const e=r.XpG(2).$implicit,n=r.XpG();r.R7$(),r.Y8G("tab",e.translations.headerMenuFilterTab),r.R7$(),r.Y8G("fieldId",n.column.getFieldId())}}function Lf(i,t){if(1&i&&(r.qex(0),r.j41(1,"gui-tab-item",11),r.nrm(2,"div",13),r.k0s(),r.bVm()),2&i){const e=r.XpG(2).$implicit;r.R7$(),r.Y8G("tab",e.translations.headerMenuColumnsTab)}}function zf(i,t){if(1&i&&(r.j41(0,"div",2)(1,"gui-tab",3),r.DNE(2,jf,8,7,"ng-container",4)(3,Xf,3,2,"ng-container",4)(4,Lf,3,1,"ng-container",4),r.k0s()()),2&i){const e=r.XpG().$implicit;r.R7$(),r.Y8G("active",e.config.getActiveMenu())("menu",e.config.getMenus()),r.R7$(),r.Y8G("ngIf",e.config.isMainEnabled()),r.R7$(),r.Y8G("ngIf",e.config.isFilteringEnabled()),r.R7$(),r.Y8G("ngIf",e.config.isColumnManagerEnabled())}}function Wf(i,t){if(1&i&&(r.qex(0),r.DNE(1,zf,5,5,"div",1),r.bVm()),2&i){const e=t.$implicit;r.R7$(),r.Y8G("ngIf",e.isEnabled)}}const Yf=["gui-select-custom-modal",""];function Kf(i,t){if(1&i){const e=r.RV6();r.j41(0,"li",2),r.bIt("click",function(){const o=r.eBV(e).$implicit,s=r.XpG(2);return r.Njj(s.selectCustom(o.getCustomSelectId()))}),r.EFF(1),r.k0s()}if(2&i){const e=t.$implicit;r.BMQ("id",e.key),r.R7$(),r.SpI(" ",e.text," ")}}function qf(i,t){if(1&i&&(r.j41(0,"ul"),r.DNE(1,Kf,2,2,"li",1),r.k0s()),2&i){const e=t.$implicit;r.R7$(),r.Y8G("ngForOf",e.getSelections())}}const Qf=["gui-select-all",""];function Jf(i,t){if(1&i){const e=r.RV6();r.j41(0,"gui-checkbox",2),r.bIt("changed",function(){r.eBV(e);const o=r.XpG().$implicit,s=r.XpG();return r.Njj(s.toggleSelectAll(o.isAllIndeterminate,o.isAllChecked))}),r.k0s()}if(2&i){const e=r.XpG().$implicit;r.Y8G("checked",e.isAllChecked)("gui-tooltip","Select")("indeterminate",e.isAllIndeterminate)}}function Zf(i,t){if(1&i&&(r.qex(0),r.DNE(1,Jf,1,3,"gui-checkbox",1),r.bVm()),2&i){const e=t.$implicit;r.R7$(),r.Y8G("ngIf",e.modeMulti)}}const ev=["gui-structure-menu-icon",""],tv=["headerDialogContainer"],iv=["gui-structure-column-config-trigger",""];function rv(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",2,0),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.openConfigDialog())}),r.nrm(2,"div",3),r.k0s()}2&i&&(r.R7$(2),r.Y8G("ngClass","gui-header-menu-icon"))}const nv=["selectCustomContainer"],ov=["gui-structure-header-columns","","columns",""],sv=i=>({"gui-header-sortable":i});function av(i,t){1&i&&(r.j41(0,"div",2),r.nrm(1,"div",3),r.k0s())}function cv(i,t){1&i&&r.eu8(0)}function uv(i,t){if(1&i&&r.nrm(0,"div",10),2&i){const e=r.XpG().$implicit;r.Y8G("position",e.getSortStatus())("sort",!0)}}function lv(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",4),r.bIt("click",function(){const o=r.eBV(e).$implicit,s=r.XpG();return r.Njj(s.toggleSort(o))}),r.j41(1,"div",5),r.DNE(2,cv,1,0,"ng-container",6)(3,uv,1,2,"div",7),r.k0s(),r.j41(4,"div",8),r.nrm(5,"div",9),r.k0s()()}if(2&i){const e=t.$implicit;r.Aen(e.getStyles()),r.HbH(e.getCssClasses()),r.xc7("width",e.width,"px"),r.Y8G("ngClass",r.eq3(11,sv,e.isSortEnabled())),r.R7$(2),r.Y8G("ngTemplateOutlet",e.viewTemplate)("ngTemplateOutletContext",e.context),r.R7$(),r.Y8G("ngIf",!e.isNoSort()),r.R7$(2),r.Y8G("column",e)}}const dv=["gui-structure-header-groups","","groups","","checkboxSelection",""];function gv(i,t){1&i&&(r.j41(0,"div",2),r.nrm(1,"div",3),r.k0s())}function hv(i,t){if(1&i&&(r.j41(0,"div",4)(1,"div",5),r.EFF(2),r.k0s()()),2&i){const e=t.$implicit;r.xc7("width",e.width,"px"),r.R7$(2),r.SpI(" ",e.header," ")}}const pv=["gui-structure-header-filters","","columns",""],mv=()=>["has value","is the same as","starts with","ends with"];function fv(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",2)(1,"button",3),r.bIt("click",function(){r.eBV(e);const o=r.XpG(2);return r.Njj(o.turnOnFilterMode())}),r.EFF(2,"Add Filter"),r.k0s()()}2&i&&r.xc7("width",t.$implicit.width,"px")}function vv(i,t){if(1&i&&(r.qex(0),r.DNE(1,fv,3,2,"div",1),r.bVm()),2&i){const e=r.XpG();r.R7$(),r.Y8G("ngForOf",e.columns)}}function bv(i,t){if(1&i){const e=r.RV6();r.qex(0),r.nrm(1,"gui-select",4),r.j41(2,"form",5),r.nrm(3,"input",6),r.k0s(),r.j41(4,"button",7),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.clearFilters())}),r.EFF(5,"Clear All"),r.k0s(),r.j41(6,"button",7),r.bIt("click",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.turnOffFilterMode())}),r.EFF(7,"Close"),r.k0s(),r.bVm()}if(2&i){const e=r.XpG();r.R7$(),r.Y8G("options",r.lJ4(4,mv))("selected","has value"),r.R7$(),r.Y8G("formGroup",e.filterForm),r.R7$(),r.Y8G("formControlName",e.filterFieldName)}}const Cv=["gui-structure-header",""];function yv(i,t){if(1&i&&r.nrm(0,"div",3),2&i){const e=r.XpG().$implicit;r.Y8G("checkboxSelection",e.showSelection)("groups",e.groups)}}function Sv(i,t){if(1&i&&(r.qex(0),r.DNE(1,yv,1,2,"div",2),r.bVm()),2&i){const e=t.$implicit;r.R7$(),r.Y8G("ngIf",e.showGroups)}}function xv(i,t){if(1&i&&r.nrm(0,"div",4),2&i){const e=t.$implicit,n=r.XpG();r.Y8G("columns",e.headerColumns)("guiStyle",n.width$)("showSelection",e.showSelection)}}function wv(i,t){if(1&i&&r.nrm(0,"div",6),2&i){const e=r.XpG().$implicit,n=r.XpG();r.Y8G("columns",e.headerColumns)("guiStyle",n.filterHeaderHeight$)}}function Ev(i,t){if(1&i&&(r.qex(0),r.DNE(1,wv,1,2,"div",5),r.bVm()),2&i){const e=t.$implicit;r.R7$(),r.Y8G("ngIf",e.filterRowEnabled)}}const ac=["cellContainer"],_v=["gui-structure-cell-edit-boolean","","entity","","cell",""];function Iv(i,t){1&i&&r.eu8(0)}const Tv=["gui-structure-cell","","entity","","cell",""],Fv=(i,t,e,n)=>({"gui-cell-view":!0,"gui-align-left":i,"gui-align-center":t,"gui-align-right":e,"gui-column-highlighted":n}),Mv=(i,t,e,n)=>({element:i,index:t,value:e,item:n});function Dv(i,t){1&i&&r.eu8(0)}function kv(i,t){if(1&i){const e=r.RV6();r.j41(0,"span",3),r.bIt("click",function(){r.eBV(e);const o=r.XpG(2);return r.Njj(o.enterEditMode())}),r.DNE(1,Dv,1,0,"ng-container",4),r.k0s()}if(2&i){const e=r.XpG(2);r.Y8G("ngClass",r.ziG(3,Fv,e.cell.isAlignLeft(),e.cell.isAlignCenter(),e.cell.isAlignRight(),e.isHighlighted)),r.R7$(),r.Y8G("ngTemplateOutlet",e.cell.template)("ngTemplateOutletContext",r.ziG(8,Mv,e.cell.getValue(e.entity,e.searchPhrase),e.entity.getPosition(),e.cell.getValue(e.entity,e.searchPhrase).value,e.entity.getSourceItem()))}}function Rv(i,t){1&i&&r.eu8(0)}function Av(i,t){if(1&i&&(r.j41(0,"span",5),r.DNE(1,Rv,1,0,"ng-container",4),r.k0s()),2&i){const e=r.XpG(2);r.R7$(),r.Y8G("ngTemplateOutlet",e.cell.editTemplate)("ngTemplateOutletContext",e.editContext)}}function Pv(i,t){if(1&i&&(r.qex(0),r.DNE(1,kv,2,13,"span",1)(2,Av,2,2,"span",2),r.bVm()),2&i){const e=r.XpG();r.R7$(),r.Y8G("ngIf",!e.inEditMode),r.R7$(),r.Y8G("ngIf",e.inEditMode)}}function Gv(i,t){if(1&i&&(r.qex(0),r.nrm(1,"div",6),r.bVm()),2&i){const e=r.XpG();r.R7$(),r.Y8G("cell",e.cell)("entity",e.entity)}}const Vv=["gui-structure-row",""];function Ov(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",3)(1,"gui-checkbox",4),r.bIt("changed",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.selectCheckbox())}),r.k0s()()}if(2&i){const e=r.XpG();r.R7$(),r.Y8G("checked",e.selectedItem)}}function Nv(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",5)(1,"gui-radio-button",4),r.bIt("changed",function(){r.eBV(e);const o=r.XpG();return r.Njj(o.selectRadio())}),r.k0s()()}if(2&i){const e=r.XpG();r.R7$(),r.Y8G("checked",e.selectedItem)}}function Bv(i,t){if(1&i&&r.nrm(0,"div",6),2&i){const e=t.$implicit,n=t.index,o=r.XpG();r.xc7("width",e.width,"px"),r.Y8G("cellEditorManager",o.cellEditing)("cell",e)("columnIndex",n)("editMode",o.editMode)("entity",o.entity)("rowIndex",o.index)("searchPhrase",o.searchPhrase)}}const Hv=["gui-structure-content",""],Uv=(i,t)=>({even:i,odd:t}),$v=i=>({transform:i});function jv(i,t){if(1&i){const e=r.RV6();r.j41(0,"div",3),r.bIt("click",function(){const o=r.eBV(e).$implicit,s=r.XpG().$implicit,a=r.XpG();return r.Njj(a.toggleSelectedRow(o,s.selectionEnabled,s.checkboxSelection,s.radioSelection))}),r.k0s()}if(2&i){const e=t.$implicit,n=t.index,o=r.XpG().$implicit,s=r.XpG();r.xc7("height",o.rowHeight,"px"),r.Y8G("cellEditing",o.cellEditing)("checkboxSelection",o.checkboxSelection)("columns",s.columns)("editMode",o.editMode)("entity",e)("id",e.getUiId())("index",e.getPosition())("ngClass",r.l_i(15,Uv,e.isEven(),e.isOdd()))("ngStyle",r.eq3(18,$v,s.translateY(n,o.rowHeight)))("radioSelection",o.radioSelection)("rowClass",o.schemaRowClass)("rowStyle",o.schemaRowStyle)("searchPhrase",o.searchPhrase)}}function Xv(i,t){if(1&i&&(r.j41(0,"div",1),r.DNE(1,jv,1,20,"div",2),r.k0s()),2&i){const e=r.XpG();r.R7$(),r.Y8G("ngForOf",e.source)("ngForTrackBy",e.trackByFn)}}const Lv=["sourceCollection"],zv=["gui-structure-container",""],Wv=["gui-structure-title-panel",""],Yv=["gui-structure-footer-panel",""],Kv=["gui-structure-blueprint",""];function qv(i,t){1&i&&r.nrm(0,"div",8)}function Qv(i,t){1&i&&r.nrm(0,"div",9)}function Jv(i,t){1&i&&r.nrm(0,"div",11),2&i&&r.Y8G("position",0)}function Zv(i,t){if(1&i&&(r.qex(0),r.DNE(1,Jv,1,1,"div",10),r.bVm()),2&i){const e=t.$implicit,n=r.XpG();r.R7$(),r.Y8G("ngIf",n.isPagingTopEnabled(e))}}function eb(i,t){if(1&i&&r.nrm(0,"div",13),2&i){const e=r.XpG(2);r.Y8G("ngClass",e.headerTopClasses)}}function tb(i,t){if(1&i&&(r.qex(0),r.DNE(1,eb,1,1,"div",12),r.bVm()),2&i){const e=t.$implicit,n=r.XpG();r.R7$(),r.Y8G("ngIf",n.isColumnHeaderTopEnabled(e))}}function ib(i,t){if(1&i&&r.nrm(0,"div",13),2&i){const e=r.XpG(2);r.Y8G("ngClass",e.headerBottomClasses)}}function rb(i,t){if(1&i&&(r.qex(0),r.DNE(1,ib,1,1,"div",12),r.bVm()),2&i){const e=t.$implicit,n=r.XpG();r.R7$(),r.Y8G("ngIf",n.isColumnHeaderBottomEnabled(e))}}function nb(i,t){1&i&&r.nrm(0,"div",15)}function ob(i,t){if(1&i&&(r.qex(0),r.DNE(1,nb,1,0,"div",14),r.bVm()),2&i){const e=t.$implicit;r.R7$(),r.Y8G("ngIf",e)}}function sb(i,t){1&i&&r.nrm(0,"div",11),2&i&&r.Y8G("position",1)}function ab(i,t){if(1&i&&(r.qex(0),r.DNE(1,sb,1,1,"div",10),r.bVm()),2&i){const e=t.$implicit,n=r.XpG();r.R7$(),r.Y8G("ngIf",n.isPagingBottomEnabled(e))}}function cb(i,t){1&i&&r.nrm(0,"div",16)}const ub=(i,t)=>({"gui-loader-visible":i,"gui-loader-hidden":t});function lb(i,t){1&i&&r.nrm(0,"gui-spinner",3),2&i&&r.Y8G("diameter",120)("primary",!0)}const db=["structure"],vb={sourceEmpty:"There are no items to show.",pagingItemsPerPage:"Items per page:",pagingOf:"of",pagingNextPage:"Next",pagingPrevPage:"Prev",pagingNoItems:"There is no items.",infoPanelShowing:"Showing",infoPanelItems:"items",infoPanelOutOf:"out of",infoPanelThemeMangerTooltipText:"Theme manager",infoPanelColumnManagerTooltipText:"Column manager",infoPanelInfoTooltipText:"info",themeManagerModalTitle:"Theme manager",themeManagerModalTheme:"Theme:",themeManagerModalRowColoring:"Row coloring:",themeManagerModalVerticalGrid:"Vertical grid",themeManagerModalHorizontalGrid:"HorizontalGrid",columnManagerModalTitle:"Manage columns",headerMenuMainTab:"Menu",headerMenuMainTabColumnSort:"Column sort",headerMenuMainTabHideColumn:"Hide column",headerMenuMainTabHighlightColumn:"Highlight",headerMenuMainTabMoveLeft:"Move left",headerMenuMainTabMoveRight:"Move right",headerMenuMainTabColumnSortAscending:"Ascending",headerMenuMainTabColumnSortDescending:"Descending",headerMenuMainTabColumnSortNone:"None",headerMenuFilterTab:"Filter",headerMenuColumnsTab:"Columns",summariesCount:"Count",summariesDist:"Dist",summariesSum:"Sum",summariesAvg:"Avg",summariesMin:"Min",summariesMax:"Max",summariesMed:"Med",summariesTruthy:"Truthy",summariesFalsy:"Falsy",summariesDistinctValuesTooltip:"Distinct values",summariesAverageTooltip:"Average",summariesMinTooltip:"Min",summariesMaxTooltip:"Max",summariesMedTooltip:"Median",summariesCountTooltip:"Number of items in the grid"};var Ut=function(i){return i[i.UNKNOWN=0]="UNKNOWN",i[i.NUMBER=1]="NUMBER",i[i.STRING=2]="STRING",i[i.BOOLEAN=3]="BOOLEAN",i[i.DATE=4]="DATE",i[i.CUSTOM=5]="CUSTOM",i}(Ut||{}),we=function(i){return i[i.TEXT=0]="TEXT",i[i.CHIP=1]="CHIP",i[i.LINK=2]="LINK",i[i.IMAGE=3]="IMAGE",i[i.BOLD=4]="BOLD",i[i.ITALIC=5]="ITALIC",i[i.CHECKBOX=6]="CHECKBOX",i[i.CUSTOM=7]="CUSTOM",i[i.BAR=8]="BAR",i[i.PERCENTAGE_BAR=9]="PERCENTAGE_BAR",i[i.PERCENTAGE=10]="PERCENTAGE",i}(we||{}),Ee=function(i){return i[i.FABRIC=0]="FABRIC",i[i.MATERIAL=1]="MATERIAL",i[i.LIGHT=2]="LIGHT",i[i.DARK=3]="DARK",i[i.GENERIC=4]="GENERIC",i}(Ee||{}),xt=function(i){return i[i.NONE=0]="NONE",i[i.EVEN=1]="EVEN",i[i.ODD=2]="ODD",i}(xt||{}),cn=function(i){return i[i.BASIC=0]="BASIC",i[i.ADVANCED=1]="ADVANCED",i}(cn||{}),un=function(i){return i[i.RIGHT=0]="RIGHT",i[i.CENTER=1]="CENTER",i[i.LEFT=2]="LEFT",i}(un||{}),ji=function(i){return i[i.ROW=0]="ROW",i[i.CHECKBOX=1]="CHECKBOX",i[i.RADIO=2]="RADIO",i}(ji||{}),ln=function(i){return i[i.SINGLE=0]="SINGLE",i[i.MULTIPLE=1]="MULTIPLE",i}(ln||{}),f=function(i){return i[i.UNKNOWN=0]="UNKNOWN",i[i.NUMBER=1]="NUMBER",i[i.STRING=2]="STRING",i[i.BOOLEAN=3]="BOOLEAN",i[i.DATE=4]="DATE",i[i.CUSTOM=5]="CUSTOM",i}(f||{});class Eb{convertType(t){return"string"==typeof t?this.convertTypeString(t):this.convertTypeEnum(t)}convertTypeEnum(t){switch(t){case Ut.STRING:return f.STRING;case Ut.NUMBER:return f.NUMBER;case Ut.BOOLEAN:return f.BOOLEAN;case Ut.DATE:return f.DATE;case Ut.UNKNOWN:return f.UNKNOWN;case Ut.CUSTOM:return f.CUSTOM;default:return f.STRING}}convertTypeString(t){switch(t.toLocaleLowerCase()){case"string":default:return f.STRING;case"number":return f.NUMBER;case"boolean":return f.BOOLEAN;case"date":return f.DATE;case"unknown":return f.UNKNOWN;case"custom":return f.CUSTOM}}}var S=function(i){return i[i.COUNT=1024]="COUNT",i[i.DISTINCT=1]="DISTINCT",i[i.SUM=2]="SUM",i[i.AVERAGE=4]="AVERAGE",i[i.MIN=8]="MIN",i[i.MAX=16]="MAX",i[i.MEDIAN=32]="MEDIAN",i[i.TRUTHY=64]="TRUTHY",i[i.FALSY=128]="FALSY",i[i.EARLIEST=256]="EARLIEST",i[i.LATEST=512]="LATEST",i}(S||{});class _b{convert(t){const e={};return null!=t.enabled&&(e.enabled=t.enabled),null!=t.summariesTypes&&(e.summariesTypes=this.convertSummariesTypes(t.summariesTypes)),e}convertSummariesTypes(t){const e=[];return t.forEach(n=>{const o=this.convertSummariesType(n);null!=o&&e.push(o)}),e}convertSummariesType(t){switch(t.toLocaleLowerCase()){case"count":return S.COUNT;case"distinct":return S.DISTINCT;case"sum":return S.SUM;case"average":return S.AVERAGE;case"min":return S.MIN;case"max":return S.MAX;case"median":return S.MEDIAN;case"truthy":return S.TRUTHY;case"falsy":return S.FALSY;case"earliest":return S.EARLIEST;case"latest":return S.LATEST;default:return null}}}var m=function(i){return i[i.TEXT=0]="TEXT",i[i.NUMBER=1]="NUMBER",i[i.CHIP=2]="CHIP",i[i.LINK=3]="LINK",i[i.IMAGE=4]="IMAGE",i[i.BOLD=5]="BOLD",i[i.ITALIC=6]="ITALIC",i[i.CHECKBOX=7]="CHECKBOX",i[i.CUSTOM=8]="CUSTOM",i[i.FUNCTION=9]="FUNCTION",i[i.DATE=10]="DATE",i[i.BAR=11]="BAR",i[i.PERCENTAGE_BAR=12]="PERCENTAGE_BAR",i[i.PERCENTAGE=13]="PERCENTAGE",i[i.NG_TEMPLATE=14]="NG_TEMPLATE",i[i.HTML=15]="HTML",i}(m||{});class Ib{convert(t){return"string"==typeof t?this.convertString(t):"function"==typeof t?t:this.convertEnum(t)}convertString(t){switch(t.toLocaleLowerCase()){case"text":default:return m.TEXT;case"chip":return m.CHIP;case"link":return m.LINK;case"image":return m.IMAGE;case"bold":return m.BOLD;case"italic":return m.ITALIC;case"checkbox":return m.CHECKBOX;case"custom":return m.CUSTOM;case"bar":return m.BAR;case"percentage_bar":return m.PERCENTAGE_BAR;case"percentage":return m.PERCENTAGE}}convertEnum(t){switch(t){case we.TEXT:return m.TEXT;case we.CHIP:return m.CHIP;case we.LINK:return m.LINK;case we.IMAGE:return m.IMAGE;case we.BOLD:return m.BOLD;case we.ITALIC:return m.ITALIC;case we.CHECKBOX:return m.CHECKBOX;case we.CUSTOM:return m.CUSTOM;case we.BAR:return m.BAR;case we.PERCENTAGE_BAR:return m.PERCENTAGE_BAR;case we.PERCENTAGE:return m.PERCENTAGE;default:return m.TEXT}}}class Tb{convert(t){return"boolean"==typeof t?{enabled:t}:t}}class Fb{convert(t){return"boolean"==typeof t?{enabled:t}:t}}var N=function(i){return i[i.RIGHT=0]="RIGHT",i[i.CENTER=1]="CENTER",i[i.LEFT=2]="LEFT",i}(N||{});class Mb{convert(t){return"string"==typeof t?this.convertTypeString(t):this.convertTypeEnum(t)}convertTypeEnum(t){switch(t){case un.RIGHT:return N.RIGHT;case un.CENTER:return N.CENTER;default:return N.LEFT}}convertTypeString(t){switch(t.toLocaleLowerCase()){case"right":return N.RIGHT;case"center":return N.CENTER;default:return N.LEFT}}}class Db{constructor(){this.columnTypeConverter=new Eb,this.columnSummariesConverter=new _b,this.columnViewConverter=new Ib,this.columnSortingConverter=new Tb,this.columnCellEditingConverter=new Fb,this.columnAlignConverter=new Mb}convert(t){return t.map(e=>{if(void 0!==e.columns){const n=e.columns.map(o=>this.convertColumn(o));return{header:e.header,columns:n}}return this.convertColumn(e)})}convertColumn(t){const e={};return null!=t.name?e.name=t.name:null!=t.field&&"string"==typeof t.field&&(e.name=t.field),null!=t.type&&(e.type=this.columnTypeConverter.convertType(t.type)),null!=t.header&&(e.header=t.header),null!=t.enabled&&(e.enabled=t.enabled),null!=t.field&&(e.field=t.field),null!=t.width&&(e.width=t.width),null!=t.align&&(e.align=this.columnAlignConverter.convert(t.align)),null!=t.view&&(e.view=this.columnViewConverter.convert(t.view)),null!=t.summaries&&(e.summaries=this.columnSummariesConverter.convert(t.summaries)),null!=t.sorting&&(e.sorting=this.columnSortingConverter.convert(t.sorting)),null!=t.cellEditing&&(e.cellEditing=this.columnCellEditingConverter.convert(t.cellEditing)),null!=t.formatter&&(e.formatter=t.formatter),null!=t.matcher&&(e.matcher=t.matcher),null!=t.cssClasses&&(e.cssClasses=t.cssClasses),null!=t.styles&&(e.styles=t.styles),null!=t.templateRef&&(e.templateRef=t.templateRef,e.view=m.NG_TEMPLATE),e}}var v=function(i){return i[i.FABRIC=0]="FABRIC",i[i.MATERIAL=1]="MATERIAL",i[i.LIGHT=2]="LIGHT",i[i.DARK=3]="DARK",i[i.GENERIC=4]="GENERIC",i}(v||{});class kb{convert(t){return"string"==typeof t?this.convertString(t):this.convertEnum(t)}convertToGuiTheme(t){switch(t){case v.MATERIAL:return Ee.MATERIAL;case v.FABRIC:return Ee.FABRIC;case v.LIGHT:return Ee.LIGHT;case v.DARK:return Ee.DARK;default:return Ee.GENERIC}}convertString(t){switch(t.toLocaleLowerCase()){case"material":return v.MATERIAL;case"fabric":default:return v.FABRIC;case"light":return v.LIGHT;case"dark":return v.DARK;case"generic":return v.GENERIC}}convertEnum(t){switch(t){case Ee.MATERIAL:return v.MATERIAL;case Ee.FABRIC:return v.FABRIC;case Ee.LIGHT:return v.LIGHT;case Ee.DARK:return v.DARK;case Ee.GENERIC:return v.GENERIC;default:return v.FABRIC}}}var L=function(i){return i[i.NONE=0]="NONE",i[i.EVEN=1]="EVEN",i[i.ODD=2]="ODD",i}(L||{});class Rb{convert(t){return"string"==typeof t?this.convertString(t):this.convertEnum(t)}convertToGuiRowColoring(t){switch(t){case L.NONE:return xt.NONE;case L.EVEN:return xt.EVEN;case L.ODD:return xt.ODD;default:return xt.EVEN}}convertString(t){switch(t.toLocaleLowerCase()){case"none":return L.NONE;case"even":default:return L.EVEN;case"odd":return L.ODD}}convertEnum(t){switch(t){case xt.NONE:return L.NONE;case xt.EVEN:return L.EVEN;case xt.ODD:return L.ODD;default:return L.EVEN}}}let Ab=(()=>{class i{convert(e){return e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();var at=function(i){return i[i.BASIC=0]="BASIC",i[i.ADVANCED=1]="ADVANCED",i}(at||{});class Pb{convert(t){const e={};return null!=t.enabled&&(e.enabled=t.enabled),null!=t.page&&(e.page=t.page),null!=t.pageSize&&(e.pageSize=t.pageSize),null!=t.pageSizes&&(e.pageSizes=t.pageSizes),null!=t.pagerTop&&(e.pagerTop=t.pagerTop),null!=t.pagerBottom&&(e.pagerBottom=t.pagerBottom),null!=t.display&&(e.displayMode=this.convertDisplay(t.display)),e}convertDisplay(t){return"string"==typeof t?this.convertString(t):this.convertEnum(t)}convertString(t){switch(t.toLocaleLowerCase()){case"basic":default:return at.BASIC;case"advanced":return at.ADVANCED}}convertEnum(t){switch(t){case cn.BASIC:return at.BASIC;case cn.ADVANCED:return at.ADVANCED;default:return at.BASIC}}}class Eo{build(){return this.buildObject()}}var te=function(i){return i.ROW="ROW",i.CHECKBOX="CHECKBOX",i.RADIO="RADIO",i}(te||{}),_e=function(i){return i.SINGLE="SINGLE",i.MULTIPLE="MULTIPLE",i}(_e||{});let Gb=(()=>{class i{constructor(e){void 0!==e.enabled&&(this.enabled=e.enabled),e?.selectedRowIndexes&&(this.selectedRowIndexes=e.selectedRowIndexes),e?.selectedRowIds&&(this.selectedRowIds=e.selectedRowIds),e?.mode&&(this.mode=e.mode),e?.type&&(this.type=e.type),e?.matcher&&(this.matcher=e.matcher),e?.config&&(this.customConfig=e.config)}isModeDefined(){return void 0!==this.mode}isTypeDefined(){return void 0!==this.type}isSelectedRowIndexesDefined(){return void 0!==this.selectedRowIndexes}isSelectedRowIdsDefined(){return void 0!==this.selectedRowIds}isEnabledDefined(){return void 0!==this.enabled}isMatcherDefined(){return void 0!==this.matcher}isEnabled(){return this.enabled}isCustomSelectConfig(){return void 0!==this.customConfig}getSelectedRowIndexes(){return this.selectedRowIndexes}getSelectedRowIds(){return this.selectedRowIds}getMode(){return this.mode}getType(){return this.type}getMatcher(){return this.matcher}getCustomSelectConfig(){return this.customConfig}}return i.Builder=class extends Eo{constructor(){super()}buildObject(){return new i({enabled:this.enabled,selectedRowIndexes:this.selectedRowIndexes,selectedRowIds:this.selectedRowIds,type:this.type,mode:this.mode,matcher:this.matcher,config:this.config})}withEnabled(e){return this.enabled=e,this}withSelectedRowIndexes(e){return this.selectedRowIndexes=e,this}withSelectedRowIds(e){return this.selectedRowIds=e,this}withType(e){return this.type=e,this}withMode(e){return this.mode=e,this}withMatcher(e){return this.matcher=e,this}witCustomSelection(e){return this.config=e,this}},i})();class Vb{}class Ob{convert(t){const e=new Gb.Builder;if("boolean"==typeof t)return e.withEnabled(t).build();if(void 0!==t.enabled&&e.withEnabled(t.enabled),void 0!==t.selectedRowIndexes&&e.withSelectedRowIndexes(t.selectedRowIndexes),void 0!==t.selectedRowIds&&e.withSelectedRowIds(t.selectedRowIds),void 0!==t.mode){const n=this.convertMode(t.mode);e.withMode(n)}if(void 0!==t.type){const n=this.convertType(t.type);e.withType(n)}if(void 0!==t.matcher){const n=this.convertMatcher(t.matcher);e.withMatcher(n)}if(void 0!==t.custom){const n=this.convertCustomSelection(t.custom);e.witCustomSelection(n)}return e.build()}convertMode(t){if("string"==typeof t)switch(t.toLowerCase()){case"single":default:return _e.SINGLE;case"multiple":return _e.MULTIPLE}else switch(t){case ln.SINGLE:return _e.SINGLE;case ln.MULTIPLE:return _e.MULTIPLE;default:return _e.SINGLE}}convertType(t){if("string"==typeof t)switch(t.toLowerCase()){case"row":default:return te.ROW;case"checkbox":return te.CHECKBOX;case"radio":return te.RADIO}else switch(t){case ji.ROW:return te.ROW;case ji.CHECKBOX:return te.CHECKBOX;case ji.RADIO:return te.RADIO;default:return te.ROW}}convertMatcher(t){return"string"==typeof t?e=>e[t]:t}convertCustomSelection(t){let e=new Vb;return t?.enabled&&(e.enabled=t.enabled),t?.selections&&Array.isArray(t?.selections)&&(e.selections=t.selections.map(n=>n)),e}}let Xi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-grid-column"]],contentQueries:function(e,n,o){if(1&e&&r.wni(o,r.C4Q,7),2&e){let s;r.mGM(s=r.lsd())&&(n.templateRef=s.first)}},inputs:{name:"name",field:"field",type:"type",view:"view",header:"header",width:"width",enabled:"enabled",align:"align",summaries:"summaries",sorting:"sorting",cellEditing:"cellEditing",formatter:"formatter",matcher:"matcher",cssClasses:"cssClasses",styles:"styles"},decls:0,vars:0,template:function(e,n){},encapsulation:2}),i})();class Nb{convert(t){return"boolean"==typeof t?{enabled:t}:t}}function k(i,t){(function _o(i){return void 0!==i&&void 0!==i.currentValue})(i)&&t(i.currentValue)}let Bb=(()=>{class i{constructor(){this.source=[],this.columns=[],this.pageChanged=new r.bkB,this.pageSizeChanged=new r.bkB,this.itemsSelected=new r.bkB,this.selectedRows=new r.bkB,this.columnsChanged=new r.bkB,this.containerWidthChanged=new r.bkB,this.sourceEdited=new r.bkB,this.cellEditEntered=new r.bkB,this.cellEditCanceled=new r.bkB,this.cellEditSubmitted=new r.bkB,this.searchPhraseChanged=new r.bkB,this.themeChanged=new r.bkB,this.horizontalGridChanged=new r.bkB,this.verticalGridChanged=new r.bkB,this.rowColoringChanged=new r.bkB,this.gridColumnConverter=new Db,this.gridThemeConverter=new kb,this.gridRowColoringConverter=new Rb,this.gridColumnMenuConverter=new Ab,this.gridPagingConverter=new Pb,this.gridRowSelectionConverter=new Ob,this.guiGridCellEditConverter=new Nb}ngOnChanges(e){k(e.columns,()=>{this.columnsConfig=this.gridColumnConverter.convert(this.columns)}),k(e.theme,()=>{this.themeConfig=this.gridThemeConverter.convert(this.theme)}),k(e.rowColoring,()=>{this.rowColoringConfig=this.gridRowColoringConverter.convert(this.rowColoring)}),k(e.columnMenu,()=>{this.columnMenuConfig=this.gridColumnMenuConverter.convert(this.columnMenu)}),k(e.rowSelection,()=>{this.rowSelectionConfig=this.gridRowSelectionConverter.convert(this.rowSelection)}),k(e.cellEditing,()=>{this.cellEditingConfig=this.guiGridCellEditConverter.convert(this.cellEditing)}),k(e.paging,()=>{"boolean"!=typeof this.paging&&(this.paging=this.gridPagingConverter.convert(this.paging))})}ngAfterContentInit(){this.guiGridColumnComponent&&this.guiGridColumnComponent.toArray().length>0&&(this.columnsConfig=this.gridColumnConverter.convert(this.guiGridColumnComponent.toArray()))}onPageChange(e){this.pageChanged.emit(e)}onPageSizeChange(e){this.pageSizeChanged.emit(e)}onItemSelect(e){this.itemsSelected.emit(e)}onRowsSelect(e){const n=e.map(o=>({index:o.getIndex(),source:o.getItem(),itemId:o.getItemId()}));this.selectedRows.emit(n)}onColumnsChange(){this.columnsChanged.emit()}onContainerWidthChange(e){this.containerWidthChanged.emit(e)}onSourceEdit(e){this.sourceEdited.emit(e)}onCellEditEnter(){this.cellEditEntered.emit()}onCellEditSubmit(){this.cellEditSubmitted.emit()}onCellEditCancel(){this.cellEditCanceled.emit()}onSearchPhrase(e){this.searchPhraseChanged.emit(e)}onTheme(e){this.themeChanged.emit(this.gridThemeConverter.convertToGuiTheme(e))}onHorizontalGrid(e){this.horizontalGridChanged.emit(e)}onVerticalGrid(e){this.verticalGridChanged.emit(e)}onRowColoring(e){this.rowColoringChanged.emit(this.gridRowColoringConverter.convertToGuiRowColoring(e))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=r.FsC({type:i,contentQueries:function(e,n,o){if(1&e&&r.wni(o,Xi,4),2&e){let s;r.mGM(s=r.lsd())&&(n.guiGridColumnComponent=s)}},inputs:{columnHeaderTop:"columnHeaderTop",columnHeaderBottom:"columnHeaderBottom",maxHeight:"maxHeight",width:"width",rowHeight:"rowHeight",autoResizeWidth:"autoResizeWidth",source:"source",columns:"columns",paging:"paging",verticalGrid:"verticalGrid",horizontalGrid:"horizontalGrid",theme:"theme",rowColoring:"rowColoring",rowSelection:"rowSelection",rowStyle:"rowStyle",rowClass:"rowClass",loading:"loading",virtualScroll:"virtualScroll",sorting:"sorting",searching:"searching",titlePanel:"titlePanel",footerPanel:"footerPanel",filtering:"filtering",quickFilters:"quickFilters",editMode:"editMode",cellEditing:"cellEditing",infoPanel:"infoPanel",summaries:"summaries",columnMenu:"columnMenu",rowDetail:"rowDetail",localization:"localization"},outputs:{pageChanged:"pageChanged",pageSizeChanged:"pageSizeChanged",itemsSelected:"itemsSelected",selectedRows:"selectedRows",columnsChanged:"columnsChanged",containerWidthChanged:"containerWidthChanged",sourceEdited:"sourceEdited",cellEditEntered:"cellEditEntered",cellEditCanceled:"cellEditCanceled",cellEditSubmitted:"cellEditSubmitted",searchPhraseChanged:"searchPhraseChanged",themeChanged:"themeChanged",horizontalGridChanged:"horizontalGridChanged",verticalGridChanged:"verticalGridChanged",rowColoringChanged:"rowColoringChanged"},features:[r.OA$]}),i})();const cc=new r.nKC("StructureParentComponent");class dn{constructor(t,e,n){this.item=t,this.index=e,this.itemId=n}getItem(){return this.item}getIndex(){return this.index}getItemId(){return this.itemId}}class Hb{constructor(t,e,n,o,s,a,c,u,g,p,b,E,P,U,V){this.structureId=t,this.compositionId=e,this.schemaId=n,this.formationCommandInvoker=o,this.formationWarehouse=s,this.compositionCommandInvoker=a,this.compositionWarehouse=c,this.filterIntegration=u,this.sourceCommandInvoker=g,this.searchCommandInvoker=p,this.gridThemeCommandInvoker=b,this.structureCommandInvoker=E,this.summariesCommandInvoker=P,this.sortingCommandInvoker=U,this.pagingCommandInvoker=V}provide(){const t=this.structureId,e=this.compositionId,n=this.schemaId,o=this.formationCommandInvoker,s=this.formationWarehouse,c=this.compositionWarehouse,u=this.filterIntegration,g=this.sourceCommandInvoker,p=this.searchCommandInvoker,b=this.gridThemeCommandInvoker,E=this.structureCommandInvoker,P=this.summariesCommandInvoker,U=this.sortingCommandInvoker,V=this.pagingCommandInvoker;return{setSource(C){g.setOrigin(C,t)},showLoading(){g.setLoading(!0,t)},hideLoading(){g.setLoading(!1,t)},deleteRow(C){g.deleteRow(new dn(C.source,C.index,C.itemId),t)},deleteRows(C){const $=C.map(le=>new dn(le.source,le.index,le.itemId));g.deleteRows($,t)},deleteSelectedRows(){},getSelectedRows:()=>s.findSelectedRows(t).getValueOrNullOrThrowError().map($=>({source:$.getItem(),index:$.getIndex(),itemId:$.getItemId()})),selectAll(){o.selectAll(t)},unselectAll(){o.unselectAll(t)},getColumns(){let C=[];return c.onTemplateColumns(e).subscribe($=>{C=$}),C},getFilters(){const C=u.findFilters(e,t),$={};return Object.keys(C).forEach(le=>{$[le]=C[le].map(Rt=>({columnName:Rt.columnName,filterId:Rt.filterId,filterType:Rt.type,value:Rt.value}))}),$},getFiltersForColumn:C=>[],getFilterTypes:()=>[],getFilterTypesForColumn:C=>u.findFilterTypes(C,e,t),removeAll(){},removeFilter(C){},removeFiltersFromColumn(C){},filter(C,$,le){u.filter(C,$,le,e,t)},enablePaging(){V.enable(t)},disablePaging(){V.disable(t)},nextPage(){V.nextPage(t)},prevPage(){V.prevPage(t)},changePageSize(C){V.changePageSize(C,t)},setPagingConfig(C){V.setPaging(C,t)},setSearchingConfig(C){p.setSearchingConfig(C,t)},search(C){p.search(C,t)},clearSearchPhrase(){p.search("",t)},scrollToTop(){E.scrollToTop(t)},scrollToBottom(){E.scrollToBottom(t)},scrollToRowByIndex(C){E.scrollToIndex(C,t)},setTheme(C){b.setTheme(C,n,t)},setVerticalGrid(C){b.setVerticalGrid(C,n)},setHorizontalGrid(C){b.setHorizontalGrid(C,n)},setRowColoring(C){b.setRowColoring(C,n)},enableVirtualScroll(){E.enableVirtualScroll(t)},disableVirtualScroll(){E.disableVirtualScroll(t)},enableSummaries(){P.setSummariesEnabled(!0,t)},disableSummaries(){P.setSummariesEnabled(!1,t)},setSortConfig(C){U.setSortingConfig(C,t)}}}}class Ub{constructor(t,e,n){this.schemaCommandInvoker=t,this.gridThemeConverter=e,this.gridRowColoringConverter=n}setTheme(t,e,n){const o=this.gridThemeConverter.convert(t);this.schemaCommandInvoker.setTheme(o,e,n)}setRowColoring(t,e){const n=this.gridRowColoringConverter.convert(t);this.schemaCommandInvoker.setRowColoring(n,e)}setVerticalGrid(t,e){this.schemaCommandInvoker.setVerticalGrid(t,e)}setHorizontalGrid(t,e){this.schemaCommandInvoker.setHorizontalGrid(t,e)}}class Io{constructor(t){this.hostElement=t}getElement(t){return this.createModifier(t)}getHost(){if(!this.hostElement)throw new Error("Missing host element in DomRenderer constructor.");return this.createModifier(this.hostElement)}}var To;class ct extends Io{constructor(t){super(t),this.htmlElement=t}createModifier(t){return new ct.ClassModifier(t)}}ct.ClassModifier=((To=class{constructor(i){this.htmlElement=i}add(...i){this.addClassToDomElement(this.htmlElement,i)}remove(...i){this.removeClassFromDomElement(this.htmlElement,i)}clear(){this.htmlElement.removeAttribute(ct.ClassModifier.CLASS)}addClassToDomElement(i,t){for(let e=0;e<t.length;e++)i.classList.add(t[e])}removeClassFromDomElement(i,t){for(let e=0;e<t.length;e++)i.classList.remove(t[e])}}).CLASS="class",To);let $b=(()=>{class i extends Io{constructor(e){super(e),this.htmlElement=e}createModifier(e){return new i.AttributeModifier(e)}}return i.AttributeModifier=class{constructor(t){this.htmlElement=t}setAttribute(t,e){this.htmlElement.setAttribute(t,e)}removeAttribute(t){this.htmlElement.removeAttribute(t)}},i})();class uc extends Eo{constructor(t){super(),this.enabled=t}withEnabled(t){return this.enabled=t,this}buildObject(){return new Fo(this.enabled)}}let jb=(()=>{class i extends uc{constructor(){super(i.defaultEnabled)}}return i.defaultEnabled=!0,i})(),Fo=(()=>{class i{constructor(e){this.enabled=e}isEnabled(){return this.enabled}}return i.Builder=uc,i.DefaultBuilder=jb,i})();class lc extends Eo{constructor(t,e,n){super(),this.headerEnabled=t,this.bottomPaging=e,this.topPaging=n,this.border=!0}withHeader(t){return this.headerEnabled=t,this}withBottomPaging(t){return this.bottomPaging=t,this}withTopPaging(t){return this.topPaging=t,this}withBorder(t){return this.border=t,this}buildObject(){return new $t(this.headerEnabled,this.bottomPaging,this.topPaging,this.border)}}class wt extends lc{constructor(){super(wt.defaultHeaderEnabled,wt.defaultBottomPaging,wt.defaultTopPaging)}}wt.defaultHeaderEnabled=!0,wt.defaultBottomPaging=(new Fo.DefaultBuilder).build(),wt.defaultTopPaging=(new Fo.DefaultBuilder).build();let $t=(()=>{class i{constructor(e,n,o,s){this.headerEnabled=e,this.bottomPaging=n,this.topPaging=o,this.border=s}isHeaderEnabled(){return this.headerEnabled}isBorderEnabled(){return this.border}getBottomPaging(){return this.bottomPaging}getTopPaging(){return this.topPaging}}return i.Builder=lc,i.DefaultBuilder=wt,i})();const Xb=(new $t.DefaultBuilder).build();let dc=(()=>{class i{constructor(){this.gridMap=new Map}register(e,n,o){this.gridMap.set(e,{component:n,structureId:o})}unregister(e){this.gridMap.delete(e)}getValues(e){return this.gridMap.get(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();class Li{generateId(){return Og.generate()}}class ae{constructor(){}}class Ie{constructor(){}}class Ye{constructor(){}}class Te{constructor(){}}class ut{constructor(){}}class zi extends ii{constructor(t){super(t),this.id=t}getId(){return this.id}equals(t){return t.toString()===this.id}toString(){return this.id}}class Ke{constructor(){}}let gn=(()=>{class i{constructor(e,n,o){this.compositionWarehouse=e,this.filterCommandInvoker=n,this.filterWarehouse=o}findFilterTypes(e,n,o){let s=[];return this.compositionWarehouse.onTemplateColumns(n).pipe(h(a=>a.find(c=>c.getName()===e)),F(a=>void 0!==a),ei(1),xe(a=>this.filterWarehouse.onFilterTypesForFieldId(new zi(a.columnFieldId.getId()),o))).subscribe(a=>{s=a.map(c=>c.getName())}),s}findFilters(e,n){const o=this.filterWarehouse.findFilters(n).getValueOrNullOrThrowError(),s=this.compositionWarehouse.findColumnNames(e),a={};for(let c=0;c<s.length;c+=1)a[s[c]]=o.filter(u=>u.getFieldName()===s[c]).map(u=>({columnName:u.getFieldName(),filterId:u.getFilterId().toString(),type:u.getFilterTypeName(),value:u.getValue()}));return a}filter(e,n,o,s,a){this.compositionWarehouse.onTemplateColumns(s).pipe(h(c=>c.find(u=>u.getName()===e)),F(c=>void 0!==c),ei(1),xe(c=>this.filterWarehouse.onceFilterTypeId(new zi(c.columnFieldId.getId()),n,a).pipe(h(u=>({fieldId:new zi(c.columnFieldId.getId()),filterTypeId:u}))))).subscribe(c=>{const{fieldId:u,filterTypeId:g}=c;g.ifPresent(p=>{this.filterCommandInvoker.add(u,p,o,a)})})}}return i.services=[Te,Ke,ut],i})();class Fe{constructor(){}}class Be{constructor(){}}class Me{constructor(){}}class De{constructor(){}}class ci{constructor(){}}class He{constructor(){}}class ke{constructor(){}}class Lb extends Hr{constructor(t){super(t)}toAggregateId(){return new x(this.toString())}}class x extends Br{constructor(t){super(t)}toReadModelRootId(){return new Lb(this.getId())}}class zb extends Hr{constructor(t){super(t)}toAggregateId(){return new J(this.toString())}}class J extends Br{constructor(t){super(t)}toReadModelRootId(){return new zb(this.getId())}}var H=function(i){return i[i.NONE=0]="NONE",i[i.EVEN=1]="EVEN",i[i.ODD=2]="ODD",i}(H||{});class Ue{}let gc=(()=>{class i extends ge{constructor(e){super(),this.schemaReadModelRepository=e,this.cssClass=null,this.classModifier=new ct}init(e,n){this.cssHostRef=e,this.schemaReadModelRepository.onCssClasses(n).pipe(this.hermesTakeUntil()).subscribe(o=>{const s=this.updateState(o);this.renderCssClasses(s)})}updateState(e){if(this.cssClass){const n={};return Object.keys(this.cssClass).forEach(o=>{e[o]!==this.cssClass[o]&&(n[o]=e[o])}),this.cssClass=e,n}return this.cssClass=e,this.cssClass}renderCssClasses(e){e.hasOwnProperty("verticalGrid")&&this.toggleCssClass(e.verticalGrid,i.VERTICAL_GRID_CLASS_NAME),e.hasOwnProperty("horizontalGrid")&&this.toggleCssClass(e.horizontalGrid,i.HORIZONTAL_GRID_CLASS_NAME),e.hasOwnProperty("theme")&&(this.removeThemeCssClasses(),this.addClass(this.resolveThemeClassName(e.theme))),e.hasOwnProperty("rowColoring")&&(this.removeRowColoringClasses(),this.addClass(this.resolveRowColoringClassName(e.rowColoring)))}toggleCssClass(e,n){e?this.addClass(n):this.removeClass(n)}removeThemeCssClasses(){Object.keys(v).map(e=>v[e]).map(e=>this.resolveThemeClassName(e)).filter(e=>!!e).forEach(e=>{this.removeClass(e)})}resolveThemeClassName(e){switch(e){case v.FABRIC:case v[v.FABRIC]:return i.THEME_FABRIC_CLASS_NAME;case v.MATERIAL:case v[v.MATERIAL]:return i.THEME_MATERIAL_CLASS_NAME;case v.LIGHT:case v[v.LIGHT]:return i.THEME_LIGHT_CLASS_NAME;case v.DARK:case v[v.DARK]:return i.THEME_DARK_CLASS_NAME;case v.GENERIC:case v[v.GENERIC]:return i.THEME_GENERIC_CLASS_NAME;default:return i.THEME_FABRIC_CLASS_NAME}}resolveRowColoringClassName(e){switch(e){case H.ODD:case H[H.ODD]:return i.ROW_COLORING_ODD;case H.EVEN:case H[H.EVEN]:return i.ROW_COLORING_EVEN;default:return null}}removeRowColoringClasses(){Object.keys(H).map(e=>H[e]).map(e=>this.resolveRowColoringClassName(e)).filter(e=>!!e).forEach(e=>{this.removeClass(e)})}addClass(e){e&&this.classModifier.getElement(this.cssHostRef.nativeElement).add(e)}removeClass(e){e&&this.classModifier.getElement(this.cssHostRef.nativeElement).remove(e)}}return i.VERTICAL_GRID_CLASS_NAME="gui-vertical-grid",i.HORIZONTAL_GRID_CLASS_NAME="gui-horizontal-grid",i.THEME_FABRIC_CLASS_NAME="gui-fabric",i.THEME_MATERIAL_CLASS_NAME="gui-material",i.THEME_LIGHT_CLASS_NAME="gui-light",i.THEME_DARK_CLASS_NAME="gui-dark",i.THEME_GENERIC_CLASS_NAME="gui-generic",i.ROW_COLORING_ODD="gui-rows-odd",i.ROW_COLORING_EVEN="gui-rows-even",i.\u0275fac=function(e){return new(e||i)(r.KVO(Ue))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),hn=(()=>{class i extends We{constructor(){super()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),pn=(()=>{class i extends We{constructor(){super()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();class hc{constructor(t,e,n,o,s){this.enabled=!1,this.infoDialog=!0,this.columnsManager=!0,this.schemaManager=!0,this.sourceSize=!0,this.isNotUndefinedOrNull(t)&&(this.enabled=t),this.isNotUndefinedOrNull(e)&&(this.infoDialog=e),this.isNotUndefinedOrNull(n)&&(this.columnsManager=n),this.isNotUndefinedOrNull(s)&&(this.sourceSize=s),this.isNotUndefinedOrNull(o)&&(this.schemaManager=o)}isEnabled(){return this.enabled}isInfoDialogEnabled(){return this.infoDialog}isColumnsManagerEnabled(){return this.columnsManager}isSourceSizeEnabled(){return this.sourceSize}isSchemaManagerEnabled(){return this.schemaManager}isNotUndefinedOrNull(t){return null!=t}}class ui extends We{constructor(){super(new hc)}}const Wb=new r.nKC("StructureComponentToken");let jt=(()=>{class i{constructor(e){this.innerElementRef=e,this.innerClassModifier=new ct(this.innerElementRef.nativeElement),this.addHostClass()}addClassToHost(e){this.innerClassModifier.getHost().add(e)}removeClassFromHost(e){this.innerClassModifier.getHost().remove(e)}hasChanged(e){return void 0!==e&&void 0!==e.currentValue}ifChanged(e,n){this.hasChanged(e)&&n()}addHostClass(){this.innerClassModifier.getHost().add(this.getSelectorName())}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275dir=r.FsC({type:i}),i})(),G=(()=>{class i extends jt{constructor(e,n){super(n),this.detector=e,this.viewInDom=!1,this.unsubscribe$=new K}ngAfterViewInit(){this.viewInDom=!0}ngOnDestroy(){this.unsubscribe()}reRender(){this.isViewInDom()&&this.detector.detectChanges()}isViewInDom(){return this.viewInDom}subscribe(e,n){e.pipe(this.takeUntil()).subscribe(o=>{n(o),this.reRender()})}subscribeWithoutRender(e,n){e.pipe(this.takeUntil()).subscribe(o=>{n(o)})}subscribeAndEmit(e,n,o=(s=>s)){e.pipe(this.takeUntil()).subscribe(s=>{n.emit(o(s))})}unsubscribe(){this.unsubscribe$.next(),this.unsubscribe$.complete()}takeUntil(){return pe(this.unsubscribe$)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT))},i.\u0275dir=r.FsC({type:i,features:[r.Vt3]}),i})();var qe=function(i){return i[i.ENTER=0]="ENTER",i[i.SUBMIT=1]="SUBMIT",i[i.CANCEL=2]="CANCEL",i}(qe||{});class w extends ki{}class Mo extends w{constructor(t,e){super(t,"InitFieldsCommand"),this.fieldConfigs=e}getFieldConfigs(){return this.fieldConfigs}}class _ extends Zt{}class mn extends _{constructor(t,e,n){super(t,{fieldConfigs:e,fields:n},"FieldsInitedEvent"),this.fieldConfigs=e,this.fields=n}getFields(){return this.fields}}class Do{constructor(t){this.id=t}getId(){return this.id}}class Yb{constructor(t,e){this.column=t,this.field=e}getColumn(){return this.column}getField(){return this.field}}class Kb{constructor(t,e,n,o,s){this.structureId=t,this.compositionId=e,this.columnFieldFactory=n,this.columnAutoConfigurator=o,this.compositionCommandInvoker=s,this.commandDispatcher=d.resolve(se),this.domainEventBus=d.resolve(Se)}handle(t){let e=[];if(void 0!==t.columns&&void 0!==t.columns.currentValue)e=t.columns.currentValue,this.columns=e;else{if(void 0!==this.columns||null==t.source)return;e=this.columnAutoConfigurator.configure(t.source.currentValue),this.columns=e}this.compositionCommandInvoker.setGroups(e,this.compositionId);const{columns:n}=this.getConfigs(e),s=this.getFieldConfigs(n),a=new Mo(this.structureId,s);this.domainEventBus.ofEvents([mn]).pipe(F(c=>c.getAggregateId().toString()===this.structureId.toString()),ei(1)).subscribe(c=>{const u=c.getFields(),g=this.convertColumnFieldIds(u),p=this.convertColumns(n,u,g);this.compositionCommandInvoker.setColumns(p,this.compositionId)}),this.commandDispatcher.dispatch(a)}getConfigs(t){let e=[];const n=[];for(let o=0;o<t.length;o+=1){const s=t[o];void 0!==s.columns?(n.push(s),e=e.concat(s.columns)):e.push(s)}return{columns:e,groups:n}}getFieldConfigs(t){return t.map(e=>({field:e.field,type:e.type,matcher:e.matcher,summaries:e.summaries,sorting:e.sorting}))}convertColumnFieldIds(t){return t?t.map(e=>new Do(e.getId().getId())):[]}convertColumns(t,e,n){return t?t.map((o,s)=>{const c=e[s],u=this.columnFieldFactory.create(n[s],c.getAccessorMethod(),c.getDataType(),c.getSearchAccessorMethod());return new Yb(o,u)}):[]}}class li{}class qb extends Br{constructor(t){super(t)}toReadModelRootId(){return new ie(this.getId())}}class ie extends Hr{constructor(t){super(t)}toAggregateId(){return new qb(this.getId())}}class Et extends Vt{}class Qb{constructor(t,e){this.after=t,this.before=e}}class ko extends _{constructor(t,e,n){super(t,{beforeItem:e,afterItem:n},"StructureSourceItemEditedEvent"),this.beforeItem=e,this.afterItem=n}getBeforeItem(){return this.beforeItem}getAfterItem(){return this.afterItem}}class Wi{constructor(){this.domainEventBus=d.resolve(Se)}onSourceEdited(t){return this.domainEventBus.ofEvents([ko]).pipe(F(e=>e.getAggregateId().toString()===t.toString()),h(e=>{const n=e.getAfterItem().getSourceItem(),o=e.getBeforeItem().getSourceItem();return new Qb(n,o)}))}}class di extends Vt{}class $e{constructor(){}}class Ro extends _{constructor(t,e,n,o){super(t,{selectedRows:e,allSelected:n,allUnselected:o},"SelectedRowChangedEvent"),this.selectedRows=e,this.allSelected=n,this.allUnselected=o}getSelectedRows(){return this.selectedRows}isAllSelected(){return this.allSelected}isAllUnselected(){return this.allUnselected}}let _t=(()=>{class i extends Vt{constructor(e,n){super(),this.sourceWarehouse=e,this.domainEventBusTOREMOVE=n,this.map=new Map,this.subject$=new K,this.domainEventBusTOREMOVE.ofEvents([Ro]).pipe(xe(o=>{const s=o.getSelectedRows(),a=o.getAggregateId();return this.sourceWarehouse.onPreparedItems(a).pipe(ei(1),h(c=>{const u=[],g=c.length,p=new Map;for(let b=0;b<g;b+=1)p.set(c[b].getId().toString(),c[b]);for(let b=0;b<s.length;b+=1){const E=p.get(s[b]);u.push(new dn(E.getSourceItem(),b,E.getId()))}return{id:a,items:u}}))})).subscribe(o=>{this.map.set(o.id.toString(),o.items),this.subject$.next(this.map)})}onItemSelected(e){return this.subject$.toObservable().pipe(F(n=>n.has(e.toString())),h(n=>n.get(e.toString())))}}return i.services=[$e,Se],i})();class pc{constructor(t){this.enabled=!1,this.rowEdit=()=>!0,this.cellEdit=()=>!0,void 0!==t.enabled&&(this.enabled=t.enabled),void 0!==t.rowEdit&&(this.rowEdit=t.rowEdit),void 0!==t.cellEdit&&(this.cellEdit=t.cellEdit)}isEnabled(t,e,n){return this.enabled&&this.rowEdit(t,e,n)&&this.cellEdit(t,e,n)}}class ce extends A{constructor(){super(ce.default)}}ce.default=new pc({enabled:!1}),ce.\u0275fac=function(t){return new(t||ce)},ce.\u0275prov=r.jDH({token:ce,factory:ce.\u0275fac});class Ao{convert(t){let e,n,o,s;return void 0!==t.infoDialog&&(e=t.infoDialog),void 0!==t.columnsManager&&(n=t.columnsManager),void 0!==t.schemaManager&&(s=t.schemaManager),void 0!==t.sourceSize&&(o=t.sourceSize),new hc(t.enabled,e,n,s,o)}}let fn=(()=>{class i{constructor(e,n){this.structureInfoPanelConfigConverter=e,this.structureInfoPanelArchive=n}set(e){const n=this.structureInfoPanelConfigConverter.convert(e);this.structureInfoPanelArchive.next(n)}}return i.services=[Ao,ui],i.\u0275fac=function(e){return new(e||i)(r.KVO(Ao),r.KVO(ui))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();class Jb{constructor(t,e,n,o){this.fieldId=t,this.accessor=e,this.dataType=n,this.searchAccessor=o}getId(){return this.fieldId}getValue(t){return this.accessor(t)}getAccessor(){return this.accessor}getSearchAccessor(){return this.searchAccessor}getDataType(){return this.dataType}}class Yi{create(t,e,n,o){return new Jb(t,e,n,o)}}class It extends Vt{constructor(){super()}}let Ki=(()=>{class i extends We{constructor(){super(!1)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();class Tt extends Vt{constructor(){super()}}class lt{}let gi=(()=>{class i extends A{constructor(){super(i.default)}on(e){return super.on(e).pipe(F(n=>n))}once(e){return ti(this.on(e))}}return i.default=!1,i})(),Zb=(()=>{class i extends G{constructor(e,n,o,s,a,c,u,g,p,b,E,P,U,V,C,$,le,Rt,ca,ua,vg,la,da,ga,ha,bg,Cg,yg){super(e,n),this.changeDetectorRef=e,this.columnAutoConfigurator=o,this.structureId=s,this.compositionId=a,this.schemaId=c,this.structureCommandInvoker=u,this.structurePagingCommandDispatcher=g,this.pagingEventRepository=p,this.sortingCommandInvoker=b,this.searchCommandInvoker=E,this.sourceCommandService=P,this.sourceEventService=U,this.schemaCommandInvoker=V,this.compositionCommandDispatcher=C,this.compositionEventRepository=$,this.formationEventService=le,this.structureEditModeArchive=Rt,this.structureCellEditArchive=ca,this.structureInfoPanelConfigService=ua,this.structureCellEditStore=vg,this.columnFieldFactory=la,this.formationCommandDispatcher=da,this.searchEventRepository=ga,this.structureHeaderBottomEnabledArchive=ha,this.schemaEventRepository=bg,this.translationService=Cg,this.structureInitialValuesReadyArchive=yg,this.source=[],this.themeChanged=new r.bkB,this.columnsChanged=new r.bkB,this.containerWidthChanged=new r.bkB,this.sourceEdited=new r.bkB,this.cellEditEntered=new r.bkB,this.cellEditCanceled=new r.bkB,this.cellEditSubmitted=new r.bkB,this.changeAfterInit=!1,this.structureColumnInputHandler=new Kb(s,a,la,o,C),this.translationService.setDefaultTranslation()}ngOnChanges(e){k(e.editMode,()=>{this.structureEditModeArchive.next(this.editMode)}),k(e.cellEditing,()=>{let n;n="boolean"==typeof this.cellEditing?{enabled:this.cellEditing}:this.cellEditing,this.structureCommandInvoker.setCellEdit(n,this.structureId)}),k(e.width,n=>{this.compositionCommandDispatcher.setWidth(n,this.compositionId)}),k(e.theme,()=>{this.schemaCommandInvoker.setTheme(this.theme,this.schemaId,this.structureId)}),k(e.rowHeight,()=>{this.structureCommandInvoker.setRowHeight(this.rowHeight,this.structureId)}),k(e.autoResizeWidth,()=>{this.compositionCommandDispatcher.setResizeWidth(this.autoResizeWidth,this.compositionId)}),this.structureColumnInputHandler.handle(e),k(e.maxHeight,()=>{this.structureCommandInvoker.setContainerHeight(this.maxHeight,this.structureId)}),k(e.source,()=>{this.sourceCommandService.setOrigin(this.source,this.structureId)})}ngOnInit(){this.compositionEventRepository.onColumnsChanged(this.compositionId.toReadModelRootId()).pipe(this.takeUntil()).subscribe(()=>{this.columnsChanged.emit()}),this.compositionEventRepository.onContainerWidthChanged(this.compositionId.toReadModelRootId()).pipe(this.takeUntil()).subscribe(e=>{this.containerWidthChanged.emit(e)}),this.sourceEventService.onSourceEdited(this.structureId).subscribe(e=>{this.sourceEdited.emit(e)}),this.structureCellEditStore.on().pipe(this.takeUntil()).subscribe(e=>{switch(e){case qe.ENTER:this.cellEditEntered.emit();break;case qe.SUBMIT:this.cellEditSubmitted.emit();break;case qe.CANCEL:this.cellEditCanceled.emit()}}),this.subscribeAndEmit(this.schemaEventRepository.onThemeChanged(this.schemaId),this.themeChanged),this.componentInitialized()}componentInitialized(){this.changeAfterInit=!0}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(li),r.rXU(x),r.rXU(J),r.rXU(ie),r.rXU(De),r.rXU(ke),r.rXU(Et),r.rXU(He),r.rXU(Be),r.rXU(Fe),r.rXU(Wi),r.rXU(Me),r.rXU(Ye),r.rXU(di),r.rXU(_t),r.rXU(pn),r.rXU(ce),r.rXU(fn),r.rXU(hn),r.rXU(Yi),r.rXU(ae),r.rXU(It),r.rXU(Ki),r.rXU(Tt),r.rXU(lt),r.rXU(gi))},i.\u0275dir=r.FsC({type:i,inputs:{maxHeight:"maxHeight",width:"width",rowHeight:"rowHeight",autoResizeWidth:"autoResizeWidth",source:"source",columns:"columns",editMode:"editMode",cellEditing:"cellEditing",theme:"theme"},outputs:{themeChanged:"themeChanged",columnsChanged:"columnsChanged",containerWidthChanged:"containerWidthChanged",sourceEdited:"sourceEdited",cellEditEntered:"cellEditEntered",cellEditCanceled:"cellEditCanceled",cellEditSubmitted:"cellEditSubmitted"},features:[r.Vt3,r.OA$]}),i})();class qi{constructor(t=!1,e=!0,n=!1,o=!1){this.enabled=t,this.sort=e,this.filter=n,this.columnsManager=o,this.mainMenu="Menu",this.filterMenu="Filter",this.columnsMenu="Columns"}static default(){return new qi}static fromConfig(t){return new qi(t.enabled,t.sort,t.filter,t.columnsManager)}isEnabled(){return this.enabled&&(this.sort||this.filter||this.columnsManager)}isMainEnabled(){return this.sort}isSortingEnabled(){return this.sort}isFilteringEnabled(){return this.filter}isColumnManagerEnabled(){return this.columnsManager}getMenus(){const t=[];return this.isMainEnabled()&&t.push(this.getMainMenu()),this.isFilteringEnabled()&&t.push(this.getFilterMenu()),this.isColumnManagerEnabled()&&t.push(this.getColumnMenu()),t}getActiveMenu(){return this.getMenus()[0]}getMainMenu(){return this.mainMenu}getFilterMenu(){return this.filterMenu}getColumnMenu(){return this.columnsMenu}setMainMenu(t){this.mainMenu=t}setFilterMenu(t){this.filterMenu=t}setColumnsMenu(t){this.columnsMenu=t}}let Qi=(()=>{class i extends We{constructor(){super(qi.default())}nextConfig(e){const n=qi.fromConfig(e);this.next(n)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),mc=(()=>{class i{constructor(){this.closeAll$=new K}closeAll(){this.closeAll$.next()}onCloseAll(){return this.closeAll$.toObservable()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),Po=(()=>{class i extends We{constructor(){super(!0)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),vn=(()=>{class i extends We{constructor(){super({enabled:!1,template:e=>"Detail View"})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();const fc=new r.nKC("structureRowDetailViewItem"),vc=new r.nKC("structureRowDetailViewTemplate");let bc=(()=>{class i extends jt{constructor(e){super(e),this.subClassConstructor=this.constructor,this.hasInputs()&&this.throwError("it cannot have properties annotated with @Inputs().")}hasInputs(){return!this.isEmpty(this.constructor.\u0275cmp.inputs)}throwError(e){throw new Error(`Component "${this.subClassConstructor.name}" is a DynamicallyCreatedComponent, ${e}.`)}isEmpty(e){for(const n in e)if(e.hasOwnProperty(n))return!1;return!0}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275dir=r.FsC({type:i,features:[r.Vt3]}),i})(),Go=(()=>{class i extends bc{constructor(e,n,o,s){super(e),this.item=n,this.template=o,this.sanitizer=s,this.safeHTML=this.sanitizer.bypassSecurityTrustHtml(this.template(this.item.getItem(),this.item.getIndex())),this.selectedRowValue=this.item.getItem()}getSelectorName(){return"gui-row-detail"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(fc),r.rXU(vc),r.rXU(Lr.up))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-row-detail",""]],features:[r.Vt3],attrs:Mp,decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(e,n){1&e&&r.nrm(0,"div",0),2&e&&r.Y8G("innerHTML",n.safeHTML,r.npT)},encapsulation:2,changeDetection:0}),i})(),Cc=(()=>{class i extends ge{constructor(e,n,o,s,a){super(),this.injector=e,this.structureId=n,this.structureDetailViewConfigArchive=o,this.formationEventService=s,this.drawerService=a,this.enabled=!1}init(e){this.elementRef=e,this.structureDetailViewConfigArchive.on().pipe(this.hermesTakeUntil()).subscribe(n=>{this.config=n,!0===n.enabled?this.turnOn():!1===n.enabled&&this.turnOff()}),this.formationEventService.onItemSelected(this.structureId).pipe(this.hermesTakeUntil()).subscribe(n=>{if(!this.enabled||(this.drawerService.close(),0===n.length))return;const s=r.zZn.create({parent:this.injector,providers:[{provide:fc,useValue:n[0]},{provide:vc,useValue:this.config.template}]});this.drawerService.open({appendToElement:this.elementRef,component:Go,injector:s})})}turnOn(){this.enabled=!0}turnOff(){this.enabled=!1}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.zZn),r.KVO(x),r.KVO(vn),r.KVO(_t),r.KVO(vo))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();var bn=function(i){return i[i.TOP=0]="TOP",i[i.BOTTOM=1]="BOTTOM",i}(bn||{}),Xt=function(i){return i.SELECTED="selected",i.PAGING_TOP_CLASS_NAME="gui-paging-top",i.PAGING_BOTTOM_CLASS_NAME="gui-paging-bottom",i}(Xt||{});let X=(()=>{class i{constructor(){this.state={},this.state$=new Ge,this.destroy$=new Ge}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setValue(e){this.state=Object.assign({},this.state,e),this.state$.next(this.state)}getValue(e){return void 0!==e?this.state[e]:this.state}select(e){let n=this.state$;return void 0!==e&&(n=this.state$.pipe(h(o=>o[e]))),n.pipe(Pe())}connect(e,n){"string"==typeof e?n.pipe(pe(this.destroy$)).subscribe(o=>{this.setPartialState(e,o)}):e.pipe(pe(this.destroy$)).subscribe(o=>{this.setValue(o)})}setPartialState(e,n){const o={};o[e]=n,this.state=Object.assign({},this.state,o),this.state$.next(this.state)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();class yc{constructor(){this.unsubscribe$=new K}takeUntil(){return pe(this.unsubscribe$)}unsubscribe(){this.unsubscribe$.isCompleted||(this.unsubscribe$.next(),this.unsubscribe$.complete())}}let z=(()=>{class i{constructor(){this.streamCloser=new yc,this.hermesUnsubscribe$=new K}ngOnDestroy(){this.streamCloser.unsubscribe(),this.hermesUnsubscribe()}isDefined(e,n){return void 0!==n[e]&&void 0!==n[e].currentValue}subscribeAndEmit(e,n){e.pipe(this.hermesTakeUntil()).subscribe(o=>{n.emit(o)})}unsubscribe(){this.streamCloser.unsubscribe()}hermesUnsubscribe(){this.hermesUnsubscribe$.next(),this.hermesUnsubscribe$.complete()}hermesTakeUntil(){return pe(this.hermesUnsubscribe$)}takeUntil(){return this.streamCloser.takeUntil()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=r.FsC({type:i}),i})(),Sc=(()=>{class i extends jt{constructor(e,n){super(e),this.changeDetectorRef=n}ngOnInit(){this.changeDetectorRef.detach()}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.gRc))},i.\u0275dir=r.FsC({type:i,features:[r.Vt3]}),i})(),hi=(()=>{class i extends Sc{constructor(e,n){super(e,n),this.addClassToHost("gui-icon")}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.gRc))},i.\u0275dir=r.FsC({type:i,features:[r.Vt3]}),i})(),Z=(()=>{class i extends jt{constructor(e){super(e),this.subClassConstructor=this.constructor,this.subClassNgOnInit=this.ngOnInit,this.hasConstructorOnlyElementRefInjected(arguments)||this.throwError("it should not inject services"),this.subClassNgOnInit&&this.throwError("it should not use ngOnInit")}hasConstructorOnlyElementRefInjected(e){return!(arguments.length>1)&&1===arguments.length&&this.isElementRef(arguments[0])}isElementRef(e){return null!==e.nativeElement}throwError(e){throw new Error(`Component "${this.subClassConstructor.name}" is a PureComponent, ${e}.`)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275dir=r.FsC({type:i,features:[r.Vt3]}),i})();class Ji{constructor(){this.classModifier=new ct}select(t){this.classModifier.getElement(t).add(Xt.SELECTED)}unselect(t){this.classModifier.getElement(t).remove(Xt.SELECTED)}add(t,e){this.classModifier.getElement(t).add(e)}remove(t,e){this.classModifier.getElement(t).remove(e)}toggle(t){}}class Lt{constructor(){}}let Cn=(()=>{class i extends We{constructor(){super(at.BASIC)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();class pi{constructor(){this.destroy$=new Ge(1)}subscribe(t,e){void 0!==this.subscription&&this.subscription.unsubscribe(),this.subscription=t.pipe(Pe(),pe(this.destroy$)).subscribe(n=>e(n),n=>this.onError(n),()=>this.onComplete())}destroy(){this.destroy$.next(),this.destroy$.complete()}onError(t){}onComplete(){}}class eC{constructor(t,e,n){this.cd=t,this.vcr=e,this.template=n}onNext(t){this.vcr.clear(),this.vcr.createEmbeddedView(this.template,{$implicit:t}),this.cd.detectChanges()}}let ue=(()=>{class i{constructor(e,n,o,s){this.subscriber=e,this.cd=n,this.vcr=o,this.template=s,this.guiLetViewChanger=new eC(this.cd,this.vcr,this.template)}ngOnChanges(e){void 0!==e.guiLet&&this.subscriber.subscribe(this.guiLet,n=>{this.guiLetViewChanger.onNext(n)})}ngOnDestroy(){this.subscriber.destroy()}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(pi),r.rXU(r.gRc),r.rXU(r.c1b),r.rXU(r.C4Q))},i.\u0275dir=r.FsC({type:i,selectors:[["","guiLet",""]],inputs:{guiLet:"guiLet"},features:[r.Jv_([pi]),r.OA$]}),i})(),fe=(()=>{class i{constructor(e,n){this.changeDetectorRef=e,this.translationService=n,this.actualTranslationValue=""}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(e){return this.subscription&&this.subscription.unsubscribe(),this.subscription=this.translationService.onTranslation().subscribe(n=>{const o=n[e];o||(this.actualTranslationValue=e),this.actualTranslationValue=o,this.changeDetectorRef.markForCheck()}),this.actualTranslationValue}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc,16),r.rXU(lt,16))},i.\u0275pipe=r.EJ8({name:"guiTranslate",type:i,pure:!1}),i})(),tC=(()=>{class i extends Z{constructor(e){super(e),this.nextPageChanged=new r.bkB,this.prevPageChanged=new r.bkB,this.prevDisabled=!1,this.nextDisabled=!1}ngOnChanges(){this.calculatePrev(),this.calculateNext()}prevPage(){this.prevPageChanged.emit()}nextPage(){this.nextPageChanged.emit()}getSelectorName(){return"gui-paging-navigator"}calculatePrev(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())}calculateNext(){!this.paging&&!this.sourceSize||(this.nextDisabled=this.paging.isNextPageDisabled())}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-paging-navigator","","paging",""]],inputs:{paging:"paging",sourceSize:"sourceSize"},outputs:{nextPageChanged:"nextPageChanged",prevPageChanged:"prevPageChanged"},features:[r.Vt3,r.OA$],attrs:Dp,decls:7,vars:8,consts:[["gui-button","",1,"gui-paging-navigator-prev","gui-mr-5",3,"click","disabled"],["gui-button","",1,"gui-paging-navigator-next","gui-mr-0",3,"click","disabled"]],template:function(e,n){1&e&&(r.j41(0,"gui-button-group")(1,"button",0),r.bIt("click",function(){return n.prevPage()}),r.EFF(2),r.nI1(3,"guiTranslate"),r.k0s(),r.j41(4,"button",1),r.bIt("click",function(){return n.nextPage()}),r.EFF(5),r.nI1(6,"guiTranslate"),r.k0s()()),2&e&&(r.R7$(),r.Y8G("disabled",n.prevDisabled),r.R7$(),r.SpI(" ",r.bMT(3,4,"pagingPrevPage")," "),r.R7$(2),r.Y8G("disabled",n.nextDisabled),r.R7$(),r.SpI(" ",r.bMT(6,6,"pagingNextPage")," "))},dependencies:[rt,Oh,fe],encapsulation:2,changeDetection:0}),i})(),iC=(()=>{class i extends Z{constructor(e){super(e),this.pageSizeChanged=new r.bkB}ngOnChanges(e){k(e.paging,()=>{this.paging&&(this.selectPageSizes=this.getSelectPageSizes(),this.selectPageSize=this.getSelectPageSize(this.paging.getPageSize()))})}changePageSize(e){this.pageSizeChanged.emit(+e.value)}getSelectorName(){return"gui-paging-select"}getSelectPageSizes(){const e=[];return this.paging.getPageSizes().forEach(o=>{const s=this.getSelectPageSize(o);e.push(s)}),e}getSelectPageSize(e){return{name:e.toString(),value:e.toString()}}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-paging-select","","paging",""]],inputs:{paging:"paging"},outputs:{pageSizeChanged:"pageSizeChanged"},features:[r.Vt3,r.OA$],attrs:kp,decls:4,vars:6,consts:[[1,"gui-inline-block","gui-mr-5"],[3,"optionChanged","options","selected","width"]],template:function(e,n){1&e&&(r.j41(0,"span",0),r.EFF(1),r.nI1(2,"guiTranslate"),r.k0s(),r.j41(3,"gui-select",1),r.bIt("optionChanged",function(s){return n.changePageSize(s)}),r.k0s()),2&e&&(r.R7$(),r.SpI(" ",r.bMT(2,4,"pagingItemsPerPage"),"\n"),r.R7$(2),r.Y8G("options",n.selectPageSizes)("selected",n.selectPageSize)("width",25))},dependencies:[xo,fe],encapsulation:2,changeDetection:0}),i})(),rC=(()=>{class i extends Z{constructor(e){super(e),this.addClassToHost("gui-mx-6")}ngOnChanges(){this.calculate()}calculate(){this.paging&&(this.firstItemIndex=this.paging.getStart(),this.lastItemIndex=this.paging.getEnd(),this.sourceSize=this.paging.getSourceSize())}isSourceNotEmpty(){return this.sourceSize>0}getSelectorName(){return"gui-paging-stats"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-paging-stats","","paging",""]],inputs:{paging:"paging"},features:[r.Vt3,r.OA$],attrs:Rp,decls:3,vars:2,consts:[["noSource",""],[4,"ngIf","ngIfElse"],[1,"gui-paging-source-stats"],[1,"gui-paging-source-size"],[1,"gui-paging-source-stats","gui-paging-no-items"]],template:function(e,n){if(1&e&&r.DNE(0,Ap,12,6,"ng-container",1)(1,Pp,3,3,"ng-template",null,0,r.C5r),2&e){const o=r.sdS(2);r.Y8G("ngIf",n.isSourceNotEmpty())("ngIfElse",o)}},dependencies:[l.bT,fe],encapsulation:2,changeDetection:0}),i})(),nC=(()=>{class i extends Z{constructor(e,n,o){super(e),this.structureId=n,this.pagingCommandInvoker=o,this.nextPageChanged=new r.bkB,this.prevPageChanged=new r.bkB,this.prevDisabled=!1,this.nextDisabled=!1}ngOnChanges(){this.calculatePrev(),this.calculateNext()}prevPage(){this.prevPageChanged.emit()}nextPage(){this.nextPageChanged.emit()}firstPage(){this.pagingCommandInvoker.goToPage(1,this.paging.getPage(),this.structureId)}lastPage(){const e=Math.ceil(this.sourceSize/this.paging.getPageSize());this.pagingCommandInvoker.goToPage(e,this.paging.getPage(),this.structureId)}getSelectorName(){return"gui-paging-alternative-navigator"}calculatePrev(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())}calculateNext(){!this.paging&&!this.sourceSize||(this.nextDisabled=this.paging.isNextPageDisabled())}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(x),r.rXU(ke))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-paging-alternative-navigator","","paging","","sourceSize",""]],inputs:{paging:"paging",sourceSize:"sourceSize"},outputs:{nextPageChanged:"nextPageChanged",prevPageChanged:"prevPageChanged"},features:[r.Vt3,r.OA$],attrs:Gp,ngContentSelectors:Vp,decls:17,vars:4,consts:[["gui-button","",3,"click","disabled"],["height","10.661","viewBox","0 0 11.081 10.661","width","11.081","xmlns","http://www.w3.org/2000/svg"],["transform","translate(-522.98 669.601) rotate(180)"],["d","M.75.75,5.02,5.02.75,9.29","fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","transform","translate(-533.75 659.25)"],["d","M.75.75,5.02,5.02.75,9.29","fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","transform","translate(-528.75 659.25)"],["gui-button","",1,"gui-paging-navigator-prev",3,"click","disabled"],["height","10.661","viewBox","0 0 6.081 10.661","width","6.081","xmlns","http://www.w3.org/2000/svg"],["d","M.75.75,5.02,5.02.75,9.29","fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","transform","translate(5.77 10.351) rotate(180)"],["gui-button","",1,"gui-paging-navigator-next",3,"click","disabled"],["d","M.75.75,5.02,5.02.75,9.29","fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","transform","translate(0.311 0.311)"],["transform","translate(534.061 -658.939)"]],template:function(e,n){1&e&&(r.NAR(),r.j41(0,"button",0),r.bIt("click",function(){return n.firstPage()}),r.qSk(),r.j41(1,"svg",1)(2,"g",2),r.nrm(3,"path",3)(4,"path",4),r.k0s()()(),r.joV(),r.j41(5,"button",5),r.bIt("click",function(){return n.prevPage()}),r.qSk(),r.j41(6,"svg",6),r.nrm(7,"path",7),r.k0s()(),r.SdG(8),r.joV(),r.j41(9,"button",8),r.bIt("click",function(){return n.nextPage()}),r.qSk(),r.j41(10,"svg",6),r.nrm(11,"path",9),r.k0s()(),r.joV(),r.j41(12,"button",0),r.bIt("click",function(){return n.lastPage()}),r.qSk(),r.j41(13,"svg",1)(14,"g",10),r.nrm(15,"path",3)(16,"path",4),r.k0s()()()),2&e&&(r.Y8G("disabled",n.prevDisabled),r.R7$(5),r.Y8G("disabled",n.prevDisabled),r.R7$(4),r.Y8G("disabled",n.nextDisabled),r.R7$(3),r.Y8G("disabled",n.nextDisabled))},dependencies:[rt],encapsulation:2,changeDetection:0}),i})(),oC=(()=>{class i extends Z{constructor(e,n,o){super(e),this.structureId=n,this.pagingCommandService=o,this.sourceSize=0,this.numberOfVisiblePages=3}ngOnChanges(e){this.calculate()}calculate(){if(this.paging&&this.sourceSize){const e=Math.ceil(this.sourceSize/this.paging.getPageSize());if(this.currentPage=this.paging.getPage(),this.pages=[],this.pages.length<=e)for(let n=1;n<=e;n++)this.pages.push(n)}}isSourceNotEmpty(){return this.sourceSize>0}goToPage(e){const n=this.paging.getPage();this.pagingCommandService.goToPage(e,n,this.structureId)}calculateVisiblePages(e){return this.paging.calculateVisiblePages(this.currentPage,this.numberOfVisiblePages,e)}activePage(e){return this.currentPage===e}getSelectorName(){return"gui-paging-alternative-pages"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(x),r.rXU(ke))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-paging-alternative-pages","","paging",""]],inputs:{paging:"paging",sourceSize:"sourceSize"},features:[r.Vt3,r.OA$],attrs:Op,decls:3,vars:2,consts:[["noSource",""],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"relative"],[1,"gui-paging-page","gui-select-none","gui-cursor-pointer","gui-py-0","gui-px-6","gui-font-base",3,"click"],[1,"gui-paging-source-stats","gui-paging-no-items"]],template:function(e,n){if(1&e&&r.DNE(0,Bp,2,1,"ng-container",1)(1,Hp,3,3,"ng-template",null,0,r.C5r),2&e){const o=r.sdS(2);r.Y8G("ngIf",n.isSourceNotEmpty())("ngIfElse",o)}},dependencies:[l.Sq,l.bT,fe],encapsulation:2,changeDetection:0}),i})(),sC=(()=>{class i extends jt{constructor(e,n,o,s,a,c,u,g){super(e),this.elRef=e,this.state=n,this.cssClassModifier=o,this.structureId=s,this.pagingWarehouse=a,this.pagingCommandInvoker=c,this.sourceWarehouse=u,this.pagingDisplayModeArchive=g,this.state$=this.state.select(),this.addClassToHost("gui-flex"),this.addClassToHost("gui-justify-end"),this.addClassToHost("gui-items-center"),this.addClassToHost("gui-p-4"),this.state.setValue({alternativeDisplay:!1,isPagingVisible:!1}),this.state.connect("sourceSize",this.sourceWarehouse.onOriginSize(this.structureId)),this.state.connect("alternativeDisplay",this.selectIsAdvancedPagingEnabled()),this.state.connect("paging",this.pagingWarehouse.onPaging(this.structureId)),this.state.connect("isPagingVisible",this.selectIsPagingVisible())}ngOnChanges(e){e.position&&(this.position===bn.BOTTOM?(this.cssClassModifier.remove(this.elRef.nativeElement,Xt.PAGING_TOP_CLASS_NAME),this.cssClassModifier.add(this.elRef.nativeElement,Xt.PAGING_BOTTOM_CLASS_NAME)):(this.cssClassModifier.remove(this.elRef.nativeElement,Xt.PAGING_BOTTOM_CLASS_NAME),this.cssClassModifier.add(this.elRef.nativeElement,Xt.PAGING_TOP_CLASS_NAME)))}changePageSize(e){this.pagingCommandInvoker.changePageSize(e,this.structureId)}nextPage(e){e&&this.pagingCommandInvoker.nextPage(this.structureId)}prevPage(){this.pagingCommandInvoker.prevPage(this.structureId)}getSelectorName(){return"gui-paging"}selectIsPagingVisible(){return this.pagingWarehouse.onPaging(this.structureId).pipe(h(e=>this.mapIsPagingVisible(e)))}mapIsPagingVisible(e){return e&&e.isEnabled()&&(this.position===bn.TOP&&e.isPagerTop()||this.position===bn.BOTTOM&&e.isPagerBottom())}selectIsAdvancedPagingEnabled(){return this.pagingDisplayModeArchive.on().pipe(h(e=>e===at.ADVANCED))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(X),r.rXU(Ji),r.rXU(x),r.rXU(Lt),r.rXU(ke),r.rXU($e),r.rXU(Cn))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-paging","","position",""]],inputs:{position:"position",minimal:"minimal"},features:[r.Jv_([X]),r.Vt3,r.OA$],attrs:Up,decls:1,vars:1,consts:[["minimalTemplate",""],[4,"guiLet"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["gui-paging-select","",3,"pageSizeChanged","paging"],["gui-paging-stats","",3,"paging"],["gui-paging-navigator","",3,"nextPageChanged","prevPageChanged","paging","sourceSize"],["gui-paging-alternative-navigator","",1,"gui-flex","gui-p-0",3,"nextPageChanged","prevPageChanged","paging","sourceSize"],["gui-paging-alternative-pages","",1,"gui-flex","gui-justify-center",3,"paging","sourceSize"]],template:function(e,n){1&e&&r.DNE(0,zp,3,2,"ng-container",1),2&e&&r.Y8G("guiLet",n.state$)},dependencies:[l.bT,ue,tC,iC,rC,nC,oC],styles:[".gui-paging-alternative-navigator .gui-button{-ms-flex-line-pack:center;align-content:center;background:transparent;display:-ms-flexbox;display:flex;font-size:14px;line-height:21px;margin:0 2px;padding:0}.gui-paging-alternative-navigator .gui-button svg{-ms-flex-item-align:center;align-self:center;height:12px;margin:-1px 2px 0;width:auto}.gui-paging-alternative-navigator .gui-button svg path{stroke:#ccc;transition:stroke .3s ease-in-out}.gui-paging-alternative-navigator .gui-button:hover{background:transparent}.gui-paging-alternative-navigator .gui-button:hover svg path{stroke:#333}.gui-paging-alternative-navigator .gui-button:disabled svg{opacity:.4}.gui-paging-alternative-navigator .gui-material .gui-button{padding:2px 16px}.gui-paging-alternative-pages{line-height:21px}.gui-paging-alternative-pages .gui-paging-page{display:none}.gui-paging-alternative-pages .gui-paging-visible-page .gui-paging-page{display:block;font-family:Arial,serif}.gui-paging-alternative-pages .gui-paging-visible-page.gui-paging-active-page{color:#333}.gui-paging-alternative-pages .gui-paging-visible-page.gui-paging-active-page .gui-paging-page{font-weight:700}.gui-paging-bottom{border-top:1px solid;border-top-color:inherit}.gui-paging-top{border-bottom:1px solid;border-bottom-color:inherit}\n",".gui-generic .gui-paging,.gui-generic .gui-paging *{border-color:#2224261a;font-size:14px}\n"],encapsulation:2,changeDetection:0}),i})();class mi{}class yn extends _{constructor(t){super(t,null,"PageChangedEvent")}}class B extends Gr{}class aC extends B{constructor(t){super(t,"PageChangedAggregateEvent")}toDomainEvent(){return new yn(this.getAggregateId())}}class Sn extends _{constructor(t){super(t,null,"PagesizeChangedEvent")}}class cC extends B{constructor(t){super(t,"PagesizeChangedAggregateEvent")}toDomainEvent(){return new Sn(this.getAggregateId())}}class fi{constructor(t,e,n,o,s,a,c,u){this.enabled=t,this.page=e,this.pageSize=n,this.pageSizes=o,this.pagerTop=s,this.pagerBottom=a,this.sourceSize=c,this.events=[],this.logger=u}static default(t){return new fi(!1,1,25,[10,25,50,100],!1,!0,0,t)}static fromConfig(t,e){const n=fi.default(e),o=t.enabled||n.isEnabled(),s=t.page||n.getPage(),a=t.pageSize||n.getPageSize(),c=t.pageSizes||n.getPageSizes(),u=t.pagerTop||n.isPagerTop(),g=t.pagerBottom||n.isPagerBottom();return new fi(o,s,a,c,u,g,0,e)}isEnabled(){return this.enabled}isDisabled(){return!this.enabled}getPage(){return this.page}getPageSize(){return this.pageSize}getPageSizes(){return this.pageSizes}isPagerTop(){return!this.isDisabled()&&this.pagerTop}isPagerBottom(){return!this.isDisabled()&&this.pagerBottom}getSourceSize(){return this.sourceSize}change(t){void 0!==t.enabled&&(this.enabled=t.enabled),void 0!==t.page&&(this.page=t.page,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSize&&(this.pageSize=t.pageSize,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSizes&&(this.pageSizes=t.pageSizes,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerTop&&(this.pagerTop=t.pagerTop,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerBottom&&(this.pagerBottom=t.pagerBottom,void 0===t.enabled&&(this.enabled=!0)),!0===this.enabled&&!1===t.pagerTop&&!1===t.pagerBottom&&(this.pagerBottom=!0,this.logger.warn("Pagers cannot be turn off when paging is enabled."))}setSourceSize(t){this.sourceSize=t}nextPage(){let t=this.page;this.isNextPageDisabled()||(t+=1),this.page=t}prevPage(){let t=this.page;this.isPrevPageDisabled()||(t-=1),this.page=t}changePageSize(t){return this.pageSizes.find(e=>e===t)&&(this.setPage(1),this.setPageSize(t)),this.events}isNextPageDisabled(){return 0===this.sourceSize||this.page===Math.ceil(this.sourceSize/this.pageSize)}isPrevPageDisabled(){return 1===this.page}calculateStart(){const t=1+(this.page-1)*this.pageSize;return this.sourceSize<t?0:t}calculateEnd(){const t=this.page*this.pageSize;return this.sourceSize<t?this.sourceSize:t}sample(t){if(this.isDisabled())return t;let e=this.calculateStart();return 0!==e&&(e-=1),t.slice(e,this.calculateEnd())}clearEvents(){this.events.length=0}setPage(t){this.page=t,this.events.push(new aC(new x("TODO need to be changed")))}setPageSize(t){this.pageSize=t,this.events.push(new cC(new x("TODO need to be changed")))}}let xc=(()=>{class i{constructor(e){this.logger=e}createDefault(){return fi.default(this.logger)}createFromConfig(e){return fi.fromConfig(e,this.logger)}}return i.services=[mi],i})();class wc extends w{constructor(t,e){super(t,"SetPagingCommand"),this.config=e}getPagingConfig(){return this.config}}class Ec extends w{constructor(t,e){super(t,"ChangePagesizeCommand"),this.pageSize=e}getPageSize(){return this.pageSize}}class _c extends w{constructor(t){super(t,"NextPageCommand")}}class Ic extends w{constructor(t){super(t,"PrevPageCommand")}}let Tc=(()=>{class i{constructor(e){this.commandDispatcher=e}setPaging(e,n){this.commandDispatcher.dispatch(new wc(n,e))}changePageSize(e,n){this.commandDispatcher.dispatch(new Ec(n,e))}nextPage(e){this.commandDispatcher.dispatch(new _c(e))}prevPage(e){this.commandDispatcher.dispatch(new Ic(e))}}return i.services=[se],i})();class Vo extends _{constructor(t){super(t,null,"PagingSetEvent")}}class uC{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return wc}handle(t,e){const n=e.getPagingConfig();t.changePaging(n)}publish(t,e){this.domainEventPublisher.publish(new Vo(e.getAggregateId()))}}class Oo extends _{constructor(t){super(t,null,"NextPageEvent")}}class lC{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return _c}handle(t,e){t.nextPage()}publish(t,e){this.domainEventPublisher.publish(new Oo(e.getAggregateId()))}}class No extends _{constructor(t){super(t,null,"PrevPageEvent")}}class dC{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return Ic}handle(t,e){t.prevPage()}publish(t,e){this.domainEventPublisher.publish(new No(e.getAggregateId()))}}class gC{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return Ec}handle(t,e){const n=e.getPageSize();t.changePageSize(n)}publish(t,e){const n=t.getEvents();n.forEach(o=>{o.aggregateId=t.getId()}),this.publishAggregateEvents(n,e),t.clearEvents()}publishAggregateEvents(t,e){for(const n of t)this.publishAggregateEvent(n,e)}publishAggregateEvent(t,e){switch(t.getType()){case"PageChangedAggregateEvent":const n=new yn(e.getAggregateId());this.domainEventPublisher.publish(n);break;case"PagesizeChangedAggregateEvent":const o=new Sn(e.getAggregateId());this.domainEventPublisher.publish(o);break;case"StructurePreparedEntitiesSetAggregateEvent":this.domainEventPublisher.publish(t.toDomainEvent())}}}const Re="StructureAggregate";class hC{defineAggregate(){return null}registerKey(){return Re}registerProviders(t){t.provide(Tc),t.provide(xc)}registerCommandHandlers(){return[uC,lC,dC,gC]}registerDomainEventHandler(){return[]}registerMultiDomainEventHandler(){return[]}}let pC=(()=>{let i=class{constructor(e,n,o,s,a,c,u,g,p,b,E){this.enabled=e,this.page=n,this.pageSize=o,this.pageSizes=s,this.pagerTop=a,this.pagerBottom=c,this.isNextDisabled=u,this.isPrevDisabled=g,this.start=p,this.end=b,this.sourceSize=E}isEnabled(){return this.enabled}getPage(){return this.page}getPageSize(){return this.pageSize}getPageSizes(){return this.pageSizes}isPagerTop(){return this.pagerTop}isPagerBottom(){return this.pagerBottom}isNextPageDisabled(){return this.isNextDisabled}isPrevPageDisabled(){return this.isPrevDisabled}getStart(){return this.start}getEnd(){return this.end}getSourceSize(){return this.sourceSize}calculateVisiblePages(e,n,o){return e-n<o&&o<e+n}sample(e){let n=this.getStart();return 0!==n&&(n-=1),e.slice(n,this.getEnd())}compare(e){return JSON.stringify(this)===JSON.stringify(e)}};return i=(0,$i.Cg)([no],i),i})();class Fc{convert(t){return new pC(t.isEnabled(),t.getPage(),t.getPageSize(),t.getPageSizes(),t.isPagerTop(),t.isPagerBottom(),t.isNextPageDisabled(),t.isPrevPageDisabled(),t.calculateStart(),t.calculateEnd(),t.getSourceSize())}}class Zi extends ge{constructor(){super(),this.domainEventBus=d.resolve(Se),this.domainEventBus.ofEvents(this.forEvents()).pipe(this.hermesTakeUntil()).subscribe(t=>{try{this.subs(t)}catch(e){console.error(e)}})}}let Mc=(()=>{class i{constructor(e){this.structureRepository=e}on(e){return this.structureRepository.on(e).pipe(F(n=>n.getId().toString()===e.toString()),h(n=>n.getPaging()))}}return i.services=[Zi],i})(),mC=(()=>{class i extends Lt{constructor(e){super(),this.pagingRepository=e}onPaging(e){return this.pagingRepository.on(e)}oncePaging(e){return ti(this.pagingRepository.on(e))}}return i.services=[Mc],i})(),fC=(()=>{class i extends ke{constructor(e){super(),this.pagingDispatcher=e}enable(e){this.pagingDispatcher.setPaging({enabled:!0},e)}disable(e){this.pagingDispatcher.setPaging({enabled:!1},e)}setPaging(e,n){this.pagingDispatcher.setPaging(e,n)}changePageSize(e,n){this.pagingDispatcher.changePageSize(e,n)}nextPage(e){this.pagingDispatcher.nextPage(e)}prevPage(e){this.pagingDispatcher.prevPage(e)}goToPage(e,n,o){if(n<e)for(;n!==e;)this.nextPage(o),n+=1;else for(;n!==e;)this.prevPage(o),n-=1}changePagerTop(e,n){this.pagingDispatcher.setPaging({pagerTop:e},n)}changePagerBottom(e,n){this.pagingDispatcher.setPaging({pagerBottom:e},n)}}return i.services=[Tc],i})(),vC=(()=>{class i extends Et{constructor(e){super(),this.pagingWarehouse=e,this.eventBusToRemove=d.resolve(Se)}onPageChange(e){return this.eventBusToRemove.ofEvents([No,Oo,yn]).pipe(F(n=>n.getAggregateId().toString()===e.toAggregateId().toString()),xe(n=>this.pagingWarehouse.oncePaging(e.toAggregateId()).pipe(h(o=>o.getPage()))))}onPageSizeChange(e){return this.eventBusToRemove.ofEvents([Sn]).pipe(F(n=>n.getAggregateId().toString()===e.toAggregateId().toString()),xe(n=>this.pagingWarehouse.oncePaging(e.toAggregateId()).pipe(h(o=>o.getPageSize()))))}}return i.services=[Lt],i})();class bC{registerProviders(t){t.provide(ke,fC),t.provide(Lt,mC),t.provide(Et,vC),t.provide(Mc),t.provide(Fc)}}class yC{constructor(){this.translation=new Map,this.resolver=(t,e)=>e}changeTranslation(t){for(const e of Object.keys(t))this.translation.set(e,t[e])}getTranslation(){return Array.from(this.translation).reduce((t,[e,n])=>Object.assign(t,{[e]:this.resolver(e,n)}),{})}setResolver(t){this.resolver=t}}class SC extends lt{constructor(){super(),this.defaultTranslation=vb,this.dictionary=new yC,this.dictionary$=new Ge(1)}getTranslation(){return this.dictionary.getTranslation()}onTranslation(){return this.dictionary$.toObservable()}setDefaultTranslation(){this.changeTranslationAndPropagate(this.defaultTranslation)}changeTranslation(t){this.changeTranslationAndPropagate(t)}setResolver(t){this.setResolverAndPropagate(t)}changeTranslationAndPropagate(t){this.dictionary.changeTranslation(t),this.dictionary$.next(this.dictionary.getTranslation())}setResolverAndPropagate(t){this.dictionary.setResolver(t),this.dictionary$.next(this.dictionary.getTranslation())}}let dt=(()=>{class i extends re{static forComponent(){return[{provide:lt,useClass:SC}]}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})();class xC{constructor(t){this.cd=t,this.baseValues$=new K,this.destroy$=new Ge(1),this.baseValues$.pipe(F(e=>e!==this.actualObs$),xe(e=>(this.actualObs$=e,e)),Pe(),pe(this.destroy$)).subscribe(e=>{this.value=e,this.scheduleCD()})}destroy(){this.destroy$.next(),this.destroy$.complete()}subscribe(t){return this.baseValues$.next(t),this.value}scheduleCD(){setTimeout(()=>{this.cd.detectChanges()})}}let vi=(()=>{class i{constructor(){this.cd=(0,r.WQX)(r.gRc),this.subscriber=new xC(this.cd)}transform(e){return this.subscriber.subscribe(e)}ngOnDestroy(){this.subscriber.destroy()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=r.EJ8({name:"guiPush",type:i,pure:!1}),i})(),Bo=(()=>{class i{constructor(e,n,o){this.subscriber=e,this.vcr=n,this.template=o}ngOnChanges(e){void 0!==e.guiIf&&this.subscriber.subscribe(this.guiIf,n=>{n?this.vcr.createEmbeddedView(this.template):this.vcr.clear()})}ngOnDestroy(){this.subscriber.destroy()}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(pi),r.rXU(r.c1b),r.rXU(r.C4Q))},i.\u0275dir=r.FsC({type:i,selectors:[["","guiIf",""]],inputs:{guiIf:"guiIf"},features:[r.Jv_([pi]),r.OA$]}),i})(),wC=(()=>{class i{constructor(e,n){this.subscriber=e,this.elementRef=n}ngOnChanges(e){void 0!==e.guiStyle&&this.subscriber.subscribe(this.guiStyle,n=>{Object.keys(n).forEach(o=>{this.setStyleByName(o,n[o])})})}ngOnDestroy(){this.subscriber.destroy()}setStyleByName(e,n){this.set(e,n)}set(e,n){this.elementRef.nativeElement[i.STYLE][e]=n}}return i.STYLE="style",i.\u0275fac=function(e){return new(e||i)(r.rXU(pi),r.rXU(r.aKT))},i.\u0275dir=r.FsC({type:i,selectors:[["","guiStyle",""]],inputs:{guiStyle:"guiStyle"},features:[r.Jv_([pi]),r.OA$]}),i})(),Ae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})();function EC(){return d.resolve(ke)}function _C(){return d.resolve(Lt)}function IC(){return d.resolve(Et)}!function CC(){new me(new bC,new hC).init()}();let xn=(()=>{class i extends re{static forComponent(){return[Cn]}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[{provide:ke,useFactory:EC},{provide:Lt,useFactory:_C},{provide:Et,useFactory:IC}],imports:[l.MD,Ht,dt,Ae]}),i})(),er=(()=>{class i extends We{constructor(){super({...i.titlePanelConfig})}}return i.titlePanelConfig={enabled:!1,template:"Title Panel"},i})(),tr=(()=>{class i extends We{constructor(){super({...i.footerPanelConfig})}}return i.footerPanelConfig={enabled:!1,template:"Footer Panel"},i})();var Ho,wn=function(i){return i.WIDTH="width",i.HEIGHT="height",i.PADDING_TOP="padding-top",i}(wn||{});class je extends Io{constructor(t){super(t)}createModifier(t){return new je.StyleModifier(t)}}je.StyleModifier=((Ho=class{constructor(i){this.htmlElement=i}setStyleByName(i,t){this.set(i,t)}setWidth(i){this.set(wn.WIDTH,this.toPx(i))}setHeight(i){this.set(wn.HEIGHT,this.toPx(i))}setPaddingTop(i){this.set(wn.PADDING_TOP,this.toPx(i))}remove(i){this.htmlElement[je.StyleModifier.STYLE][i]=""}removeStyleByName(i){this.htmlElement[je.StyleModifier.STYLE][i]=""}clear(){this.htmlElement.removeAttribute(je.StyleModifier.STYLE)}set(i,t){this.htmlElement[je.StyleModifier.STYLE][i]=t}toPx(i){return i>0?`${i}px`:`${i}`}}).STYLE="style",Ho);class ir{constructor(){}}let zt=(()=>{class i{constructor(e,n){this.structureRepository=e,this.structureCellEditArchive=n}on(e){return this.structureRepository.on(e)}onEditManager(e){return this.structureCellEditArchive.on(e)}}return i.services=[Zi,ce],i})();const Uo=new r.nKC("Structure - - css className");class rr{constructor(){}}class Ft{constructor(){}}class MC{constructor(t,e,n,o,s,a){this.distinctTooltip=t,this.averageTooltip=e,this.minTooltip=n,this.maxTooltip=o,this.medTooltip=s,this.countTooltip=a}}class nr extends Vt{constructor(){super()}}var W=function(i){return i[i.ASC=0]="ASC",i[i.DESC=1]="DESC",i[i.NONE=2]="NONE",i}(W||{});class Dc{constructor(t,e,n,o,s,a,c,u,g,p,b,E){this.header=t,this.dataType=e,this.context=n,this.width=o,this.fieldId=s,this.columnDefinitionId=a,this.sortStatus=c,this.enabled=u,this.cssClasses=g,this.styles=p,this.sortable=b,this.align=E}getHeader(){return this.header}getDataType(){return this.dataType}getColumnDefinitionId(){return this.columnDefinitionId}getFieldId(){return this.fieldId}getSortStatus(){return this.sortStatus}getCssClasses(){return this.cssClasses}getStyles(){return this.styles}isSortEnabled(){return this.sortable}isAscSort(){return this.sortStatus===W.ASC}isDescSort(){return this.sortStatus===W.DESC}isNoSort(){return this.sortStatus===W.NONE}isEnabled(){return this.enabled}isAlignLeft(){return this.align===N.LEFT}isAlignCenter(){return this.align===N.CENTER}isAlignRight(){return this.align===N.RIGHT}getAlign(){return this.align}}class kc extends Dc{constructor(t=null,e=null,n){super(n.getHeader(),n.getDataType(),n.context,n.width,n.getFieldId(),n.getColumnDefinitionId(),n.getSortStatus(),n.isEnabled(),n.getCssClasses(),n.getStyles(),n.isSortEnabled(),n.getAlign()),this.viewTemplate=t,this.editTemplate=e}}var En=function(i){return i[i.TEXT=0]="TEXT",i[i.HTML=1]="HTML",i}(En||{});class gt{constructor(t,e){this.value=t,this.type=e}static text(t){return new gt(t,En.TEXT)}static HTML(t){return new gt(t,En.HTML)}}class Rc{constructor(t,e,n,o,s,a,c,u,g,p,b,E,P,U){this.columnConfig=t,this.columnDefinitionId=e,this.name=n,this.editable=o,this.templateFun=s,this.formatterFun=a,this.accessor=c,this.searchAccessor=u,this.width=g,this.columnFieldId=p,this.align=b,this.cellEditingEnabled=E,this.type=P,this.view=U}getDataType(){return this.type}getCellView(){return this.view.getCellView()}getColumnConfig(){return this.columnConfig}isCellEditingEnabled(){return this.cellEditingEnabled}isBooleanDataType(){return this.type===f.BOOLEAN}isAlignLeft(){return this.align===N.LEFT}isAlignCenter(){return this.align===N.CENTER}isAlignRight(){return this.align===N.RIGHT}getAlign(){return this.align}getType(){return this.type}getView(){return this.view}getName(){return this.name}getValue(t,e){const n=this.findValue(t,e);return n.value=this.templateFun(n.value,t.getSourceItem()),this.formatterFun&&(n.value=this.formatterFun(n.value,t.getSourceItem())),n}getClasses(){return"gui-cell-highlighted"}findValue(t,e){const n=this.accessor(t);if(this.type!==f.STRING||this.view&&this.view.getCellView()===m.FUNCTION)return gt.text(n);if(e){let o=""+this.searchAccessor(t);const s=o.toLocaleLowerCase(),a=e.toLocaleLowerCase(),c=[];let u=0;for(;u<a.length;){const p=s.indexOf(a,u);p>=0?(c.push(p),u=p+e.length):u=a.length}const g=o.split("");return c.forEach(p=>{for(let b=0;b<e.length;b+=1){let E;E=0===b?`<span class="gui-text-highlight">${g[p+b]}`:g[p+b],b===e.length-1&&(E+="</span>"),g[p+b]=E}}),o=g.join(""),gt.HTML(o)}return gt.text(n)}}class DC extends Rc{constructor(t=null,e=null,n){super(n.getColumnConfig(),n.columnDefinitionId,n.getName(),n.editable,n.templateFun,n.formatterFun,n.accessor,n.searchAccessor,n.width,n.columnFieldId,n.getAlign(),n.isCellEditingEnabled(),n.getType(),n.getView()),this.template=t,this.editTemplate=e}}class Qe extends Zt{}class or extends Qe{constructor(t){super(t,null,"CompositionResizeWidthSetEvent")}}class _n extends Qe{constructor(t){super(t,null,"CompositionColumnsSetEvent")}}class In extends Qe{constructor(t,e){super(t,e,"CompositionContainerWidthSetEvent")}}class Tn extends Qe{constructor(t){super(t,null,"CompositionWidthSetEvent")}}class $o extends Qe{constructor(t){super(t,null,"CompositionColumnSetEnabledEvent")}}class jo extends Qe{constructor(t){super(t,null,"CompositionColumnMovedLeftEvent")}}class Xo extends Qe{constructor(t){super(t,null,"CompositionColumnMovedRightEvent")}}class kC extends Qe{constructor(t){super(t,null,"CompositionGroupsSetEvent")}}class Wt{convert(t){return Array.isArray(t)?this.convertEvents(t):this.convertEvent(t)}convertEvents(t){return t.map(e=>this.convertEvent(e))}convertEvent(t){switch(t.getType()){case"CompositionResizeWidthSetAggregateEvent":default:return new or(t.getAggregateId());case"ColumnsSetAggregateEvent":return new _n(t.getAggregateId());case"CompositionContainerWidthSetAggregateEvent":const e=t.containerWidth;return new In(t.getAggregateId(),e);case"CompositionWidthSetAggregateEvent":return new Tn(t.getAggregateId());case"CompositionColumnSetEnabledAggregateEvent":return new $o(t.getAggregateId());case"CompositionColumnMovedLeftAggregateEvent":return new jo(t.getAggregateId());case"CompositionColumnMovedRightAggregateEvent":return new Xo(t.getAggregateId());case"GroupsSetAggregateEvent":return new kC(t.getAggregateId())}}}class Je extends ki{}class Ac extends Je{constructor(t,e){super(t,"SetColumnsCommand"),this.compositionId=t,this.columns=e}getParams(){return this.columns}}let RC=(()=>{class i{constructor(e){this.compositionEventConverter=e,this.domainEventPublisher=d.resolve(T)}forCommand(){return Ac}handle(e,n){const o=n.getParams();e.setColumns(o)}publish(e,n){this.publishEvents(e,n)}publishEvents(e,n){const o=e.getEvents(),s=this.compositionEventConverter.convert(o);this.domainEventPublisher.publish(s)}}return i.services=[Wt],i})();class Pc extends Je{constructor(t,e){super(t,"SetCompositionWidthCommand"),this.structureId=t,this.width=e}getWidth(){return this.width}}class AC{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return Pc}handle(t,e){const n=e.getWidth();t.setWidth(n)}publish(t,e){this.domainEventPublisher.publish(new Tn(e.getAggregateId()))}}class Gc extends Je{constructor(t,e){super(t,"SetCompositionResizeWidthCommand"),this.structureId=t,this.enabled=e}getEnabled(){return this.enabled}}class PC{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return Gc}handle(t,e){const n=e.getEnabled();t.setResizeWidth(n)}publish(t,e){this.domainEventPublisher.publish(new or(e.getAggregateId()))}}class Vc extends Je{constructor(t,e){super(t,"SetCompositionContainerWidthCommand"),this.structureId=t,this.width=e}getWidth(){return this.width}}let GC=(()=>{class i{constructor(e){this.compositionEventConverter=e,this.domainEventPublisher=d.resolve(T)}forCommand(){return Vc}handle(e,n){const o=n.getWidth();e.setContainerWidth(o)}publish(e,n){this.publishAggregateEvents(e.getEvents())}publishAggregateEvents(e){const n=this.compositionEventConverter.convert(e);this.domainEventPublisher.publish(n)}}return i.services=[Wt],i})();class Oc extends Je{constructor(t,e,n){super(t,"CompositionSetColumnEnabledCommand"),this.compositionId=t,this.columnId=e,this.enabled=n}getColumnId(){return this.columnId}isEnabled(){return this.enabled}}let VC=(()=>{class i{constructor(e){this.compositionEventConverter=e,this.domainEventPublisher=d.resolve(T)}forCommand(){return Oc}handle(e,n){const o=n.getColumnId(),s=n.isEnabled();e.enableColumn(o,s)}publish(e,n){this.publishEvents(e,n)}publishEvents(e,n){const o=e.getEvents(),s=this.compositionEventConverter.convert(o);s&&s.length>0&&this.domainEventPublisher.publish(s)}}return i.services=[Wt],i})();class Nc extends Je{constructor(t,e){super(t,"CompositionChangeSortStatusCommand"),this.compositionId=t,this.sortParams=e}getCompositionId(){return this.compositionId}getSortParams(){return this.sortParams}}class Lo extends Qe{constructor(t,e){super(t,e,"CompositionChangeSortStatusEvent"),this.activeColumns=e}getCompositionId(){return this.getAggregateId()}getActiveColumns(){return this.activeColumns}}class OC{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return Nc}handle(t,e){const n=e.getSortParams();t.changeSort(n)}publish(t,e){const n=e.getAggregateId(),o=t.getActiveColumns();this.domainEventPublisher.publish(new Lo(n,o))}}class Bc extends Je{constructor(t,e){super(t,"CompositionMoveLeftColumnCommand"),this.compositionId=t,this.columnId=e}getColumnId(){return this.columnId}}let NC=(()=>{class i{constructor(e){this.compositionEventConverter=e,this.domainEventPublisher=d.resolve(T)}forCommand(){return Bc}handle(e,n){const o=n.getColumnId();e.moveLeft(o)}publish(e,n){this.publishEvents(e,n)}publishEvents(e,n){const o=e.getEvents(),s=this.compositionEventConverter.convert(o);s&&s.length>0&&this.domainEventPublisher.publish(s)}}return i.services=[Wt],i})();class Hc extends Je{constructor(t,e){super(t,"CompositionMoveRightColumnCommand"),this.columnId=e}getColumnId(){return this.columnId}}let BC=(()=>{class i{constructor(e){this.compositionEventConverter=e,this.domainEventPublisher=d.resolve(T)}forCommand(){return Hc}handle(e,n){const o=n.getColumnId();e.moveRight(o)}publish(e,n){this.publishEvents(e,n)}publishEvents(e,n){const o=e.getEvents(),s=this.compositionEventConverter.convert(o);s&&s.length>0&&this.domainEventPublisher.publish(s)}}return i.services=[Wt],i})();class zo extends _{constructor(t,e,n){super(t,{compositionId:e,directions:n},"SortToggledEvent"),this.compositionId=e,this.directions=n}getCompositionId(){return this.compositionId}getDirections(){return this.directions}}class Uc extends Je{constructor(t){super(t,"CreateCompositionCommand"),this.compositionId=t}}class $c extends Je{constructor(t,e){super(t,"SetGroupsCommand"),this.compositionId=t,this.configs=e}getConfigs(){return this.configs}}class Wo{constructor(){this.commandDispatcher=d.resolve(se)}create(t){this.commandDispatcher.dispatch(new Uc(t))}setColumns(t,e){this.commandDispatcher.dispatch(new Ac(t,e))}setGroups(t,e){this.commandDispatcher.dispatch(new $c(t,e))}setWidth(t,e){this.commandDispatcher.dispatch(new Pc(t,e))}setContainerWidth(t,e){this.commandDispatcher.dispatch(new Vc(t,e))}setResizeWidth(t,e){this.commandDispatcher.dispatch(new Gc(t,e))}changeSort(t,e){this.commandDispatcher.dispatch(new Nc(t,e))}setColumnEnabled(t,e,n){this.commandDispatcher.dispatch(new Oc(t,e,n))}moveLeft(t,e){this.commandDispatcher.dispatch(new Bc(t,e))}moveRight(t,e){this.commandDispatcher.dispatch(new Hc(t,e))}}class jc{constructor(t,e){this.fieldId=t,this.direction=e}}class Yo extends _{constructor(t,e,n){super(t,{compositionId:e,directions:n},"SortOrderSetEvent"),this.compositionId=e,this.directions=n}getCompositionId(){return this.compositionId}getDirections(){return this.directions}}let HC=(()=>{class i{constructor(e){this.compositionDispatcher=e}forEvents(){return[zo,Yo]}handle(e){if(e.ofMessageType("SortToggledEvent")){const n=e.getCompositionId(),s=e.getDirections().map(a=>{const c=new Do(a.fieldId.getId());return new jc(c,a.direction)});this.compositionDispatcher.changeSort(n,s)}if(e.ofMessageType("SortOrderSetEvent")){const n=e.getCompositionId(),s=e.getDirections().map(a=>{const c=new Do(a.fieldId.getId());return new jc(c,a.direction)});this.compositionDispatcher.changeSort(n,s)}}}return i.services=[Wo],i})();class bi{constructor(t){this.templateFunction=(e,n)=>e,"function"==typeof t?(this.view=m.FUNCTION,this.templateFunction=t):this.view=t}static fromDataType(t){return new bi(t===f.DATE?m.DATE:m.TEXT)}getCellView(){return this.view}getTemplateFunction(){return this.templateFunction}}class UC extends Ur{constructor(t,e,n,o,s,a,c,u){super(t),this.columnField=e,this.columnConfig=n,this.presentation=o,this.view=bi.fromDataType(e.getDataType()),s&&(this.header=s),c&&(this.view=c),u&&(this.width=u),this.setInitialAlign(e,a)}getPresentation(){return this.presentation}getColumnConfig(){return this.columnConfig}getField(){return this.columnField}getHeader(){return this.header}getDataType(){return this.columnField.getDataType()}getCellView(){return this.view.getCellView()}getTemplateFunction(){return this.view.getTemplateFunction()}getFormatterFunction(){return this.columnConfig.formatter}setView(t){this.view=t}setHeader(t){this.header=t}getView(){return this.view}getAlign(){return this.align}setWidth(t){this.width=t}getWidth(){return this.width}isSortingEnabled(){const t=this.columnConfig;return null==t.sorting||null==t.sorting.enabled||t.sorting.enabled}isCellEditingEnabled(){const t=this.columnConfig;return null==t.cellEditing||null==t.cellEditing.enabled||t.cellEditing.enabled}setInitialAlign(t,e){this.align=null!=e?e:t.getDataType()===f.NUMBER?N.RIGHT:N.LEFT}}class Ko extends UC{constructor(t,e,n,o,s,a,c,u,g){super(t,e,n,s,a,c,u,g),this.sortStatus=W.NONE,this.enabled=!0,this.enabled=o,void 0===u&&(this.view=new bi(this.presentation.getDefaultView())),void 0===c&&(this.align=this.presentation.getDefaultAlign(this.view))}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}getSortStatus(){return this.sortStatus}setSortStatus(t){this.sortStatus=t}}class Fn extends ii{constructor(t){super(t)}toString(){return this.getId()}}class sr{}let $C=(()=>{class i extends sr{constructor(){super()}static getInstance(){return i.instance||(i.instance=new i),i.instance}getPossibleViews(){return[m.TEXT,m.BAR,m.PERCENTAGE_BAR,m.PERCENTAGE]}getDefaultView(){return m.NUMBER}getDefaultAlign(e){return N.RIGHT}}return i.instance=null,i})(),jC=(()=>{class i extends sr{constructor(){super()}static getInstance(){return i.instance||(i.instance=new i),i.instance}getPossibleViews(){return[m.TEXT,m.ITALIC,m.CHIP,m.BOLD,m.CHECKBOX]}getDefaultView(){return m.TEXT}getDefaultAlign(e){return e.getCellView()===m.CHECKBOX?N.CENTER:N.LEFT}}return i.instance=null,i})(),XC=(()=>{class i extends sr{constructor(){super()}static getInstance(){return i.instance||(i.instance=new i),i.instance}getPossibleViews(){return[m.DATE,m.TEXT,m.ITALIC,m.BOLD,m.CHIP]}getDefaultView(){return m.DATE}getDefaultAlign(){return N.LEFT}}return i.instance=null,i})(),LC=(()=>{class i extends sr{constructor(){super()}static getInstance(){return i.instance||(i.instance=new i),i.instance}getPossibleViews(){return[m.TEXT,m.ITALIC,m.BOLD,m.IMAGE,m.LINK,m.CHIP]}getDefaultView(){return m.TEXT}getDefaultAlign(){return N.LEFT}}return i.instance=null,i})(),zC=(()=>{class i extends sr{constructor(){super()}static getInstance(){return i.instance||(i.instance=new i),i.instance}getPossibleViews(){return[m.TEXT]}getDefaultView(){return m.TEXT}getDefaultAlign(){return N.LEFT}}return i.instance=null,i})();class Xc{convert(t){return t===f.NUMBER?$C.getInstance():t===f.BOOLEAN?jC.getInstance():t===f.DATE?XC.getInstance():t===f.STRING?LC.getInstance():zC.getInstance()}}let Lc=(()=>{class i{constructor(e){this.columnPresentationConverter=e}create(e){return Array.isArray(e)?this.createColumns(e):this.createColumn(e)}createColumn(e){const n=e.getColumn(),o=e.getField(),s=o.getDataType(),a=this.convertWidth(n.width)||void 0;let c,u;void 0!==n.view&&(c=new bi(n.view)),u=void 0===n.enabled||n.enabled;const g=this.getPresentation(s),p=new Ko(new Fn(Pt.generate()),o,n,u,g,void 0,n.align,c,a);return void 0!==n.header&&p.setHeader(n.header),p}createColumns(e){const n=[];return e.forEach(o=>{n.push(this.createColumn(o))}),n}convertWidth(e){return+e}getPresentation(e){return this.columnPresentationConverter.convert(e)}}return i.services=[Xc],i})();class zc{constructor(t,e,n){this.id=t,this.header=e,this.width=n}}class Wc extends Nr{constructor(t){super(t)}toString(){return this.getId()}}class Yc{create(t){return new zc(new Wc(Pt.generate()),t.header,t.width)}}let WC=(()=>{class i{constructor(e){this.compositionEventConverter=e,this.domainEventPublisher=d.resolve(T)}forCommand(){return $c}handle(e,n){const o=n.getConfigs();e.setGroups(o)}publish(e,n){this.publishEvents(e,n)}publishEvents(e,n){const o=e.getEvents(),s=this.compositionEventConverter.convert(o);this.domainEventPublisher.publish(s)}}return i.services=[Wt],i})();class Kc{constructor(){this.enabled=!0,this.highlightedColumns=new Set}isHighlighted(t){return this.highlightedColumns.has(t.toString())}toggle(t){this.highlightedColumns.has(t.toString())?this.highlightedColumns.delete(t.toString()):this.highlightedColumns.add(t.toString())}remove(t){this.highlightedColumns.delete(t.toString())}}class qo extends A{constructor(){super(new Kc)}toggle(t,e){this.find(t).ifPresent(n=>{n.toggle(e),this.next(t,n)})}equals(t,e){return!1}createDefaultValue(t){return new Kc}}class Mn extends Xr{}let qc=(()=>{class i extends jr{constructor(e){super(e)}}return i.services=[Mn],i})();class Qc extends Vr{}let Jc=(()=>{class i extends Qc{constructor(e){super(),this.inMemoryCompositionAggregateStore=e}findById(e){return this.inMemoryCompositionAggregateStore.findById(e)}save(e){this.inMemoryCompositionAggregateStore.save(e)}}return i.services=[qc],i})();class Zc{constructor(t){this.element=t}}class eu extends Pg{constructor(t,e,n,o,s,a,c,u,g,p,b,E,P=W.NONE,U=!0){super(e),this.columnConfig=n,this.name=o,this.type=a,this.view=c,this.align=u,this.cssClasses=b,this.styles=E,this.sortable=!0,this.field=t,this.columnDefinitionId=e,this.enabled=s,this.header=g,this.cellEditingEnabled=p,this.sortStatus=P,this.sortable=U}getName(){return this.name}isEnabled(){return this.enabled}setHeader(t){this.header=t}setField(t){this.field=t}setTemplateFunction(t){this.templateFunction=t}setFormatterFunction(t){this.formatterFunction=t}toHeaderCellTemplateWithContext(t){const e=this.header||"";let n;"string"==typeof e?n=new Zc(gt.text(e)):"function"==typeof e&&(n=new Zc(gt.text(e(t))));const o=new zi(this.field.getId().getId());return new Dc(e,this.type,n,this.width,o,this.columnDefinitionId,this.sortStatus,this.enabled,this.cssClasses,this.styles,this.sortable,this.align)}toContentCellTemplateWithAccessor(){return new Rc(this.columnConfig,this.columnDefinitionId,this.name,!0,this.templateFunction,this.formatterFunction,n=>this.field.getAccessor()(n),n=>this.field.getSearchAccessor()(n),this.width,this.field.getId(),this.align,this.cellEditingEnabled,this.type,this.view)}}class tu extends Gg{constructor(t){super(t)}}class iu{create(t){return t instanceof Ko?this.createFromColumnEntity(t):this.createFromActiveColumnEntity(t)}createColumns(t){return t.map(e=>this.create(e))}createFromColumnEntity(t){const e=new eu(t.getField(),new tu(t.getId().toString()),t.getColumnConfig(),t.getColumnConfig().name,t.isEnabled(),t.getDataType(),t.getView(),t.getAlign(),t.getHeader(),t.isCellEditingEnabled(),t.getColumnConfig().cssClasses,t.getColumnConfig().styles,t.getSortStatus(),t.isSortingEnabled());return e.setTemplateFunction(t.getTemplateFunction()),e.setFormatterFunction(t.getFormatterFunction()),e.width=+t.getWidth(),e}createFromActiveColumnEntity(t){const e=new eu(t.getField(),new tu(t.getId().toString()),t.getColumnConfig(),t.getColumnConfig().name,!0,t.getDataType(),t.getView(),t.getAlign(),t.getHeader(),t.isCellEditingEnabled(),t.getColumnConfig().cssClasses,t.getColumnConfig().styles,t.getSortStatus(),t.isSortingEnabled());return e.setTemplateFunction(t.getTemplateFunction()),e.setFormatterFunction(t.getFormatterFunction()),e.width=+t.getWidth(),e}}class YC extends Ra{constructor(t,e,n,o,s,a){super(t),this.ready=e,this.allColumns=n,this.activeColumns=o,this.width=s,this.resizeWidth=a}getActiveColumns(){return this.activeColumns}getAllColumns(){return this.allColumns}getActiveHeaderColumns(){return this.getActiveColumns().map((t,e)=>t.toHeaderCellTemplateWithContext(e))}getHeaderColumns(){return this.getAllColumns().map((t,e)=>t.toHeaderCellTemplateWithContext(e))}getTemplateColumns(){return this.getActiveColumns().map(t=>t.toContentCellTemplateWithAccessor())}getWidth(){return this.width}getContainerWidth(){return+this.width-2}isReady(){return this.ready}isResizeWidthEnabled(){return this.resizeWidth}equals(t){return this.width===t.width&&this.resizeWidth===t.resizeWidth&&this.equalsByColumns(t.allColumns)}equalsByColumns(t){return this.allColumns.length===t.length}}let ru=(()=>{class i{constructor(e){this.columnDefinitionFactory=e}convert(e){const n=e.isReady(),o=e.getColumns(),s=e.getActiveColumns(),a=this.convertToColumnDef(o),c=this.convertActiveColumnsToColumnDef(s),u=e.getWidth(),g=e.isResizeEnabled(),p=e.getId();return new YC(p.toReadModelRootId(),n,a,c,u,g)}convertToColumnDef(e){const n=[];return e.forEach(o=>{const s=this.columnDefinitionFactory.create(o);n.push(s)}),n}convertActiveColumnsToColumnDef(e){const n=[];return e.forEach(o=>{const s=this.columnDefinitionFactory.create(o);n.push(s)}),n}}return i.services=[iu],i})(),Qo=(()=>{class i extends Va{constructor(e,n){super(e),this.inMemoryCompositionStore=e,this.compositionConverter=n}toReadModel(e){return this.compositionConverter.convert(e)}}return i.services=[Mn,ru],i})();class Dn extends Vg{constructor(){super()}}class nu extends Qe{constructor(t){super(t,null,"CompositionCreatedEvent")}}let ou=(()=>{class i extends Dn{constructor(e){super(),this.inMemoryCompositionReadStore=e,this.compositionIdToComposition=new Map,this.composition$=new Ge(1)}on(e){return this.composition$.toObservable().pipe(F(n=>{const o=e.getId();return n.has(o)}),h(n=>n.get(e.getId())))}find(e){const n=e.getId();return R.of(this.compositionIdToComposition.get(n))}forEvents(){return[nu,or,_n,In,Tn,$o,jo,Xo,Lo]}subscribe(e){const n=e.getAggregateId();this.inMemoryCompositionReadStore.getById(n).ifPresent(s=>{const a=s.getId().toString();this.compositionIdToComposition.set(a,s),this.composition$.next(this.compositionIdToComposition)})}}return i.services=[Qo],i})();class KC{forCommand(){return Uc}}class Jo{constructor(t){this.MIN_COLUMN_WIDTH=t}calculateMinWidth(t){const{staticColumns:e,fluidColumns:n}=this.segregateColumns(t);let o=0;return e.forEach(s=>{o+=s.getWidth()}),o+=n.length*this.MIN_COLUMN_WIDTH,o}segregateColumns(t){return{staticColumns:t.filter(o=>o.isTypeNumber()&&o.getWidth()>this.MIN_COLUMN_WIDTH),fluidColumns:t.filter(o=>o.isTypeAuto()||o.isTypePercentage()||o.isTypeNumber()&&o.getWidth()<=this.MIN_COLUMN_WIDTH)}}}class ht extends Gr{}class qC extends ht{constructor(t){super(t,"CompositionWidthSetAggregateEvent")}toDomainEvent(){return new Tn(this.getAggregateId())}}class QC extends ht{constructor(t,e){super(t,"CompositionContainerWidthSetAggregateEvent"),this.containerWidth=e}toDomainEvent(){return new In(this.getAggregateId(),this.containerWidth)}}class JC extends ht{constructor(t){super(t,"CompositionResizeWidthSetAggregateEvent")}toDomainEvent(){return new or(this.getAggregateId())}}class ZC extends ht{constructor(t,e){super(t,"CompositionColumnSetEnabledAggregateEvent"),this.activeColumns=e}toDomainEvent(){return new $o(this.getAggregateId())}getActiveColumns(){return this.activeColumns}}var Ze=function(i){return i[i.PERCENTAGE=0]="PERCENTAGE",i[i.NUMBER=1]="NUMBER",i[i.AUTO=2]="AUTO",i}(Ze||{});class Ci{constructor(t){this.baseWidth=t,this.setWidthAndType(t)}getWidth(){return this.width}getColumnType(){return this.template}isTypePercentage(){return this.template===Ze.PERCENTAGE}isTypeAuto(){return this.template===Ze.AUTO}isTypeNumber(){return this.template===Ze.NUMBER}setWidth(t){this.width=t}setWidthAndType(t){null==t||"auto"===t?(this.template=Ze.AUTO,this.setWidth(null)):this.isPercentage(t)?(this.template=Ze.PERCENTAGE,this.setWidth(this.percentageToNumber(""+t))):(this.isStringNumber(t),this.template=Ze.NUMBER,this.setWidth(+t))}clone(){return new Ci(this.baseWidth)}isPercentage(t){return"string"==typeof t&&"%"===t[t.length-1]}percentageToNumber(t){return+t.slice(0,-1)}isStringNumber(t){return Number.isNaN(+t)}}class ey{constructor(t,e,n){this.source=t,this.width=e,this.MIN_COLUMN_WIDTH=n,this.columns=this.source.map(o=>o.clone())}calculate(){let t=this.width,e=Array.from(this.columns);this.adjustMinimalWidth(e);const n=[];if(e.forEach((o,s)=>{o.isTypeNumber()?t-=o.getWidth():n.push(o)}),e=n,0!==e.length){const o=t/e.length;e.forEach((s,a)=>{s.setWidth(o)})}return this.columns}adjustMinimalWidth(t){t.forEach(e=>{e.isTypeNumber()&&e.getWidth()<this.MIN_COLUMN_WIDTH&&e.setWidthAndType(this.MIN_COLUMN_WIDTH)})}adjustPercentageWidth(){this.columns.filter(e=>e.isTypePercentage());for(const e of this.columns)e.getColumnType()===Ze.PERCENTAGE&&e.setWidth(this.width*e.getWidth()*.01)}adjustAutoWidth(){let t=this.width;const e=[];for(let n=0;n<this.columns.length;n+=1){const o=this.columns[n];o.getColumnType()!==Ze.AUTO?t-=o.getWidth():e.push(o)}if(e.length>0){const n=t/e.length;for(const o of e)o.setWidth(n)}}}class su{constructor(t,e=[],n=100){this.MIN_COLUMN_WIDTH=t,this.baseColumnWidths=e.map(o=>new Ci(o.width)),this.columnWidths=e.map(o=>new Ci(o.width)),this.setContainerWidth(n),this.calculate()}getColumnWidths(){return this.baseColumnWidths}getColumnsWidth(){return this.width}getWidths(){return this.columnWidths.map(t=>t.getWidth())}getMinWidth(){return new Jo(this.MIN_COLUMN_WIDTH).calculateMinWidth(this.columnWidths)}setWidth(t){this.setContainerWidth(t),this.calculate()}setColumns(t){this.baseColumnWidths=t.map(e=>new Ci(e.width)),this.columnWidths=t.map(e=>new Ci(e.width)),this.calculate()}getMinColumnWidth(){return this.MIN_COLUMN_WIDTH}calculate(){if(this.baseColumnWidths&&this.width){const t=new ey(this.baseColumnWidths,this.width,this.MIN_COLUMN_WIDTH);this.columnWidths=t.calculate()}}setContainerWidth(t){this.width=this.getMinWidth()>t?this.getMinWidth():t,this.calculate()}}class ty extends ht{constructor(t,e){super(t,"CompositionChangeSortStatusAggregateEvent"),this.activeColumns=e}toDomainEvent(){return new Lo(this.getAggregateId(),this.activeColumns)}}class iy{constructor(t,e=[],n,o){this.compositionId=t,this.MIN_COLUMN_WIDTH=50,this.columnWidthCollection=new su(this.MIN_COLUMN_WIDTH),this.columns=e,n&&o&&(this.columnWidthCollection=new su(this.MIN_COLUMN_WIDTH,o,n))}getColumnWidths(){return this.columnWidthCollection.getColumnWidths()}getColumns(){return this.columns}setWidth(t){this.columnWidthCollection.setWidth(t)}addColumn(t,e){this.columns.splice(e,0,t)}removeColumn(t){this.columns.splice(t,1)}setColumns(t,e){this.columns=t,this.columnWidthCollection.setColumns(e);const n=this.columnWidthCollection.getWidths();this.columns.forEach((o,s)=>{o.setWidth(n[s])})}changeSort(t){this.columns.forEach(e=>{e.setSortStatus(W.NONE)});for(const e of t){const n=e.fieldId,s=e.direction?W.ASC:W.DESC,a=this.columns.filter(c=>c.getField().getId().getId()===n.getId());a.length>0&&a.forEach(c=>{c.setSortStatus(s)})}return new ty(this.getCompositionId(),this.columns)}moveLeft(t){const e=this.findColumnIndex(t);this.move(e,e-1)}moveRight(t){const e=this.findColumnIndex(t);this.move(e,e+1)}getMinColumnWidth(){return this.MIN_COLUMN_WIDTH}move(t,e){if(!this.validateMoveIndex(t)||!this.validateMoveIndex(e))return;const n=this.columns[t];this.columns[t]=this.columns[e],this.columns[e]=n}validateMoveIndex(t){return t>=0}getCompositionId(){return this.compositionId}findColumnIndex(t){return this.columns.findIndex(e=>e.getId().equals(t))}}class Zo extends Ko{constructor(t,e,n,o,s,a,c){super(t,e,a,!0,c,n,o,s,void 0)}static fromEntity(t){return new Zo(t.getId(),t.getField(),t.getHeader(),t.getAlign(),t.getView(),t.getColumnConfig(),t.getPresentation())}}class ry{convertMany(t){return t.map(e=>this.convert(e))}convert(t){return Zo.fromEntity(t)}}class ny extends ht{constructor(t){super(t,"CompositionColumnMovedLeftAggregateEvent")}toDomainEvent(){return new jo(this.getAggregateId())}}class oy extends ht{constructor(t){super(t,"CompositionColumnMovedRightAggregateEvent")}toDomainEvent(){return new Xo(this.getAggregateId())}}class sy extends ht{constructor(t){super(t,"ColumnsSetAggregateEvent")}toDomainEvent(){return new _n(this.getAggregateId())}}class ay extends ht{constructor(t){super(t,"SchemaCreatedEvent")}toDomainEvent(){return new nu(this.getAggregateId())}}const cy=new zc(new Wc("-1"),"",100);class uy extends Or{constructor(t,e,n,o=[],s,a){super(t,"CompositionAggregate"),this.allColumns=[],this.resizeWidthEnabled=!0,this.activeColumnEntityConverter=new ry,this.groups=new ro,this.columnNameToGroupId=new Map;const c=o.map(g=>g.getColumn());this.baseParams=o,this.baseColumns=c,this.columnFactory=e,this.groupFactory=n,this.width=s,this.allColumns=this.columnFactory.create(o);const u=this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());this.activeColumnContainer=new iy(this.getId(),u,s,c),null!=a&&(this.resizeWidthEnabled=a)}createEvent(){return ay}getColumns(){return this.allColumns}getActiveColumns(){return this.activeColumnContainer.getColumns()}getWidth(){return this.resizeWidthEnabled?this.containerInDOMWidth:this.width}isResizeEnabled(){return this.resizeWidthEnabled}isReady(){return!!this.getWidth()&&this.getActiveColumns().length>0}setGroups(t){for(let e=0;e<t.length;e+=1){const n=t[e];if(void 0!==n.columns){const o=this.groupFactory.create(n);this.groups.set(o.id,o),n.columns.forEach((s,a)=>{this.columnNameToGroupId.set(s.header,o.id)})}else this.columnNameToGroupId.set(n.header,cy.id)}}setColumns(t){this.allColumns=this.columnFactory.create(t);const e=t.map(o=>o.getColumn()),n=this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());this.activeColumnContainer.setColumns(n,e),this.addEvent(new sy(this.getId()))}setContainerWidth(t){this.setContainerWidthWithEvent(t),this.recalculateColumns()}setWidth(t){this.setWidthWithEvent(t),this.setResizeWidthWithEvent(!1),this.recalculateColumns()}setResizeWidth(t){this.setResizeWidthWithEvent(t)}changeSort(t){this.addEvent(this.activeColumnContainer.changeSort(t))}enableColumn(t,e){let n=-1;if(this.allColumns.forEach((o,s)=>{if(o.getId().getId()===t.getId()){const a=o.isEnabled();o.setEnabled(e),a!==e&&(n=s)}}),n>0)if(e){const o=this.activeColumnEntityConverter.convert(this.allColumns[n]);this.activeColumnContainer.addColumn(o,n)}else this.activeColumnContainer.removeColumn(n);this.recalculateColumns(),this.addEvent(new ZC(this.getId(),this.getActiveColumns()))}moveLeft(t){const e=this.findColumnIndex(t);let n,o=-1;for(let s=e-1;s>=0;s-=1){const a=this.allColumns[s];if(a.isEnabled()){n=a,o=s;break}}if(n&&o>=0&&e>=0){const s=this.allColumns[e];this.allColumns[e]=n,this.allColumns[o]=s}this.activeColumnContainer.moveLeft(t),this.addEvent(new ny(this.getId()))}moveRight(t){const e=this.findColumnIndex(t);let n,o=-1;for(let s=e+1;s<this.allColumns.length;s+=1){const a=this.allColumns[s];if(a.isEnabled()){n=a,o=s;break}}if(n&&o>=0&&e>=0){const s=this.allColumns[e];this.allColumns[e]=n,this.allColumns[o]=s}this.activeColumnContainer.moveRight(t),this.addEvent(new oy(this.getId()))}recalculateColumns(){const t=this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());this.activeColumnContainer.setColumns(t,t.map(e=>e.getColumnConfig()))}setWidthWithEvent(t){const n=new Jo(this.getMinColumnWidth()).calculateMinWidth(this.activeColumnContainer.getColumnWidths());this.width=n>t?n:t,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new qC(this.getId()))}setContainerWidthWithEvent(t){const n=new Jo(this.getMinColumnWidth()).calculateMinWidth(this.activeColumnContainer.getColumnWidths());this.containerInDOMWidth=n>t?n:t,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new QC(this.getId(),t))}setResizeWidthWithEvent(t){this.resizeWidthEnabled=t,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new JC(this.getId()))}getEnabledColumns(){return this.allColumns.filter(t=>t.isEnabled())}findColumnIndex(t){return this.allColumns.findIndex(e=>e.getId().equals(t))}getMinColumnWidth(){return this.activeColumnContainer.getMinColumnWidth()}}let ly=(()=>{class i extends Pr{constructor(e,n){super(),this.columnFactory=e,this.groupFactory=n}create(e){return new uy(e,this.columnFactory,this.groupFactory)}}return i.services=[Lc,Yc],i})();const au="CompositionAggregate";class dy{defineAggregate(){return{aggregateKey:au,createCommandHandler:KC,factory:ly,repository:Jc}}registerKey(){return au}registerProviders(t){t.provide(qc),t.provide(Qc,Jc),t.provide(Wo),t.provide(Lc),t.provide(Xc),t.provide(Wt),t.provide(Yi),t.provide(Yc),t.provide(qo),t.provide(Mn),t.provide(Qo),t.provide(Dn,ou)}registerCommandHandlers(){return[RC,AC,PC,GC,VC,OC,NC,BC,WC]}registerDomainEventHandler(){return[]}registerMultiDomainEventHandler(){return[HC]}}let es=(()=>{class i extends Z{constructor(e,n){super(n),this.sanitizer=e,this.addClassToHost("gui-h-full"),this.addClassToHost("gui-w-full")}ngOnChanges(){this.safeHTML=this.sanitizer.bypassSecurityTrustHtml(this.element.value)}getSelectorName(){return"gui-function-view"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(Lr.up),r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-function-view"]],inputs:{element:"element"},features:[r.Vt3,r.OA$],decls:1,vars:1,consts:[[1,"gui-h-full","gui-flex","gui-items-center",3,"innerHTML"]],template:function(e,n){1&e&&r.nrm(0,"div",0),2&e&&r.Y8G("innerHTML",n.safeHTML,r.npT)},encapsulation:2,changeDetection:0}),i})(),kn=(()=>{class i extends Z{constructor(e){super(e)}getSelectorName(){return"gui-percentage-view"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-percentage-view","value",""]],inputs:{value:"value"},features:[r.Vt3],attrs:wo,decls:1,vars:1,template:function(e,n){1&e&&r.EFF(0),2&e&&r.SpI(" ",n.value," % ")},encapsulation:2,changeDetection:0}),i})(),ts=(()=>{class i extends Z{constructor(e){super(e),this.showPercentage=!1}ngOnChanges(e){k(e.value,()=>{this.width=this.value>100?100:this.value})}getSelectorName(){return"gui-bar-view"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-bar-view","value",""]],inputs:{value:"value",showPercentage:"showPercentage"},features:[r.Vt3,r.OA$],attrs:wo,decls:3,vars:3,consts:[[1,"gui-percentage-bar"],[1,"gui-percentage"],[3,"value",4,"ngIf"],[3,"value"]],template:function(e,n){1&e&&(r.j41(0,"div",0),r.nrm(1,"div",1),r.DNE(2,Wp,1,1,"gui-percentage-view",2),r.k0s()),2&e&&(r.R7$(),r.xc7("width",n.width,"%"),r.R7$(),r.Y8G("ngIf",n.showPercentage))},dependencies:[l.bT,kn],encapsulation:2,changeDetection:0}),i})(),is=(()=>{class i{constructor(e){this.sanitizer=e}transform(e,n){switch(n){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error(`Invalid safe type specified: ${n}`)}}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(Lr.up,16))},i.\u0275pipe=r.EJ8({name:"guiSafe",type:i,pure:!0}),i})(),cu=(()=>{class i extends Z{constructor(e,n,o){super(o),this.isHtml=!1,null!==e&&this.addClassToHost("gui-bold"),null!==n&&this.addClassToHost("gui-italic")}ngOnChanges(){this.isHtml=this.value.type===En.HTML}getSelectorName(){return"gui-text-view"}}return i.\u0275fac=function(e){return new(e||i)(r.kS0("bold"),r.kS0("italic"),r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-view-text","value",""]],inputs:{value:"value"},features:[r.Vt3,r.OA$],attrs:wo,decls:3,vars:2,consts:[["text",""],[4,"ngIf","ngIfElse"],[3,"innerHTML"]],template:function(e,n){if(1&e&&r.DNE(0,Yp,3,4,"ng-container",1)(1,Kp,2,1,"ng-template",null,0,r.C5r),2&e){const o=r.sdS(2);r.Y8G("ngIf",n.isHtml)("ngIfElse",o)}},dependencies:[l.bT,is],encapsulation:2,changeDetection:0}),i})(),rs=(()=>{class i extends Z{constructor(e,n){super(n),this.sanitizer=e,this.addClassToHost("gui-h-full"),this.addClassToHost("gui-w-full")}ngOnChanges(){this.safeHTML=this.sanitizer.bypassSecurityTrustHtml(this.element.value)}getSelectorName(){return"gui-html-view"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(Lr.up),r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-html-view"]],inputs:{element:"element"},features:[r.Vt3,r.OA$],decls:1,vars:1,consts:[[1,"gui-h-full","gui-flex","gui-items-center",3,"innerHTML"]],template:function(e,n){1&e&&r.nrm(0,"div",0),2&e&&r.Y8G("innerHTML",n.safeHTML,r.npT)},encapsulation:2,changeDetection:0}),i})(),ns=(()=>{class i{getTemplate(e){switch(e){case m.TEXT:return this.textTemplate;case m.NUMBER:return this.numberTemplate;case m.CHIP:return this.chipTemplate;case m.LINK:return this.linkTemplate;case m.IMAGE:return this.imageTemplate;case m.CHECKBOX:return this.checkboxTemplate;case m.BOLD:return this.boldTemplate;case m.ITALIC:return this.italicTemplate;case m.CUSTOM:return this.customTemplate;case m.FUNCTION:return this.functionTemplate;case m.HTML:return this.htmlTemplate;case m.DATE:return this.dateTemplate;case m.BAR:return this.barTemplate;case m.PERCENTAGE_BAR:return this.percentageBarTemplate;case m.PERCENTAGE:return this.percentageTemplate;default:return this.textTemplate}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.VBU({type:i,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&(r.GBs(qp,7,r.C4Q),r.GBs(nc,7,r.C4Q),r.GBs(Qp,7,r.C4Q),r.GBs(Jp,7,r.C4Q),r.GBs(Zp,7,r.C4Q),r.GBs(oc,7,r.C4Q),r.GBs(em,7,r.C4Q),r.GBs(tm,7,r.C4Q),r.GBs(im,7,r.C4Q),r.GBs(rm,7,r.C4Q),r.GBs(nm,7,r.C4Q),r.GBs(sc,7,r.C4Q),r.GBs(om,7,r.C4Q),r.GBs(sm,7,r.C4Q),r.GBs(am,7,r.C4Q)),2&e){let o;r.mGM(o=r.lsd())&&(n.textTemplate=o.first),r.mGM(o=r.lsd())&&(n.numberTemplate=o.first),r.mGM(o=r.lsd())&&(n.chipTemplate=o.first),r.mGM(o=r.lsd())&&(n.linkTemplate=o.first),r.mGM(o=r.lsd())&&(n.imageTemplate=o.first),r.mGM(o=r.lsd())&&(n.checkboxTemplate=o.first),r.mGM(o=r.lsd())&&(n.boldTemplate=o.first),r.mGM(o=r.lsd())&&(n.italicTemplate=o.first),r.mGM(o=r.lsd())&&(n.customTemplate=o.first),r.mGM(o=r.lsd())&&(n.functionTemplate=o.first),r.mGM(o=r.lsd())&&(n.htmlTemplate=o.first),r.mGM(o=r.lsd())&&(n.dateTemplate=o.first),r.mGM(o=r.lsd())&&(n.barTemplate=o.first),r.mGM(o=r.lsd())&&(n.percentageBarTemplate=o.first),r.mGM(o=r.lsd())&&(n.percentageTemplate=o.first)}},decls:30,vars:0,consts:[["text",""],["number",""],["chip",""],["link",""],["image",""],["checkbox",""],["bold",""],["italic",""],["custom",""],["function",""],["html",""],["date",""],["bar",""],["percentageBar",""],["percentage",""],[3,"value"],[1,"gui-cell-number"],["gui-button","","link","true",3,"href"],[3,"src"],[1,"gui-cell-boolean"],[3,"checked","disabled"],["bold","",3,"value"],["italic","",3,"value"],[3,"element"],[1,"gui-view-text"],[3,"value","showPercentage"]],template:function(e,n){1&e&&r.DNE(0,cm,1,1,"ng-template",null,0,r.C5r)(2,um,2,1,"ng-template",null,1,r.C5r)(4,lm,2,1,"ng-template",null,2,r.C5r)(6,dm,2,2,"ng-template",null,3,r.C5r)(8,gm,1,1,"ng-template",null,4,r.C5r)(10,hm,2,2,"ng-template",null,5,r.C5r)(12,pm,1,1,"ng-template",null,6,r.C5r)(14,mm,1,1,"ng-template",null,7,r.C5r)(16,fm,1,1,"ng-template",null,8,r.C5r)(18,vm,1,1,"ng-template",null,9,r.C5r)(20,bm,1,1,"ng-template",null,10,r.C5r)(22,Cm,3,4,"ng-template",null,11,r.C5r)(24,ym,1,2,"ng-template",null,12,r.C5r)(26,Sm,1,2,"ng-template",null,13,r.C5r)(28,xm,1,1,"ng-template",null,14,r.C5r)},dependencies:[Xa,Nt,rt,es,ts,kn,cu,rs,l.vh],encapsulation:2}),i})();class uu{constructor(t,e){this.templatesComponentDefinition=t,this.componentFactoryResolver=e,this.templates=new Map,this.templatesComponent=null,this.createTemplatesComponent()}getTemplates(){return this.templates}destroy(){this.templatesComponent&&(this.templatesComponent.destroy(),this.templatesComponent=null)}createTemplatesComponent(){const t=this.componentFactoryResolver.resolveComponentFactory(this.templatesComponentDefinition),e=r.zZn.create({providers:[]});this.templatesComponent=t.create(e),this.generateMap()}generateMap(){this.generateMapKeys().forEach(t=>{this.findAndSetTemplate(t)})}findAndSetTemplate(t){const e=this.templatesComponent.instance.getTemplate(t);this.templates.set(t,e)}}let Rn=(()=>{class i extends uu{constructor(e){super(ns,e)}generateMapKeys(){return Object.keys(m).map(e=>m[e])}}return i.services=[r.OM3],i.\u0275fac=function(e){return new(e||i)(r.KVO(r.OM3))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),os=(()=>{class i{constructor(e){this.columnTemplateFactory=e}findTemplate(e){return this.columnTemplateFactory.getTemplates().get(e)}}return i.services=[Rn],i.\u0275fac=function(e){return new(e||i)(r.KVO(Rn))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();var Dt=function(i){return i[i.SUBMIT=0]="SUBMIT",i[i.BLUR=1]="BLUR",i[i.CANCEL=2]="CANCEL",i}(Dt||{});let ss=(()=>{class i extends G{constructor(e,n){super(e,n),this.ENTER_KEY_CODE=13,this.ESC_KEY_CODE=27}submit(){this.emitStatus(Dt.SUBMIT)}cancel(){this.emitStatus(Dt.CANCEL)}emitStatus(e){this.status&&this.status.emit(e)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT))},i.\u0275dir=r.FsC({type:i,inputs:{value:"value",valueChanges:"valueChanges",status:"status",focus:"focus",parent:"parent"},features:[r.Vt3]}),i})(),lu=(()=>{class i extends ss{constructor(e,n,o){super(e,n),this.formBuilder=o,this.filterFieldName="phrase",this.filterForm=this.formBuilder.group({[this.filterFieldName]:[""]})}ngOnChanges(e){void 0!==e.value&&this.filterForm.get(this.filterFieldName).setValue(this.value)}ngOnInit(){this.observeChanges()}ngAfterViewInit(){const e=this.inputRef.nativeElement;this.focusField(e),this.emitValueChange(e.value),$r(e,"blur").pipe(this.takeUntil()).subscribe(()=>{this.unsubscribe(),this.submit()});const n=$r(e,"keyup");n.pipe(F(o=>o.keyCode===this.ENTER_KEY_CODE),this.takeUntil()).subscribe(()=>{this.unsubscribe(),this.submit()}),n.pipe(F(o=>o.keyCode===this.ESC_KEY_CODE),this.takeUntil()).subscribe(()=>{this.unsubscribe(),this.cancel()})}focusField(e){this.focus&&e.focus()}observeChanges(){Ot(this.filterForm.controls[this.filterFieldName].valueChanges).pipe(this.takeUntil()).subscribe(e=>{this.emitValueChange(e)})}emitValueChange(e){this.valueChanges&&this.valueChanges.emit(e)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(y.ok))},i.\u0275dir=r.FsC({type:i,viewQuery:function(e,n){if(1&e&&r.GBs(wm,7),2&e){let o;r.mGM(o=r.lsd())&&(n.inputRef=o.first)}},features:[r.Vt3,r.OA$]}),i})(),du=(()=>{class i extends lu{constructor(e,n,o){super(e,n,o)}focusField(e){this.focus&&(e.focus(),e.setSelectionRange(0,e.value.length))}getSelectorName(){return"gui-string-edit"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(y.ok))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-string-edit"]],features:[r.Vt3],decls:3,vars:2,consts:[["input",""],[3,"formGroup"],["type","type",1,"gui-input",3,"formControlName"]],template:function(e,n){1&e&&(r.j41(0,"form",1),r.nrm(1,"input",2,0),r.k0s()),2&e&&(r.Y8G("formGroup",n.filterForm),r.R7$(),r.Y8G("formControlName",n.filterFieldName))},dependencies:[y.qT,y.me,y.BC,y.cb,y.j4,y.JD],encapsulation:2,changeDetection:0}),i})(),gu=(()=>{class i extends lu{constructor(e,n,o){super(e,n,o)}getSelectorName(){return"gui-number-edit"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(y.ok))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-number-edit"]],features:[r.Vt3],decls:3,vars:2,consts:[["input",""],[3,"formGroup"],["type","number",1,"gui-input",3,"formControlName"]],template:function(e,n){1&e&&(r.j41(0,"form",1),r.nrm(1,"input",2,0),r.k0s()),2&e&&(r.Y8G("formGroup",n.filterForm),r.R7$(),r.Y8G("formControlName",n.filterFieldName))},dependencies:[y.qT,y.me,y.Q0,y.BC,y.cb,y.j4,y.JD],encapsulation:2,changeDetection:0}),i})(),hu=(()=>{class i extends ss{constructor(e,n){super(e,n),this.changeDetectorRef=e,this.filterFieldName="booleanEdit"}toggle(e){this.valueChanges.emit(e),this.submit()}getSelectorName(){return"gui-boolean-edit"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-boolean-edit"]],viewQuery:function(e,n){if(1&e&&r.GBs(oc,7,r.aKT),2&e){let o;r.mGM(o=r.lsd())&&(n.checkboxRef=o.first)}},features:[r.Vt3],decls:3,vars:2,consts:[["checkbox",""],[1,"gui-cell-boolean"],[3,"changed","checked","name"]],template:function(e,n){if(1&e){const o=r.RV6();r.j41(0,"span",1)(1,"gui-checkbox",2,0),r.bIt("changed",function(a){return r.eBV(o),r.Njj(n.toggle(a))}),r.k0s()()}2&e&&(r.R7$(),r.Y8G("checked",n.value)("name",n.filterFieldName))},dependencies:[Nt],encapsulation:2,changeDetection:0}),i})(),pu=(()=>{class i extends ss{constructor(e,n){super(e,n),this.changeDetectorRef=e,this.filterFieldName="dateEdit",this.opened=!1,this.localStreamCloser=new yc}ngAfterViewInit(){const n=$r(this.datePickerRef.nativeElement.querySelector(".gui-date-picker-input"),"keyup");n.pipe(F(o=>o.keyCode===this.ENTER_KEY_CODE),this.localStreamCloser.takeUntil()).subscribe(()=>{this.localStreamCloser.unsubscribe(),this.submit()}),n.pipe(F(o=>o.keyCode===this.ESC_KEY_CODE),this.localStreamCloser.takeUntil()).subscribe(()=>{this.localStreamCloser.unsubscribe(),this.cancel()})}ngOnDestroy(){this.localStreamCloser.unsubscribe(),super.ngOnDestroy()}toggle(e){this.valueChanges.emit(e)}dialogOpened(e){this.opened=e,e||(this.localStreamCloser.unsubscribe(),this.submit())}getSelectorName(){return"gui-date-edit"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-date-edit"]],viewQuery:function(e,n){if(1&e&&r.GBs(Em,7,r.aKT),2&e){let o;r.mGM(o=r.lsd())&&(n.datePickerRef=o.first)}},features:[r.Vt3],decls:2,vars:5,consts:[["datepicker",""],[3,"dialogOpened","dateSelected","selectDate","name","openDialog","onlyDialog","parentElement"]],template:function(e,n){if(1&e){const o=r.RV6();r.j41(0,"gui-date-picker",1,0),r.bIt("dialogOpened",function(a){return r.eBV(o),r.Njj(n.dialogOpened(a))})("dateSelected",function(a){return r.eBV(o),r.Njj(n.toggle(a))}),r.k0s()}2&e&&r.Y8G("selectDate",n.value)("name",n.filterFieldName)("openDialog",!0)("onlyDialog",!1)("parentElement",n.parent)},dependencies:[Jh],encapsulation:2,changeDetection:0}),i})(),as=(()=>{class i{getTemplate(e){switch(e){case f.STRING:return this.stringTemplate;case f.NUMBER:return this.numberTemplate;case f.BOOLEAN:return this.booleanTemplate;case f.DATE:return this.dateTemplate;default:return this.emptyTemplate}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.VBU({type:i,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&(r.GBs(_m,7,r.C4Q),r.GBs(nc,7,r.C4Q),r.GBs(Im,7,r.C4Q),r.GBs(sc,7,r.C4Q),r.GBs(Tm,7,r.C4Q)),2&e){let o;r.mGM(o=r.lsd())&&(n.stringTemplate=o.first),r.mGM(o=r.lsd())&&(n.numberTemplate=o.first),r.mGM(o=r.lsd())&&(n.booleanTemplate=o.first),r.mGM(o=r.lsd())&&(n.dateTemplate=o.first),r.mGM(o=r.lsd())&&(n.emptyTemplate=o.first)}},decls:10,vars:0,consts:[["string",""],["number",""],["boolean",""],["date",""],["empty",""],[3,"valueChanges","value","status","focus"],[3,"valueChanges","value","status","focus","parent"]],template:function(e,n){1&e&&r.DNE(0,Fm,1,4,"ng-template",null,0,r.C5r)(2,Mm,1,4,"ng-template",null,1,r.C5r)(4,Dm,1,4,"ng-template",null,2,r.C5r)(6,km,1,5,"ng-template",null,3,r.C5r)(8,Rm,0,0,"ng-template",null,4,r.C5r)},dependencies:[du,gu,hu,pu],encapsulation:2}),i})(),An=(()=>{class i extends uu{constructor(e){super(as,e)}generateMapKeys(){return Object.keys(f).map(e=>f[e])}}return i.services=[r.OM3],i.\u0275fac=function(e){return new(e||i)(r.KVO(r.OM3))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),cs=(()=>{class i{constructor(e){this.editTemplateFactory=e}findTemplate(e){return this.editTemplateFactory.getTemplates().get(e)}}return i.services=[An],i.\u0275fac=function(e){return new(e||i)(r.KVO(An))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();class yi extends A{constructor(){super(yi.default)}}yi.default=new class gy{constructor(t,e){this.groups=t,this.showGroups=e}getGroups(){return this.groups}isVisible(){return this.showGroups}}([],!1);let hy=(()=>{class i extends Ye{constructor(e,n,o){super(),this.compositionDispatcher=e,this.compositionGroupRepository=n,this.columnHighlightArchive=o}create(e){this.compositionDispatcher.create(e)}setColumns(e,n){this.compositionDispatcher.setColumns(n,e)}setGroups(e,n){this.compositionDispatcher.setGroups(n,e)}setWidth(e,n){this.compositionDispatcher.setWidth(n,e)}setContainerWidth(e,n){this.compositionDispatcher.setContainerWidth(n,e)}setResizeWidth(e,n){this.compositionDispatcher.setResizeWidth(n,e)}enableColumn(e,n){this.compositionDispatcher.setColumnEnabled(n,this.toColumnId(e),!0)}disableColumn(e,n){this.compositionDispatcher.setColumnEnabled(n,this.toColumnId(e),!1)}moveLeft(e,n){this.compositionDispatcher.moveLeft(n,this.toColumnId(e))}moveRight(e,n){this.compositionDispatcher.moveRight(n,this.toColumnId(e))}highlightColumn(e,n){this.columnHighlightArchive.toggle(n,new Fn(e.getId()))}toColumnId(e){return new Fn(e.getId())}}return i.services=[Wo,yi,qo],i})(),py=(()=>{class i extends Te{constructor(e,n,o){super(),this.compositionRepository=e,this.compositionGroupArchive=n,this.columnHighlightArchive=o}onWidth(e){return this.compositionRepository.on(e).pipe(h(n=>n.getWidth()))}onContainerWidth(e){return this.compositionRepository.on(e).pipe(h(n=>n.getContainerWidth()))}onWidthForEachColumn(e){return this.compositionRepository.on(e).pipe(h(n=>n.getAllColumns().map(o=>o.width)))}onHeaderColumns(e){return this.compositionRepository.on(e).pipe(h(n=>n.getActiveHeaderColumns()))}onAllColumns(e){return this.compositionRepository.on(e).pipe(h(n=>n.getHeaderColumns()))}onSortOrder(e,n){return this.compositionRepository.on(n).pipe(h(o=>o.getActiveHeaderColumns()),h(o=>o.filter(s=>s.getFieldId().equals(e))),F(o=>o.length>0),h(o=>o[0].getSortStatus()))}onTemplateColumns(e){return this.compositionRepository.on(e).pipe(h(n=>n.getTemplateColumns()))}onResizeWidth(e){return this.compositionRepository.on(e).pipe(h(n=>n.isResizeWidthEnabled()))}onGroups(e){return this.compositionGroupArchive.on(e)}onHighlightedColumn(e,n){return this.columnHighlightArchive.on(n).pipe(h(o=>o.isHighlighted(e)))}findColumnNames(e){let n=[];return this.compositionRepository.find(e).ifPresent(o=>{n=o.getAllColumns().map(s=>s.getName())}),n}}return i.services=[Dn,yi,qo],i})();class my extends di{constructor(){super()}onColumnsChanged(t){return this.onEvent(t,_n)}onContainerWidthChanged(t){return this.onEvent(t,In).pipe(h(e=>e.getPayload()),F(e=>!!e))}}class fy extends li{configure(t){if(null!=t&&Array.isArray(t)&&0===t.length)return[];const e=t[0];return Object.keys(e).map((n,o)=>this.toColumnConfig(n,e))}toColumnConfig(t,e){return{field:this.getField(t),header:this.getHeader(t),type:this.getType(t,e)}}getField(t){return t}getHeader(t){return t[0].toUpperCase()+t.slice(1)}getType(t,e){return"string"==typeof e[t]?f.STRING:"number"==typeof e[t]?f.NUMBER:e[t]instanceof Date?f.DATE:"boolean"==typeof e[t]?f.BOOLEAN:f.UNKNOWN}}class vy{registerProviders(t){t.provide(Qo),t.provide(Dn,ou),t.provide(iu),t.provide(os),t.provide(Rn),t.provide(An),t.provide(cs),t.provide(Mn),t.provide(ru),t.provide(yi),t.provide(Ye,hy),t.provide(Te,py),t.provide(di,my),t.provide(li,fy)}}let ar=(()=>{class i{constructor(e,n,o){this.compositionWarehouse=e,this.viewTemplateRepository=n,this.editTemplateRepository=o}onHeaderCols(e){return this.compositionWarehouse.onHeaderColumns(e).pipe(h(n=>n.map(o=>{let s;s="function"==typeof o.getHeader()?this.findViewTemplate(m.FUNCTION):this.findViewTemplate(m.HTML);const a=this.findEditTemplate(o.getDataType());return new kc(s,a,o)})))}onAll(e){return this.compositionWarehouse.onAllColumns(e).pipe(h(n=>n.map(o=>{let s;s="function"==typeof o.getHeader()?this.findViewTemplate(m.FUNCTION):this.findViewTemplate(m.HTML);const a=this.findEditTemplate(o.getDataType());return new kc(s,a,o)})))}onTemplateCols(e){return this.compositionWarehouse.onTemplateColumns(e).pipe(h(n=>n.map(o=>{let s;s=o.getCellView()===m.NG_TEMPLATE?o.getColumnConfig().templateRef:this.findViewTemplate(o.getCellView());const a=this.findEditTemplate(o.getDataType());return new DC(s,a,o)})))}findViewTemplate(e){return this.viewTemplateRepository.findTemplate(e===m.FUNCTION?m.FUNCTION:e)}findEditTemplate(e){return this.editTemplateRepository.findTemplate(e)}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(Te),r.KVO(os),r.KVO(cs))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),Cy=(()=>{class i extends G{constructor(e,n,o,s,a,c,u,g,p,b){super(e,n),this.guiState=o,this.structureId=s,this.compositionId=a,this.structureSummariesEventRepository=c,this.translationService=u,this.sourceWarehouse=g,this.formationWarehouse=p,this.compositionTemplateWarehouse=b,this.headerColumns$=this.compositionTemplateWarehouse.onHeaderCols(this.compositionId),this.state$=this.guiState.select(),this.checkboxSelection$=this.selectCheckboxSelection(),this.addClassToHost("gui-flex"),this.guiState.connect("summariesTranslations",this.selectSummariesTranslations()),this.guiState.connect("sourceEmpty",this.selectSourceEmpty()),this.guiState.connect("summaries",this.selectSummaries())}isSummariesTypePresent(e){return null!=e}getSelectorName(){return"gui-structure-summaries-panel"}selectCheckboxSelection(){return this.formationWarehouse.onType(this.structureId).pipe(h(e=>e===te.CHECKBOX))}selectSourceEmpty(){return this.sourceWarehouse.onItemsSize(this.structureId).pipe(h(e=>0===e))}selectSummariesTranslations(){return this.translationService.onTranslation().pipe(h(e=>new MC(e.summariesDistinctValuesTooltip,e.summariesAverageTooltip,e.summariesMinTooltip,e.summariesMaxTooltip,e.summariesMedTooltip,e.summariesCountTooltip)))}selectSummaries(){return this.structureSummariesEventRepository.onSummariesChanged(this.structureId.toReadModelRootId()).pipe(h(e=>e.getSummaries()))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(X),r.rXU(x),r.rXU(J),r.rXU(nr),r.rXU(lt),r.rXU($e),r.rXU(Ie),r.rXU(ar))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-summaries-panel","","enabled",""]],inputs:{enabled:"enabled"},features:[r.Jv_([X]),r.Vt3],attrs:Am,decls:1,vars:1,consts:[[4,"guiLet"],[4,"ngIf"],["class","gui-structure-summaries-cell gui-row-checkbox gui-flex gui-justify-between\n\t gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border\n\t gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis",4,"ngIf"],["class","gui-structure-summaries-cell",3,"width",4,"ngFor","ngForOf"],[1,"gui-structure-summaries-cell","gui-row-checkbox","gui-flex","gui-justify-between","gui-overflow-hidden","gui-relative","gui-py-0","gui-px-6","gui-box-border","gui-leading-4","gui-whitespace-nowrap","gui-overflow-ellipsis"],[1,"gui-structure-summaries-cell"],["class","gui-structure-summaries-value",4,"ngIf"],[1,"gui-structure-summaries-value"],[3,"gui-tooltip"],[1,"gui-summaries-value"]],template:function(e,n){1&e&&r.DNE(0,Wm,2,1,"ng-container",0),2&e&&r.Y8G("guiLet",n.state$)},dependencies:[l.Sq,l.bT,yo,ue,fe,vi],encapsulation:2,changeDetection:0}),i})(),yy=(()=>{class i extends Sc{constructor(e,n){super(e,n)}getSelectorName(){return"gui-info-dialog"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.gRc))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-info-dialog",""]],features:[r.Vt3],attrs:Ym,decls:31,vars:0,consts:[[1,"gui-structure-info-modal","gui-flex","gui-flex-col","gui-p-0","gui-text-lg","gui-w-full"],[1,"gui-text-3xl","gui-mb-8","gui-font-bold"],[1,"gui-text-xl","gui-mb-18","gui-font-bold"],[1,"gui-quote","gui-text-2xl","gui-italic","gui-font-light"],[1,"gui-m-0","gui-px-0","gui-pt-10","gui-pb-6"],[1,"gui-font-bold"],[1,"gui-m-0","gui-pl-9","gui-list-none"],["href","https://generic-ui.com/",1,"gui-mb-6","gui-no-underline","gui-leading-6"],["href","https://generic-ui.com/guide/",1,"gui-mb-6","gui-no-underline","gui-leading-6"],["href","https://github.com/generic-ui/generic-ui/tree/master/ngx-grid",1,"gui-mb-6","gui-no-underline","gui-leading-6"],["href","https://github.com/generic-ui/generic-ui/issues",1,"gui-mb-6","gui-no-underline","gui-leading-6"]],template:function(e,n){1&e&&(r.j41(0,"div",0)(1,"p",1),r.EFF(2," Generic UI Grid "),r.k0s(),r.j41(3,"p",2),r.EFF(4," ver. 0.18.1 "),r.k0s(),r.j41(5,"p",3),r.EFF(6,' "The best way to success is to help others succeed." '),r.k0s(),r.nrm(7,"br"),r.j41(8,"section",4)(9,"p",5),r.EFF(10,"Links:"),r.k0s(),r.j41(11,"ul",6)(12,"li")(13,"a",7),r.EFF(14,"Website"),r.k0s()(),r.j41(15,"li")(16,"a",8),r.EFF(17,"Documentation"),r.k0s()(),r.j41(18,"li")(19,"a",9),r.EFF(20,"Github"),r.k0s()()(),r.nrm(21,"br"),r.j41(22,"p",5),r.EFF(23,"Feedback:"),r.k0s(),r.j41(24,"ul",6)(25,"li")(26,"a",10),r.EFF(27,"Report a bug"),r.k0s()(),r.j41(28,"li")(29,"a",10),r.EFF(30,"Suggest an idea"),r.k0s()()()()())},encapsulation:2,changeDetection:0}),i})(),us=(()=>{class i extends G{constructor(e,n,o,s,a,c){super(e,n),this.changeDetectorRef=e,this.state=o,this.compositionId=s,this.compositionCommandInvoker=a,this.compositionTemplateWarehouse=c,this.state$=this.state.select(),this.addClassToHost("gui-block"),this.state.connect("columns",this.selectColumns()),this.state.connect("enabledColumnsCount",this.selectEnabledColumnsCount())}toggleColumn(e){event.stopPropagation(),e.isEnabled()?this.compositionCommandInvoker.disableColumn(e.getColumnDefinitionId(),this.compositionId):this.compositionCommandInvoker.enableColumn(e.getColumnDefinitionId(),this.compositionId)}getSelectorName(){return"gui-structure-column-manager"}selectColumns(){return this.compositionTemplateWarehouse.onAll(this.compositionId)}selectEnabledColumnsCount(){return this.compositionTemplateWarehouse.onAll(this.compositionId).pipe(h(e=>e.map(n=>+n.isEnabled()).reduce((n,o)=>n+o)))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(X),r.rXU(J),r.rXU(Ye),r.rXU(ar))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-column-manager",""]],features:[r.Jv_([X]),r.Vt3],attrs:Km,decls:1,vars:1,consts:[["class","gui-structure-ordered-list gui-p-0 gui-my-4 gui-list-none gui-overflow-auto",4,"guiLet"],[1,"gui-structure-ordered-list","gui-p-0","gui-my-4","gui-list-none","gui-overflow-auto"],["class","gui-px-13 gui-py-6 gui-cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"gui-px-13","gui-py-6","gui-cursor-pointer",3,"click"],[3,"checked","disabled"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&r.DNE(0,Jm,2,1,"ol",0),2&e&&r.Y8G("guiLet",n.state$)},dependencies:[l.Sq,l.T3,Nt,ue],encapsulation:2,changeDetection:0}),i})(),mu=(()=>{class i extends G{constructor(e,n){super(e,n)}getSelectorName(){return"gui-structure-dialog-column-manager"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-dialog-column-manager",""]],features:[r.Vt3],attrs:Zm,decls:4,vars:3,consts:[[1,"gui-dialog-title"],["gui-structure-column-manager","",1,"-gui-mx-10"]],template:function(e,n){1&e&&(r.j41(0,"div",0),r.EFF(1),r.nI1(2,"guiTranslate"),r.k0s(),r.nrm(3,"div",1)),2&e&&(r.R7$(),r.JRh(r.bMT(2,1,"columnManagerModalTitle")))},dependencies:[us,fe],encapsulation:2,changeDetection:0}),i})(),cr=(()=>{class i{convertTheme(e){switch(e){case v.FABRIC:return D.FABRIC;case v.MATERIAL:return D.MATERIAL;case v.GENERIC:return D.GENERIC;case v.LIGHT:return D.LIGHT;case v.DARK:return D.DARK;default:return D.FABRIC}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),fu=(()=>{class i extends ge{constructor(e,n,o,s){super(),this.injector=e,this.schemaWarehouse=n,this.structureThemeConverter=o,this.fabricDialogService=s}open(e,n,o){o||(o=this.injector);const s=r.zZn.create({parent:o,providers:[{provide:J,useValue:e}]});this.schemaWarehouse.findTheme(n).ifPresent(a=>{this.fabricDialogService.open({injector:s,component:mu,theme:this.structureThemeConverter.convertTheme(a)})})}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.zZn),r.KVO(Ue),r.KVO(cr),r.KVO(si))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),Sy=(()=>{class i extends G{constructor(e,n,o,s,a,c){super(e,n),this.structureId=o,this.schemaReadModelRootId=s,this.schemaPublisher=a,this.schemaWarehouse=c,this.coloring=this.createColoringOptions(),this.themes=this.createThemeOptions(),this.rowColoring$=this.selectRowColoring(),this.theme$=this.selectTheme(),this.verticalGrid$=this.schemaWarehouse.onVerticalGrid(this.schemaReadModelRootId),this.horizontalGrid$=this.schemaWarehouse.onHorizontalGrid(this.schemaReadModelRootId)}toggleTheme(e){this.schemaPublisher.setTheme(this.toTheme(e.value),this.schemaReadModelRootId,this.structureId)}toggleRowColoring(e){this.schemaPublisher.setRowColoring(this.toRowColoring(e.value),this.schemaReadModelRootId)}toggleVerticalGrid(e){event.stopPropagation(),this.schemaPublisher.setVerticalGrid(!e,this.schemaReadModelRootId)}toggleHorizontalGrid(e){event.stopPropagation(),this.schemaPublisher.setHorizontalGrid(!e,this.schemaReadModelRootId)}getSelectorName(){return"gui-structure-schema-manager"}createColoringOptions(){return Object.keys(H).map(e=>H[e]).filter(e=>!Number.isInteger(e)).map(e=>({value:e,name:e}))}createThemeOptions(){return Object.keys(v).map(e=>v[e]).filter(e=>!Number.isInteger(e)).map(e=>({value:e,name:e}))}selectRowColoring(){return this.schemaWarehouse.onRowColoring(this.schemaReadModelRootId).pipe(h(e=>({value:H[e],name:H[e]})))}selectTheme(){return this.schemaWarehouse.onTheme(this.schemaReadModelRootId).pipe(h(e=>({value:v[e],name:v[e]})))}toTheme(e){switch(e.toLowerCase()){case"fabric":default:return v.FABRIC;case"material":return v.MATERIAL;case"generic":return v.GENERIC;case"light":return v.LIGHT;case"dark":return v.DARK}}toRowColoring(e){switch(e.toLowerCase()){case"none":default:return L.NONE;case"odd":return L.ODD;case"even":return L.EVEN}}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(x),r.rXU(ie),r.rXU(Me),r.rXU(Ue))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-schema-manager",""]],features:[r.Vt3],attrs:ef,decls:19,vars:21,consts:[[1,"gui-schema-manager","gui-flex","gui-flex-col"],[1,"gui-dialog-title","gui-mb-8"],[1,"gui-structure-schema-manager-select","gui-flex","gui-flex-col"],[1,"gui-mb-4","gui-text-xs"],[3,"optionChanged","options","selected","width"],[1,"gui-structure-ordered-list","gui-mx-10","gui-p-0","gui-my-4","gui-list-none","gui-overflow-auto"],["class","gui-px-13 gui-py-6 gui-cursor-pointer",3,"click",4,"guiLet"],[1,"gui-px-13","gui-py-6","gui-cursor-pointer",3,"click"],[3,"checked"]],template:function(e,n){1&e&&(r.j41(0,"div",0)(1,"div",1),r.EFF(2),r.nI1(3,"guiTranslate"),r.k0s(),r.j41(4,"div",2)(5,"span",3),r.EFF(6),r.nI1(7,"guiTranslate"),r.k0s(),r.j41(8,"gui-select",4),r.nI1(9,"guiPush"),r.bIt("optionChanged",function(s){return n.toggleTheme(s)}),r.k0s()(),r.j41(10,"div",2)(11,"span",3),r.EFF(12),r.nI1(13,"guiTranslate"),r.k0s(),r.j41(14,"gui-select",4),r.nI1(15,"guiPush"),r.bIt("optionChanged",function(s){return n.toggleRowColoring(s)}),r.k0s()(),r.j41(16,"ol",5),r.DNE(17,tf,4,4,"li",6)(18,rf,4,4,"li",6),r.k0s()()),2&e&&(r.R7$(2),r.JRh(r.bMT(3,11,"themeManagerModalTitle")),r.R7$(4),r.JRh(r.bMT(7,13,"themeManagerModalTheme")),r.R7$(2),r.Y8G("options",n.themes)("selected",r.bMT(9,15,n.theme$))("width",180),r.R7$(4),r.SpI(" ",r.bMT(13,17,"themeManagerModalRowColoring")," "),r.R7$(2),r.Y8G("options",n.coloring)("selected",r.bMT(15,19,n.rowColoring$))("width",180),r.R7$(3),r.Y8G("guiLet",n.verticalGrid$),r.R7$(),r.Y8G("guiLet",n.horizontalGrid$))},dependencies:[Nt,xo,ue,fe,vi],encapsulation:2,changeDetection:0}),i})(),xy=(()=>{class i extends Z{constructor(e){super(e)}getSelectorName(){return"gui-schema-manager-dialog"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-schema-manager-dialog",""]],features:[r.Vt3],attrs:nf,decls:1,vars:0,consts:[["gui-structure-schema-manager",""]],template:function(e,n){1&e&&r.nrm(0,"div",0)},dependencies:[Sy],encapsulation:2,changeDetection:0}),i})(),vu=(()=>{class i extends ge{constructor(e,n){super(),this.injector=e,this.fabricDialogService=n}open(e,n){n||(n=this.injector);const o=r.zZn.create({providers:[{provide:ie,useValue:e}],parent:n});this.fabricDialogService.open({injector:o,component:xy})}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.zZn),r.KVO(si))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),bu=(()=>{class i extends hi{constructor(e,n){super(e,n)}getSelectorName(){return"gui-structure-column-manager-icon"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.gRc))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-column-manager-icon",""]],features:[r.Vt3],attrs:of,decls:7,vars:0,consts:[["data-name","Layer 1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 10.32 10.31"],["x1","9.57","y1","3.65","x2","0.75","y2","3.65",1,"cls-1"],["x1","9.57","y1","0.75","x2","0.75","y2","0.75",1,"cls-2"],["x1","0.75","y1","9.56","x2","0.75","y2","0.88",1,"cls-2"],["x1","3.69","y1","9.65","x2","3.69","y2","3.89",1,"cls-1"],["x1","6.63","y1","9.56","x2","6.63","y2","3.89",1,"cls-1"],["x1","9.57","y1","9.56","x2","9.57","y2","0.88",1,"cls-2"]],template:function(e,n){1&e&&(r.qSk(),r.j41(0,"svg",0),r.nrm(1,"line",1)(2,"line",2)(3,"line",3)(4,"line",4)(5,"line",5)(6,"line",6),r.k0s())},encapsulation:2,changeDetection:0}),i})(),wy=(()=>{class i extends hi{constructor(e,n){super(e,n)}getSelectorName(){return"gui-structure-schema-manager-icon"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.gRc))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-schema-manager-icon",""]],features:[r.Vt3],attrs:sf,decls:11,vars:0,consts:[["height","24","viewBox","0 0 32 24","width","32","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -4)"],["d","M23.337,4H32v6H23.337Z","data-name","Path 303","id","Path_303"],["d","M11.662,4h8.662v6H11.662Z","data-name","Path 304","id","Path_304"],["d","M0,4H8.662v6H0Z","data-name","Path 305","id","Path_305"],["d","M23.337,22H32v6H23.337Z","data-name","Path 306","id","Path_306"],["d","M0,22H8.662v6H0Z","data-name","Path 307","id","Path_307"],["d","M11.662,22h8.662v6H11.662Z","data-name","Path 308","id","Path_308"],["d","M23.337,13H32v6H23.337Z","data-name","Path 309","id","Path_309"],["d","M11.662,13h8.662v6H11.662Z","data-name","Path 310","id","Path_310"],["d","M0,13H8.662v6H0Z","data-name","Path 311","id","Path_311"]],template:function(e,n){1&e&&(r.qSk(),r.j41(0,"svg",0)(1,"g",1),r.nrm(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7)(8,"path",8)(9,"path",9)(10,"path",10),r.k0s()())},encapsulation:2,changeDetection:0}),i})(),Ey=(()=>{class i extends G{constructor(e,n,o,s,a){super(e,n),this.structureId=o,this.searchCommandDispatcher=s,this.searchWarehouse=a,this.phrase$=this.searchWarehouse.onPhrase(this.structureId)}clearSearch(){event.stopPropagation(),this.searchCommandDispatcher.search("",this.structureId)}getSelectorName(){return"gui-active-search"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(x),r.rXU(Be),r.rXU(Ft))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-active-search",""]],features:[r.Vt3],attrs:af,decls:1,vars:1,consts:[[4,"guiLet"],["gui-button","",3,"click","outline","primary"]],template:function(e,n){1&e&&r.DNE(0,cf,9,3,"ng-container",0),2&e&&r.Y8G("guiLet",n.phrase$)},dependencies:[rt,Xa,ue],encapsulation:2,changeDetection:0}),i})(),_y=(()=>{class i extends G{constructor(e,n,o,s,a){super(e,n),this.structureId=o,this.filterWarehouse=s,this.filterCommandDispatcher=a,this.activeFilters$=this.filterWarehouse.onActiveFilters(this.structureId)}removeFilter(e){this.filterCommandDispatcher.remove(e.getFilterId(),this.structureId)}getSelectorName(){return"gui-active-filter-list"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(x),r.rXU(ut),r.rXU(Ke))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-active-filter-list",""]],features:[r.Vt3],attrs:uf,decls:2,vars:1,consts:[[4,"guiLet"],["gui-active-search",""],[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,n){1&e&&(r.DNE(0,df,2,1,"ng-container",0),r.nrm(1,"div",1)),2&e&&r.Y8G("guiLet",n.activeFilters$)},dependencies:[l.Sq,ue,Ey],encapsulation:2,changeDetection:0}),i})(),Iy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=r.VBU({type:i,selectors:[["ng-component"]],decls:8,vars:3,consts:[["gui-active-filter-list",""],["gui-button","",3,"text"],["gui-button","",3,"outline","primary"]],template:function(e,n){1&e&&(r.j41(0,"h3"),r.EFF(1,"Active filters"),r.k0s(),r.nrm(2,"div",0),r.j41(3,"div")(4,"button",1),r.EFF(5," Cancel "),r.k0s(),r.j41(6,"button",2),r.EFF(7," Clear All "),r.k0s()()),2&e&&(r.R7$(4),r.Y8G("text",!0),r.R7$(2),r.Y8G("outline",!0)("primary",!0))},dependencies:[_y,rt],encapsulation:2}),i})(),Cu=(()=>{class i extends ge{constructor(e,n,o,s){super(),this.injector=e,this.schemaWarehouse=n,this.structureThemeConverter=o,this.fabricDialogService=s}open(e,n){const o=r.zZn.create({parent:this.injector,providers:[{provide:ie,useValue:e},{provide:x,useValue:n}]});this.schemaWarehouse.findTheme(e).ifPresent(s=>{this.fabricDialogService.open({injector:o,component:Iy,theme:this.structureThemeConverter.convertTheme(s)})})}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.zZn),r.KVO(Ue),r.KVO(cr),r.KVO(si))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),Ty=(()=>{class i{constructor(e,n,o,s){this.el=e,this.structureId=n,this.activeFilterService=o,this.schemaReadModelRootId=s}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(x),r.rXU(Cu),r.rXU(ie))},i.\u0275dir=r.FsC({type:i,selectors:[["","gui-active-filter-menu-trigger",""]]}),i})(),Fy=(()=>{class i extends hi{constructor(e,n){super(e,n)}getSelectorName(){return"gui-structure-info-icon"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.gRc))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-info-icon",""]],features:[r.Vt3],attrs:gf,decls:3,vars:0,consts:[["data-name","Layer 1","viewBox","0 0 10.08 10.08","xmlns","http://www.w3.org/2000/svg"],["d","M401.64,307.76c0-.28.23-.45.54-.45s.55.17.55.45v0a.49.49,0,0,1-.55.46.48.48,0,0,1-.54-.46Zm.05,1.27a.49.49,0,0,1,1,0v2.54a.49.49,0,0,1-1,0Z","transform","translate(-397.14 -304.64)",1,"cls-1"],["cx","5.04","cy","5.04","r","4.54",1,"cls-2"]],template:function(e,n){1&e&&(r.qSk(),r.j41(0,"svg",0),r.nrm(1,"path",1)(2,"circle",2),r.k0s())},encapsulation:2,changeDetection:0}),i})(),My=(()=>{class i{transform(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=r.EJ8({name:"numberFormatter",type:i,pure:!0}),i})(),Dy=(()=>{class i extends G{constructor(e,n,o,s,a,c,u,g,p,b,E,P,U){super(e,n),this.changeDetectorRef=e,this.injector=o,this.state=s,this.sourceWarehouse=a,this.dialog=c,this.compositionId=u,this.structureId=g,this.schemaReadModelRootId=p,this.menuColumnManagerService=b,this.translationService=E,this.schemaManagerService=P,this.structureInfoPanelArchive=U,this.state$=this.state.select(),this.totalItemsSize$=this.sourceWarehouse.onOriginSize(this.structureId),this.infoModal=yy,this.state.connect("infoPanelConfig",this.structureInfoPanelArchive.on()),this.state.connect("preparedItemsSize",this.sourceWarehouse.onPreparedItems(this.structureId).pipe(h(V=>V.length))),this.state.connect("translations",this.translationService.onTranslation())}openInfo(){this.dialog.open({component:this.infoModal})}openColumnManager(){this.menuColumnManagerService.open(this.compositionId,this.schemaReadModelRootId,this.injector)}openSchemaManager(){this.schemaManagerService.open(this.schemaReadModelRootId,this.injector)}getSelectorName(){return"gui-structure-info-panel"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(r.zZn),r.rXU(X),r.rXU($e),r.rXU(si),r.rXU(J),r.rXU(x),r.rXU(ie),r.rXU(fu),r.rXU(lt),r.rXU(vu),r.rXU(ui))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-info-panel",""]],features:[r.Jv_([X]),r.Vt3],attrs:hf,decls:1,vars:1,consts:[[4,"guiLet"],[1,"gui-right-section"],[3,"click",4,"ngIf"],[4,"ngIf"],["gui-active-filter-menu-trigger","",4,"ngIf"],["gui-active-filter-menu-trigger",""],[3,"click"],["gui-structure-schema-manager-icon","",3,"gui-tooltip"],["gui-structure-column-manager-icon","",3,"gui-tooltip"],["gui-structure-info-icon","",3,"gui-tooltip"]],template:function(e,n){1&e&&r.DNE(0,xf,7,4,"ng-container",0),2&e&&r.Y8G("guiLet",n.state$)},dependencies:[l.bT,yo,bu,wy,Ty,ue,Fy,My,fe],encapsulation:2,changeDetection:0}),i})(),Pn=(()=>{class i{constructor(){this.destroy$=new Ge(1)}register(e,n,o){return e.pipe(pe(this.destroy$)).subscribe(s=>n(s),s=>console.log(s),o?()=>o():()=>{})}destroy(){this.destroy$.next(),this.destroy$.complete()}ngOnDestroy(){this.destroy()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),ky=(()=>{class i extends hi{constructor(e,n){super(e,n)}getSelectorName(){return"gui-search-icon"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.gRc))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-search-icon",""]],features:[r.Vt3],attrs:wf,decls:3,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","width","10.231","height","10.601","viewBox","0 0 10.231 10.601",1,"gui-search-icon-svg"],["x2","1.77","y2","1.77","transform","translate(7.4 7.77)","fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5"],["cx","4.02","cy","4.02","r","4.02","transform","translate(0.5 0.5)","stroke-width","1","stroke-linecap","round","stroke-linejoin","round","fill","none"]],template:function(e,n){1&e&&(r.qSk(),r.j41(0,"svg",0),r.nrm(1,"line",1)(2,"circle",2),r.k0s())},encapsulation:2,changeDetection:0}),i})(),Ry=(()=>{class i extends G{constructor(e,n,o,s,a,c,u){super(n,o),this.formBuilder=e,this.changeDetectorRef=n,this.effects=s,this.structureId=a,this.searchCommandDispatcher=c,this.searchWarehouse=u,this.placeholder$=this.searchWarehouse.onPlaceholder(this.structureId),this.searchingEnabled$=this.searchWarehouse.onSearchEnabled(this.structureId);const g={};g[i.FORM_SEARCH_NAME]="",this.searchForm=this.formBuilder.group(g),this.registerOnPhraseEffect()}ngOnInit(){this.registerOnChangesEffect()}clear(){this.searchForm.reset()}getSelectorName(){return"gui-search-bar"}selectPhrase(){return Ot(this.searchForm.controls[i.FORM_SEARCH_NAME].valueChanges.pipe((0,Ep.B)(200)))}registerOnChangesEffect(){this.searchInputSubscription=this.effects.register(this.selectPhrase(),e=>{this.searchCommandDispatcher.search(e,this.structureId)})}registerOnPhraseEffect(){this.effects.register(this.searchWarehouse.onPhrase(this.structureId),e=>{void 0===e&&(e=null);const n={};n[i.FORM_SEARCH_NAME]=e,e!==this.searchForm.get([i.FORM_SEARCH_NAME]).value&&(this.unregisterObserveChangesEffect(),this.searchForm.setValue(n),this.registerOnChangesEffect())})}unregisterObserveChangesEffect(){this.searchInputSubscription.unsubscribe()}}return i.FORM_SEARCH_NAME="searchPhrase",i.\u0275fac=function(e){return new(e||i)(r.rXU(y.ok),r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(Pn),r.rXU(x),r.rXU(Be),r.rXU(Ft))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-search-bar",""]],viewQuery:function(e,n){if(1&e&&r.GBs(Ef,5,r.aKT),2&e){let o;r.mGM(o=r.lsd())&&(n.formRef=o.first)}},features:[r.Jv_([Pn]),r.Vt3],attrs:_f,decls:1,vars:1,consts:[["formRef",""],[4,"guiIf"],[1,"gui-flex","gui-relative","gui-w-full",3,"formGroup"],["gui-search-icon",""],["formControlName","searchPhrase",1,"gui-border-0","gui-w-full","gui-h-full","gui-py-5","gui-pr-5","gui-pl-21",3,"placeholder"],["class","gui-clear-search-icon",3,"click",4,"ngIf"],[1,"gui-clear-search-icon",3,"click"]],template:function(e,n){1&e&&r.DNE(0,Tf,7,5,"ng-container",1),2&e&&r.Y8G("guiIf",n.searchingEnabled$)},dependencies:[l.bT,y.qT,y.me,y.BC,y.cb,y.j4,y.JD,Bo,ky,vi],styles:[".gui-search-bar form{background:#fff}.gui-search-bar form:hover .gui-search-icon-svg line,.gui-search-bar form:hover .gui-search-icon-svg circle{stroke:#333}.gui-search-bar .gui-search-icon-svg{height:17px;left:10px;position:absolute;top:6px;width:17px}.gui-search-bar .gui-search-icon-svg line,.gui-search-bar .gui-search-icon-svg circle{stroke:#ccc;transition:stroke .3s ease-in-out}\n"],encapsulation:2,changeDetection:0}),i})(),Ay=(()=>{class i extends Z{constructor(e){super(e),this.addClassToHost("gui-p-6"),this.addClassToHost("gui-border-b"),this.addClassToHost("gui-border-b-solid")}getSelectorName(){return"gui-structure-top-panel"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-top-panel",""]],features:[r.Vt3],attrs:Ff,decls:1,vars:0,consts:[["gui-search-bar","",1,"gui-flex","gui-items-center","gui-h-full","gui-w-3/5","gui-mr-auto"]],template:function(e,n){1&e&&r.nrm(0,"div",0)},dependencies:[Ry],encapsulation:2,changeDetection:0}),i})(),Py=(()=>{class i extends Z{constructor(e){super(e),this.addClassToHost("gui-py-23"),this.addClassToHost("gui-px-6")}ngOnChanges(e){k(e.items,()=>{0===this.items.length?(this.removeClassFromHost("gui-hidden"),this.addClassToHost("gui-block")):(this.removeClassFromHost("gui-block"),this.addClassToHost("gui-hidden"))})}getSelectorName(){return"gui-empty-source"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-empty-source","","items",""]],inputs:{items:"items"},features:[r.Vt3,r.OA$],attrs:Mf,decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,n){1&e&&r.DNE(0,Df,3,3,"ng-container",0),2&e&&r.Y8G("ngIf",0===n.items.length)},dependencies:[l.bT,fe],encapsulation:2,changeDetection:0}),i})();class Yt{constructor(){}}let yu=(()=>{class i extends Z{constructor(e){super(e)}getSelectorName(){return"gui-structure-menu-column-manager"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-menu-column-manager",""]],features:[r.Vt3],attrs:kf,decls:1,vars:0,consts:[["gui-structure-column-manager",""]],template:function(e,n){1&e&&r.nrm(0,"div",0)},dependencies:[us],encapsulation:2,changeDetection:0}),i})(),Gy=(()=>{class i extends G{constructor(e,n,o,s,a,c){super(e,n),this.state=o,this.structureId=s,this.filterWarehouse=a,this.filterCommandInvoker=c,this.state$=this.state.select(),this.state.connect("uniqueValues",this.selectUniqueValues()),this.state.connect("selectAllChecked",this.isSelectAllChecked()),this.state.connect("selectAllIndeterminate",this.isSelectAllIndeterminate())}set fieldId(e){this.state.setValue({fieldId:e})}toggleAllSelect(){event.stopPropagation();const e=this.state.getValue("fieldId");this.state.getValue("selectAllChecked")?this.filterCommandInvoker.unselectAllUniqueFilter(e,this.structureId):this.filterCommandInvoker.selectAllUniqueFilter(e,this.structureId)}toggleSelect(e){event.stopPropagation();const n=this.state.getValue("fieldId");e.isEnabled()?this.filterCommandInvoker.unselectUniqueFilter(n,e.getId(),this.structureId):this.filterCommandInvoker.selectUniqueFilter(n,e.getId(),this.structureId)}clearFilters(){const e=this.state.getValue("fieldId");this.filterCommandInvoker.selectAllUniqueFilter(e,this.structureId)}getSelectorName(){return"gui-unique-value-list"}selectUniqueValues(){return this.state.select("fieldId").pipe(xe(e=>this.filterWarehouse.onUniqueValues(this.structureId).pipe(h(n=>n.getValues(e)))))}isSelectAllChecked(){return this.state.select("fieldId").pipe(xe(e=>this.filterWarehouse.onUniqueValues(this.structureId).pipe(h(n=>n.isSelectAllChecked(e)))))}isSelectAllIndeterminate(){return this.state.select("fieldId").pipe(xe(e=>this.filterWarehouse.onUniqueValues(this.structureId).pipe(h(n=>n.isIndeterminate(e)))))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(X),r.rXU(x),r.rXU(ut),r.rXU(Ke))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-unique-value-list","","fieldId",""]],inputs:{fieldId:"fieldId"},features:[r.Jv_([X]),r.Vt3],attrs:Rf,decls:1,vars:1,consts:[[4,"guiLet"],[3,"changed","checked","indeterminate"],[1,"gui-unique-value-list-container","gui-overflow-y-auto","gui-overflow-x-hidden"],[4,"ngFor","ngForOf"],[1,"gui-unique-value-list-actions","gui-px-4","gui-pb-4","gui-pt-2","gui-flex","gui-justify-end"],["gui-button","",1,"gui-clear-unique-filters","gui-px-4","gui-py-2",3,"click","outline","primary"],[3,"changed","checked"]],template:function(e,n){1&e&&r.DNE(0,Pf,8,5,"ng-container",0),2&e&&r.Y8G("guiLet",n.state$)},dependencies:[l.Sq,rt,Nt,ue],styles:[".gui-unique-value-list-container{max-height:300px}\n"],encapsulation:2,changeDetection:0}),i})();var kt=function(i){return i[i.UP=0]="UP",i[i.DOWN=1]="DOWN",i[i.LEFT=2]="LEFT",i[i.RIGHT=3]="RIGHT",i}(kt||{});let Gn=(()=>{class i extends hi{constructor(e,n){super(e,n),this.position=kt.UP,this.sort&&this.addClassToHost("gui-structure-column-menu-sort-icon"),this.styleModifier=new je(e.nativeElement)}ngOnChanges(e){k(e.position,()=>{this.position&&this.styleModifier.getHost().setStyleByName("transform",this.getTransformValue())})}getSelectorName(){return"gui-structure-column-menu-arrow-icon"}getTransformValue(){return"rotate("+this.getRotationDeg()+"deg)"}getRotationDeg(){switch(this.position){case kt.UP:return 0;case kt.DOWN:return 180;case kt.LEFT:return-90;case kt.RIGHT:return 90;default:return 0}}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.gRc))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-arrow-icon",""]],inputs:{position:"position",sort:"sort"},features:[r.Vt3,r.OA$],attrs:Gf,decls:4,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 10.04 11.72"],["x1","5.02","y1","2.15","x2","5.02","y2","10.97",1,"cls-1"],["x1","5.02","y1","0.75","x2","9.29","y2","5.02",1,"cls-1"],["x1","5.02","y1","0.75","x2","0.75","y2","5.02",1,"cls-1"]],template:function(e,n){1&e&&(r.qSk(),r.j41(0,"svg",0),r.nrm(1,"line",1)(2,"line",2)(3,"line",3),r.k0s())},encapsulation:2,changeDetection:0}),i})(),Su=(()=>{class i extends G{constructor(e,n,o,s,a,c,u){super(e,n),this.changeDetectorRef=e,this.state=o,this.compositionId=s,this.structureId=a,this.sortingCommandDispatcher=c,this.compositionReadModelService=u,this.placement=oi.Right,this.status=W,this.StructureArrowPosition=kt,this.sortOrder$=this.state.select("sortOrder"),this.state.connect("sortOrder",this.selectSortOrder())}set column(e){this.state.setValue({fieldId:e.getFieldId()})}isAscSort(){return this.state.getValue("sortOrder")===W.ASC}isDescSort(){return this.state.getValue("sortOrder")===W.DESC}isNoneSort(){return this.state.getValue("sortOrder")===W.NONE}setSortOrder(e){event.preventDefault(),event.stopPropagation();const n=this.state.getValue("fieldId");this.sortingCommandDispatcher.setSortOrder(n,e,this.compositionId,this.structureId)}getSelectorName(){return"gui-structure-column-config-sort"}selectSortOrder(){return this.state.select("fieldId").pipe(xe(e=>this.compositionReadModelService.onSortOrder(e,this.compositionId)))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(X),r.rXU(J),r.rXU(x),r.rXU(He),r.rXU(Te))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-column-config-sort","","column","","dropdownTextTranslation",""]],inputs:{column:"column",dropdownTextTranslation:"dropdownTextTranslation"},features:[r.Jv_([X]),r.Vt3],attrs:Vf,decls:1,vars:1,consts:[["class","gui-header-menu-dropdown",3,"dropdownText","placement","showOnHover","width",4,"guiLet"],[1,"gui-header-menu-dropdown",3,"dropdownText","placement","showOnHover","width"],[3,"click"],[1,"gui-sort-title"],["gui-structure-arrow-icon","",3,"sort"],["gui-structure-arrow-icon","",3,"position","sort"]],template:function(e,n){1&e&&r.DNE(0,Of,14,22,"gui-dropdown",0),2&e&&r.Y8G("guiLet",n.sortOrder$)},dependencies:[ip,rp,ue,Gn,fe],encapsulation:2,changeDetection:0}),i})(),xu=(()=>{class i extends Z{constructor(e){super(e),this.columnHidden=new r.bkB}hideColumn(){this.columnHidden.emit()}getSelectorName(){return"gui-structure-column-config-column-hide"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-column-config-column-hide",""]],inputs:{column:"column"},outputs:{columnHidden:"columnHidden"},features:[r.Vt3],attrs:Nf,decls:3,vars:3,consts:[[1,"gui-header-menu-item",3,"click"]],template:function(e,n){1&e&&(r.j41(0,"div",0),r.bIt("click",function(){return n.hideColumn()}),r.EFF(1),r.nI1(2,"guiTranslate"),r.k0s()),2&e&&(r.R7$(),r.SpI(" ",r.bMT(2,1,"headerMenuMainTabHideColumn"),"\n"))},dependencies:[fe],encapsulation:2,changeDetection:0}),i})(),wu=(()=>{class i extends Z{constructor(e){super(e),this.movedLeft=new r.bkB,this.movedRight=new r.bkB,this.StructureArrowPosition=kt}moveLeft(){this.movedLeft.emit()}moveRight(){this.movedRight.emit()}getSelectorName(){return"gui-structure-column-config-column-move"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-column-config-column-move","","column",""]],inputs:{column:"column"},outputs:{movedLeft:"movedLeft",movedRight:"movedRight"},features:[r.Vt3],attrs:Bf,decls:9,vars:8,consts:[[1,"gui-header-menu-column-move"],[1,"gui-header-menu-column-move-item","left",3,"click"],["gui-structure-arrow-icon","",3,"position"],[1,"gui-header-menu-column-move-item","right",3,"click"]],template:function(e,n){1&e&&(r.j41(0,"div",0)(1,"div",1),r.bIt("click",function(){return n.moveLeft()}),r.nrm(2,"div",2),r.EFF(3),r.nI1(4,"guiTranslate"),r.k0s(),r.j41(5,"div",3),r.bIt("click",function(){return n.moveRight()}),r.EFF(6),r.nI1(7,"guiTranslate"),r.nrm(8,"div",2),r.k0s()()),2&e&&(r.R7$(2),r.Y8G("position",n.StructureArrowPosition.LEFT),r.R7$(),r.SpI(" ",r.bMT(4,4,"headerMenuMainTabMoveLeft")," "),r.R7$(3),r.SpI(" ",r.bMT(7,6,"headerMenuMainTabMoveRight")," "),r.R7$(2),r.Y8G("position",n.StructureArrowPosition.RIGHT))},dependencies:[Gn,fe],encapsulation:2,changeDetection:0}),i})(),ls=(()=>{class i extends G{constructor(e,n,o,s,a,c,u,g,p){super(e,n),this.changeDetectorRef=e,this.state=o,this.translationFacade=s,this.structureColumnMenuConfigArchive=a,this.compositionId=c,this.compositionCommandInvoker=u,this.injector=g,this.column=p,this.state$=this.state.select(),this.structureColumnConfigService=this.injector.get(Vn),this.state.connect("isEnabled",this.selectIsEnabled()),this.state.connect("config",this.structureColumnMenuConfigArchive.on()),this.state.connect("translations",this.translationFacade.onTranslation())}isEnabled(e){return e.isEnabled()}hideColumn(){this.compositionCommandInvoker.disableColumn(this.column.getColumnDefinitionId(),this.compositionId),this.structureColumnConfigService.close()}moveLeft(){this.compositionCommandInvoker.moveLeft(this.column.getColumnDefinitionId(),this.compositionId),this.structureColumnConfigService.close()}moveRight(){this.compositionCommandInvoker.moveRight(this.column.getColumnDefinitionId(),this.compositionId),this.structureColumnConfigService.close()}highlightColumn(){this.compositionCommandInvoker.highlightColumn(this.column.getColumnDefinitionId(),this.compositionId),this.structureColumnConfigService.close()}getSelectorName(){return"gui-column-config"}selectIsEnabled(){return this.structureColumnMenuConfigArchive.on().pipe(h(e=>e.isEnabled()))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(X),r.rXU(lt),r.rXU(Qi),r.rXU(J),r.rXU(Ye),r.rXU(r.zZn),r.rXU("column"))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-column-config",""]],viewQuery:function(e,n){if(1&e&&r.GBs(Hf,5,r.aKT),2&e){let o;r.mGM(o=r.lsd())&&(n.headerSortMenu=o.first)}},features:[r.Jv_([X]),r.Vt3],attrs:Uf,decls:1,vars:1,consts:[[4,"guiLet"],["class","gui-header-menu-tab",4,"ngIf"],[1,"gui-header-menu-tab"],[3,"active","menu"],[4,"ngIf"],[1,"gui-tab-item-dropdown",3,"tab"],["gui-structure-column-config-sort","",3,"column","dropdownTextTranslation",4,"ngIf"],["gui-structure-column-config-column-hide","",3,"columnHidden","column"],[1,"gui-header-menu-item",3,"click"],["gui-structure-column-config-column-move","",3,"movedLeft","movedRight","column"],["gui-structure-column-config-sort","",3,"column","dropdownTextTranslation"],[3,"tab"],["gui-unique-value-list","",3,"fieldId"],["gui-structure-menu-column-manager",""]],template:function(e,n){1&e&&r.DNE(0,Wf,2,1,"ng-container",0),2&e&&r.Y8G("guiLet",n.state$)},dependencies:[l.bT,mp,fp,ue,yu,Gy,Su,xu,wu,fe],encapsulation:2,changeDetection:0}),i})(),Vn=(()=>{class i extends ge{constructor(e,n,o,s,a){super(),this.injector=e,this.schemaReadModelRootId=n,this.schemaWarehouse=o,this.structureThemeConverter=s,this.inlineDialogService=a}open(e,n){this.close();const o=r.zZn.create({providers:[{provide:"column",useValue:n}],parent:this.injector});this.schemaWarehouse.onceTheme(this.schemaReadModelRootId).pipe(this.hermesTakeUntil()).subscribe(s=>{this.inlineDialogService.open(e,ls,{injector:o,placement:st.BOTTOM,offset:-34,theme:this.structureThemeConverter.convertTheme(s),customClass:"gui-inline-dialog-header-menu"})})}close(){this.inlineDialogService.close()}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.zZn),r.KVO(ie),r.KVO(Ue),r.KVO(cr),r.KVO(Ni))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),Vy=(()=>{class i extends bc{constructor(e,n,o,s){super(e),this.structureId=n,this.formationPublisher=o,this.formationWarehouse=s,this.selection$=this.formationWarehouse.onCustomSelections(this.structureId)}selectCustom(e){this.formationPublisher.selectCustom(e,this.structureId)}getSelectorName(){return"gui-select-custom-modal"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(x),r.rXU(ae),r.rXU(Ie))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-select-custom-modal",""]],features:[r.Vt3],attrs:Yf,decls:1,vars:1,consts:[[4,"guiLet"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(e,n){1&e&&r.DNE(0,qf,2,1,"ul",0),2&e&&r.Y8G("guiLet",n.selection$)},dependencies:[l.Sq,ue],styles:[".gui-select-custom-modal{background:#fff;border:1px solid #d6d6d6;border-radius:0 0 4px 4px}.gui-select-custom-modal ul{list-style:none;margin:0;padding:0}.gui-select-custom-modal ul li{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#fff;border-color:#d6d6d6;box-sizing:border-box;color:#333;cursor:pointer;display:block;font:14px Arial;padding:8px 12px}\n"],encapsulation:2,changeDetection:0}),i})(),Eu=(()=>{class i extends ge{constructor(e,n,o,s,a){super(),this.injector=e,this.schemaReadModelRootId=n,this.schemaWarehouse=o,this.structureThemeConverter=s,this.inlineDialogService=a}open(e){this.close(),this.schemaWarehouse.findTheme(this.schemaReadModelRootId).ifPresent(n=>{this.inlineDialogService.open(e,Vy,{injector:this.injector,placement:st.BOTTOM,offset:0,theme:this.structureThemeConverter.convertTheme(n),customClass:"gui-inline-dialog-header-menu"})})}close(){this.inlineDialogService.close()}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.zZn),r.KVO(ie),r.KVO(Ue),r.KVO(cr),r.KVO(Ni))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})(),_u=(()=>{class i extends jt{constructor(e,n,o,s,a){super(e),this.state=n,this.structureId=o,this.formationCommandDispatcher=s,this.formationWarehouse=a,this.state$=this.state.select(),this.state.setValue({modeMulti:!1}),this.state.connect("modeMulti",this.selectModeMulti()),this.state.connect("isAllChecked",this.selectAllChecked()),this.state.connect("isAllIndeterminate",this.selectAllIndeterminate())}toggleSelectAll(e,n){e||n?this.formationCommandDispatcher.unselectAll(this.structureId):this.formationCommandDispatcher.selectAll(this.structureId)}getSelectorName(){return"gui-select-all"}selectModeMulti(){return this.formationWarehouse.onMode(this.structureId).pipe(h(e=>e===_e.MULTIPLE))}selectAllChecked(){return this.formationWarehouse.onRowSelectedReadModel(this.structureId).pipe(h(e=>e.isAllSelected()))}selectAllIndeterminate(){return this.formationWarehouse.onRowSelectedReadModel(this.structureId).pipe(h(e=>e.isIndeterminate()))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(X),r.rXU(x),r.rXU(ae),r.rXU(Ie))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-select-all",""]],features:[r.Jv_([X]),r.Vt3],attrs:Qf,decls:1,vars:1,consts:[[4,"guiLet"],[3,"checked","gui-tooltip","indeterminate","changed",4,"ngIf"],[3,"changed","checked","gui-tooltip","indeterminate"]],template:function(e,n){1&e&&r.DNE(0,Zf,2,1,"ng-container",0),2&e&&r.Y8G("guiLet",n.state$)},dependencies:[l.bT,ue,Nt,yo],encapsulation:2,changeDetection:0}),i})(),Iu=(()=>{class i extends hi{constructor(e,n){super(e,n)}getSelectorName(){return"gui-structure-column-menu-icon"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.gRc))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-menu-icon",""]],features:[r.Vt3],attrs:ev,decls:4,vars:0,consts:[["data-name","Layer 1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 10.32 7.46"],["x1","9.57","y1","3.73","x2","0.75","y2","3.73",1,"cls-1"],["x1","9.57","y1","0.75","x2","0.75","y2","0.75",1,"cls-1"],["x1","9.57","y1","6.71","x2","0.75","y2","6.71",1,"cls-1"]],template:function(e,n){1&e&&(r.qSk(),r.j41(0,"svg",0),r.nrm(1,"line",1)(2,"line",2)(3,"line",3),r.k0s())},encapsulation:2,changeDetection:0}),i})(),Tu=(()=>{class i extends G{constructor(e,n,o,s){super(n,e),this.elementRef=e,this.changeDetectorRef=n,this.structureColumnMenuConfigArchive=o,this.structureColumnConfigService=s,this.isEnabled$=this.selectIsEnabled()}openConfigDialog(){this.structureColumnConfigService.open(this.headerDialogContainer,this.column)}getSelectorName(){return"gui-structure-column-config-trigger"}selectIsEnabled(){return this.structureColumnMenuConfigArchive.on().pipe(h(e=>e.isEnabled()))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(Qi),r.rXU(Vn))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-column-config-trigger",""]],viewQuery:function(e,n){if(1&e&&r.GBs(tv,5,r.aKT),2&e){let o;r.mGM(o=r.lsd())&&(n.headerDialogContainer=o.first)}},inputs:{column:"column"},features:[r.Vt3],attrs:iv,decls:1,vars:1,consts:[["headerDialogContainer",""],["class","gui-header-menu-icon-wrapper",3,"click",4,"guiIf"],[1,"gui-header-menu-icon-wrapper",3,"click"],["gui-structure-menu-icon","",3,"ngClass"]],template:function(e,n){1&e&&r.DNE(0,rv,3,1,"div",1),2&e&&r.Y8G("guiIf",n.isEnabled$)},dependencies:[l.YU,Bo,Iu],encapsulation:2,changeDetection:0}),i})(),Fu=(()=>{class i extends G{constructor(e,n,o,s,a,c,u,g){super(o,e),this.elementRef=e,this.injector=n,this.changeDetectorRef=o,this.compositionId=s,this.structureId=a,this.structureSelectCustomService=c,this.formationCommandDispatcher=u,this.sortingCommandDispatcher=g,this.showSelection=!1,this.showCustom=!0}toggleSort(e){e.isSortEnabled()&&this.sortingCommandDispatcher.toggleSort(e.getFieldId(),this.compositionId,this.structureId)}openConfigDialog(){this.structureSelectCustomService.open(this.selectCustomContainer)}getSelectorName(){return"gui-structure-header-columns"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.zZn),r.rXU(r.gRc),r.rXU(J),r.rXU(x),r.rXU(Eu),r.rXU(ae),r.rXU(He))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-header-columns","","columns",""]],viewQuery:function(e,n){if(1&e&&r.GBs(nv,5,r.aKT),2&e){let o;r.mGM(o=r.lsd())&&(n.selectCustomContainer=o.first)}},inputs:{columns:"columns",showSelection:"showSelection"},features:[r.Jv_([Vn,Eu]),r.Vt3],attrs:ov,decls:2,vars:2,consts:[["class","gui-header-cell gui-row-checkbox\n\t gui-flex gui-justify-between\n\t gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border\n\t gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis",4,"ngIf"],["class","gui-header-cell gui-flex gui-justify-between\n\t gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border\n\t gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis",3,"class","ngClass","width","style","click",4,"ngFor","ngForOf"],[1,"gui-header-cell","gui-row-checkbox","gui-flex","gui-justify-between","gui-overflow-hidden","gui-relative","gui-py-0","gui-px-6","gui-box-border","gui-leading-4","gui-whitespace-nowrap","gui-overflow-ellipsis"],["gui-select-all",""],[1,"gui-header-cell","gui-flex","gui-justify-between","gui-overflow-hidden","gui-relative","gui-py-0","gui-px-6","gui-box-border","gui-leading-4","gui-whitespace-nowrap","gui-overflow-ellipsis",3,"click","ngClass"],[1,"gui-header-title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","gui-ml-6","gui-structure-arrow-icon","",3,"position","sort",4,"ngIf"],[1,"gui-header-menu"],["gui-structure-column-config-trigger","",3,"column"],["gui-structure-arrow-icon","",1,"gui-ml-6",3,"position","sort"]],template:function(e,n){1&e&&r.DNE(0,av,2,0,"div",0)(1,lv,6,13,"div",1),2&e&&(r.Y8G("ngIf",n.showSelection),r.R7$(),r.Y8G("ngForOf",n.columns))},dependencies:[l.YU,l.Sq,l.bT,l.T3,_u,Tu,Gn],encapsulation:2,changeDetection:0}),i})(),Mu=(()=>{class i extends Z{constructor(e,n,o,s,a,c,u){super(e),this.elementRef=e,this.injector=n,this.changeDetectorRef=o,this.compositionId=s,this.structureId=a,this.formationCommandDispatcher=c,this.sortingCommandDispatcher=u,this.checkboxSelection=!1,this.globalSearching=!1}toggleSort(e){e.isSortEnabled()&&this.sortingCommandDispatcher.toggleSort(e.getFieldId(),this.compositionId,this.structureId)}isSortAsc(e){return e.getSortStatus()===W.ASC}isSortDesc(e){return e.getSortStatus()===W.DESC}isGlobalSortEnabled(){return this.globalSearching}getSelectorName(){return"gui-structure-header-groups"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.zZn),r.rXU(r.gRc),r.rXU(J),r.rXU(x),r.rXU(ae),r.rXU(He))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-header-groups","","groups","","checkboxSelection",""]],inputs:{groups:"groups",showGroups:"showGroups",checkboxSelection:"checkboxSelection"},features:[r.Jv_([Vn]),r.Vt3],attrs:dv,decls:2,vars:2,consts:[["class","gui-header-cell gui-row-checkbox gui-flex gui-justify-between\n\t gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border\n\t gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis",4,"ngIf"],["class","gui-header-cell gui-flex gui-justify-between\n\t gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border\n\t gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis",3,"width",4,"ngFor","ngForOf"],[1,"gui-header-cell","gui-row-checkbox","gui-flex","gui-justify-between","gui-overflow-hidden","gui-relative","gui-py-0","gui-px-6","gui-box-border","gui-leading-4","gui-whitespace-nowrap","gui-overflow-ellipsis"],["gui-select-all",""],[1,"gui-header-cell","gui-flex","gui-justify-between","gui-overflow-hidden","gui-relative","gui-py-0","gui-px-6","gui-box-border","gui-leading-4","gui-whitespace-nowrap","gui-overflow-ellipsis"],[1,"gui-header-title"]],template:function(e,n){1&e&&r.DNE(0,gv,2,0,"div",0)(1,hv,3,3,"div",1),2&e&&(r.Y8G("ngIf",n.checkboxSelection),r.R7$(),r.Y8G("ngForOf",n.groups))},dependencies:[l.Sq,l.bT,_u],encapsulation:2,changeDetection:0}),i})(),Du=(()=>{class i extends Z{constructor(e,n,o,s,a,c){super(a),this.structureFilterCommandService=e,this.formBuilder=n,this.cd=o,this.effects=s,this.structureId=c,this.closed=new r.bkB,this.filterFieldName="phrase",this.filterMode=!1,this.filterForm=this.formBuilder.group({[this.filterFieldName]:[""]})}ngOnInit(){this.effects.register(this.selectFilterFormChanges(),e=>{this.filter(e[this.filterFieldName])})}filter(e){null==e&&(e="")}clearFilters(){this.filterForm.reset()}turnOnFilterMode(){this.filterMode=!0,this.cd.detectChanges()}turnOffFilterMode(){this.filterMode=!1,this.cd.detectChanges()}getSelectorName(){return""}selectFilterFormChanges(){return Ot(this.filterForm.valueChanges)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(Ke),r.rXU(y.ok),r.rXU(r.gRc),r.rXU(Pn),r.rXU(r.aKT),r.rXU(x))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-header-filters","","columns",""]],inputs:{columns:"columns"},outputs:{closed:"closed"},features:[r.Jv_([Pn]),r.Vt3],attrs:pv,decls:2,vars:2,consts:[[4,"ngIf"],["class","gui-header-cell gui-flex gui-justify-between\n\t gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border\n\t gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis",3,"width",4,"ngFor","ngForOf"],[1,"gui-header-cell","gui-flex","gui-justify-between","gui-overflow-hidden","gui-relative","gui-py-0","gui-px-6","gui-box-border","gui-leading-4","gui-whitespace-nowrap","gui-overflow-ellipsis"],[3,"click"],[3,"options","selected"],[3,"formGroup"],["type","text","gui-input","",3,"formControlName"],["gui-button","",3,"click"]],template:function(e,n){1&e&&r.DNE(0,vv,2,1,"ng-container",0)(1,bv,8,5,"ng-container",0),2&e&&(r.Y8G("ngIf",!n.filterMode),r.R7$(),r.Y8G("ngIf",n.filterMode))},dependencies:[l.Sq,l.bT,y.qT,y.me,y.BC,y.cb,y.j4,y.JD,rt,xo,ho],encapsulation:2,changeDetection:0}),i})(),ds=(()=>{class i extends jt{constructor(e,n,o,s,a,c,u,g,p){super(e),this.elementRef=e,this.state=n,this.structureId=o,this.compositionId=s,this.filterWarehouse=a,this.formationWarehouse=c,this.structureVerticalFormationWarehouse=u,this.compositionTemplateWarehouse=g,this.compositionWarehouse=p,this.state$=this.state.select(),this.width$=this.compositionWarehouse.onContainerWidth(this.compositionId).pipe(h(b=>({width:b}))),this.filterHeaderHeight$=this.structureVerticalFormationWarehouse.onRowHeight(this.structureId).pipe(h(b=>({height:+b+2}))),this.state.setValue({headerColumns:[],filterRowEnabled:!1,showGroups:!1}),this.state.connect("showSelection",this.selectShowSelection()),this.state.connect("headerColumns",this.compositionTemplateWarehouse.onHeaderCols(this.compositionId)),this.state.connect("filterRowEnabled",this.filterWarehouse.onFilteringEnabled(this.structureId)),this.state.connect("showGroups",this.selectShowGroups()),this.state.connect("groups",this.selectGroups())}getSelectorName(){return"gui-structure-header"}selectGroups(){return this.compositionWarehouse.onGroups(this.compositionId).pipe(h(e=>e.getGroups()))}selectShowGroups(){return this.compositionWarehouse.onGroups(this.compositionId).pipe(h(e=>e.isVisible()))}selectShowSelection(){return this.formationWarehouse.onType(this.structureId).pipe(h(e=>e===te.CHECKBOX||e===te.RADIO))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(X),r.rXU(x),r.rXU(J),r.rXU(ut),r.rXU(Ie),r.rXU(Yt),r.rXU(ar),r.rXU(Te))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-header",""]],features:[r.Jv_([X]),r.Vt3],attrs:Cv,decls:3,vars:3,consts:[[4,"guiLet"],["class","gui-header","gui-structure-header-columns","",3,"columns","guiStyle","showSelection",4,"guiLet"],["class","gui-header","gui-structure-header-groups","",3,"checkboxSelection","groups",4,"ngIf"],["gui-structure-header-groups","",1,"gui-header",3,"checkboxSelection","groups"],["gui-structure-header-columns","",1,"gui-header",3,"columns","guiStyle","showSelection"],["class","gui-header","gui-structure-header-filters","",3,"columns","guiStyle",4,"ngIf"],["gui-structure-header-filters","",1,"gui-header",3,"columns","guiStyle"]],template:function(e,n){1&e&&r.DNE(0,Sv,2,1,"ng-container",0)(1,xv,1,3,"div",1)(2,Ev,2,1,"ng-container",0),2&e&&(r.Y8G("guiLet",n.state$),r.R7$(),r.Y8G("guiLet",n.state$),r.R7$(),r.Y8G("guiLet",n.state$))},dependencies:[l.bT,ue,wC,Fu,Mu,Du],encapsulation:2,changeDetection:0}),i})(),ku=(()=>{class i{constructor(e){this.platformId=e}on(e){return(0,l.UE)(this.platformId)?Ot(new At.c(n=>{const o=new ResizeObserver(s=>{s&&s.length>0&&n.next(s[0].contentRect)});return o.observe(e),()=>o.disconnect()}).pipe((0,_p.c)(25))):ba()}destroy(e){}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.Agw))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();var ve=function(i){return i[i.NONE=0]="NONE",i[i.ADD=1]="ADD",i[i.RANGE=2]="RANGE",i}(ve||{});class Kt{constructor(){this.subject$=new Ge(1)}emit(t){this.subject$.next(t)}on(){return this.subject$.toObservable()}}class On{constructor(t,e,n){this.itemId=t,this.columnFieldId=e,this.value=n}getItemId(){return this.itemId}getColumnFieldId(){return this.columnFieldId}getValue(){return this.value}}let Ru=(()=>{class i extends G{constructor(e,n,o,s){super(e,n),this.changeDetectorRef=e,this.structureId=o,this.sourceCommandService=s}ngOnChanges(e){k(e.entity,()=>{this.initEditContext()}),k(e.cell,()=>{this.initEditContext()})}ngOnInit(){this.initEditContext()}getSelectorName(){return"gui-structure-cell-edit-boolean"}submitChanges(){const e=this.entity.getId();this.sourceCommandService.editItem(new On(e,this.cell.columnFieldId,this.actualValue),this.structureId)}initEditContext(){this.valueChanges$=new Kt,this.status$=new Kt,this.editContext={status:this.status$,valueChanges:this.valueChanges$,value:this.cell.getValue(this.entity).value,focus:!1,parent:this.cellContainerRef},this.observeValueChanges(),this.status$.on().pipe(this.takeUntil()).subscribe(e=>{e===Dt.SUBMIT&&this.submitChanges()})}observeValueChanges(){this.valueChanges$.on().pipe(this.takeUntil()).subscribe(e=>{this.actualValue=e})}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(x),r.rXU(Fe))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-cell-edit-boolean","","entity","","cell",""]],viewQuery:function(e,n){if(1&e&&r.GBs(ac,7),2&e){let o;r.mGM(o=r.lsd())&&(n.cellContainerRef=o.first)}},inputs:{entity:"entity",cell:"cell"},features:[r.Vt3,r.OA$],attrs:_v,decls:3,vars:2,consts:[["cellContainer",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(r.j41(0,"span",null,0),r.DNE(2,Iv,1,0,"ng-container",1),r.k0s()),2&e&&(r.R7$(2),r.Y8G("ngTemplateOutlet",n.cell.editTemplate)("ngTemplateOutletContext",n.editContext))},dependencies:[l.T3],encapsulation:2,changeDetection:0}),i})(),Au=(()=>{class i extends G{constructor(e,n,o,s,a,c,u,g){super(e,n),this.changeDetectorRef=e,this.elementRef=n,this.structureId=o,this.compositionId=s,this.structureCellEditStore=a,this.cellEditCloseAllService=c,this.sourceCommandService=u,this.compositionWarehouse=g,this.inEditMode=!1}ngOnInit(){this.subscribe(this.compositionWarehouse.onHighlightedColumn(new Fn(this.cell.columnDefinitionId.toString()),this.compositionId),e=>{this.isHighlighted=e})}ngAfterViewInit(){super.ngAfterViewInit(),this.subscribeWithoutRender(this.cellEditCloseAllService.onCloseAll(),()=>{this.exitEditMode()})}isCellEditingEnabled(){return this.cellEditorManager.isEnabled(this.cell.getValue(this.entity),this.entity.getSourceItem(),this.rowIndex)&&this.cell.isCellEditingEnabled()}enterEditMode(e=!0){this.isCellEditingEnabled()&&(this.cellEditCloseAllService.closeAll(),Ga(0).pipe(this.takeUntil()).subscribe(()=>{this.inEditMode=!0,this.valueChanges$=new Kt,this.status$=new Kt,this.editContext={status:this.status$,valueChanges:this.valueChanges$,value:this.cell.getValue(this.entity).value,focus:e,parent:this.elementRef},this.observeFieldStatus(),this.observeValueChanges(),this.publishEditEnter(),e?this.changeDetectorRef.detectChanges():this.changeDetectorRef.markForCheck()}))}exitEditMode(){this.inEditMode=!1,this.changeDetectorRef.detectChanges()}submitChangesAndExit(){const e=this.entity.getId();this.sourceCommandService.editItem(new On(e,this.cell.columnFieldId,this.actualValue),this.structureId),this.exitEditMode()}getSelectorName(){return"gui-structure-cell"}observeFieldStatus(){this.status$.on().pipe(this.takeUntil()).subscribe(e=>{switch(e){case Dt.SUBMIT:this.submitChangesAndExit(),this.publishEditSubmit();break;case Dt.CANCEL:this.exitEditMode(),this.publishEditCancel()}})}observeValueChanges(){this.valueChanges$.on().pipe(this.takeUntil()).subscribe(e=>{this.actualValue=e})}publishEditState(e){this.structureCellEditStore.next(e)}publishEditEnter(){this.publishEditState(qe.ENTER)}publishEditCancel(){this.publishEditState(qe.CANCEL)}publishEditSubmit(){this.publishEditState(qe.SUBMIT)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(x),r.rXU(J),r.rXU(hn),r.rXU(mc),r.rXU(Fe),r.rXU(Te))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-cell","","entity","","cell",""]],inputs:{entity:"entity",cell:"cell",editMode:"editMode",cellEditorManager:"cellEditorManager",searchPhrase:"searchPhrase",rowIndex:"rowIndex",columnIndex:"columnIndex"},features:[r.Vt3],attrs:Tv,decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","gui-cell-edit-mode",4,"ngIf"],[3,"click","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"gui-cell-edit-mode"],["gui-structure-cell-edit-boolean","",3,"cell","entity"]],template:function(e,n){1&e&&r.DNE(0,Pv,3,2,"ng-container",0)(1,Gv,2,2,"ng-container",0),2&e&&(r.Y8G("ngIf",!n.cell.isBooleanDataType()||n.cell.isBooleanDataType()&&!n.isCellEditingEnabled()),r.R7$(),r.Y8G("ngIf",n.cell.isBooleanDataType()&&n.isCellEditingEnabled()))},dependencies:[l.YU,l.bT,l.T3,Ru],encapsulation:2,changeDetection:0}),i})(),gs=(()=>{class i extends G{constructor(e,n,o,s,a,c){super(e,n),this.changeDetectorRef=e,this.elRef=n,this.structureId=o,this.formationWarehouse=s,this.formationCommandDispatcher=a,this.cssClassModifier=c,this.checkboxSelection=!1,this.radioSelection=!1,this.selectedItem=!1,this.styleModifier=new je(this.elRef.nativeElement),this.classModifier=new ct(this.elRef.nativeElement)}ngOnChanges(e){k(e.entity,()=>{this.checkSelectedItem(),this.updateRowClass(e.entity.previousValue),this.updateRowStyle(e.entity.previousValue)}),k(e.rowClass,()=>{this.updateRowClass()}),k(e.rowStyle,()=>{this.updateRowStyle()})}ngOnInit(){this.subscribeWithoutRender(this.formationWarehouse.onRowSelectedReadModel(this.structureId),e=>{this.row=e;const n=this.selectedItem;this.checkSelectedItem(),n!==this.selectedItem&&(n?this.cssClassModifier.unselect(this.elRef.nativeElement):this.cssClassModifier.select(this.elRef.nativeElement),this.changeDetectorRef.detectChanges())})}ngAfterViewInit(){super.ngAfterViewInit(),this.updateRowClass(),this.updateRowStyle()}trackByFn(){return 0}selectCheckbox(){event.stopPropagation(),this.formationCommandDispatcher.toggleSelectedRow(this.entity.getId(),ve.ADD,this.structureId)}selectRadio(){event.stopPropagation(),this.formationCommandDispatcher.toggleSelectedRow(this.entity.getId(),ve.NONE,this.structureId)}checkSelectedItem(){if(this.row){const e=this.selectedItem;this.selectedItem=this.row.isSelected(this.entity.getId()),e!==this.selectedItem&&(e?this.cssClassModifier.unselect(this.elRef.nativeElement):this.cssClassModifier.select(this.elRef.nativeElement))}}getSelectorName(){return"gui-structure-row"}calculateRowStyle(e){return this.rowStyle?"string"==typeof this.rowStyle.style?this.rowStyle.style||"":"function"==typeof this.rowStyle.styleFunction?this.rowStyle.styleFunction(e.getSourceItem(),e.getPosition()):"":""}updateRowStyle(e){if(e){const o=this.calculateRowStyle(e);this.removeRowStyles(o)}const n=this.calculateRowStyle(this.entity);this.renderRowStyles(n)}removeRowStyles(e){if(!e)return;const n=e.split(";");for(let o=0;o<n.length;o+=1){const s=n[o].split(":");s[0]&&s[1]&&this.styleModifier.getHost().removeStyleByName(s[0].trim())}}renderRowStyles(e){if(!e)return;const n=e.split(";");for(let o=0;o<n.length;o+=1){const s=n[o].split(":");s[0]&&s[1]&&this.styleModifier.getHost().setStyleByName(s[0].trim(),s[1].trim())}}updateRowClass(e){if(e){const o=this.calculateRowClass(e);o&&this.classModifier.getHost().remove(o)}const n=this.calculateRowClass(this.entity);n&&this.classModifier.getHost().add(n)}calculateRowClass(e){if(!this.rowClass)return"";let n;return"string"==typeof this.rowClass.class&&(n=this.rowClass.class||""),"function"==typeof this.rowClass.classFunction&&e&&(n=this.rowClass.classFunction(e.getSourceItem(),e.getPosition())||""),n}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(x),r.rXU(Ie),r.rXU(ae),r.rXU(Ji))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-row",""]],inputs:{entity:"entity",columns:"columns",editMode:"editMode",cellEditing:"cellEditing",searchPhrase:"searchPhrase",index:"index",rowStyle:"rowStyle",rowClass:"rowClass",checkboxSelection:"checkboxSelection",radioSelection:"radioSelection"},features:[r.Vt3,r.OA$],attrs:Vv,decls:3,vars:4,consts:[["class","gui-cell gui-row-checkbox",4,"ngIf"],["class","gui-cell gui-row-radio",4,"ngIf"],["class","gui-cell","gui-structure-cell","",3,"cellEditorManager","cell","columnIndex","editMode","entity","rowIndex","searchPhrase","width",4,"ngFor","ngForOf","ngForTrackBy"],[1,"gui-cell","gui-row-checkbox"],[3,"changed","checked"],[1,"gui-cell","gui-row-radio"],["gui-structure-cell","",1,"gui-cell",3,"cellEditorManager","cell","columnIndex","editMode","entity","rowIndex","searchPhrase"]],template:function(e,n){1&e&&r.DNE(0,Ov,2,1,"div",0)(1,Nv,2,1,"div",1)(2,Bv,1,9,"div",2),2&e&&(r.Y8G("ngIf",n.checkboxSelection),r.R7$(),r.Y8G("ngIf",n.radioSelection),r.R7$(),r.Y8G("ngForOf",n.columns)("ngForTrackBy",n.trackByFn))},dependencies:[l.Sq,l.bT,Nt,cp,Au],encapsulation:2,changeDetection:0}),i})(),hs=(()=>{class i extends G{constructor(e,n,o,s,a,c,u,g,p,b,E,P){super(n,e),this.elementRef=e,this.changeDetectorRef=n,this.state=o,this.formationPublisher=s,this.structureEditModeArchive=a,this.formationWarehouse=c,this.structureWarehouse=u,this.verticalFormationWarehouse=g,this.structureId=p,this.schemaReadModelRootId=b,this.searchWarehouse=E,this.schemaWarehouse=P,this.state$=this.state.select(),this.state.setValue({checkboxSelection:!1,radioSelection:!1,searchPhrase:""}),this.state.connect("editMode",this.structureEditModeArchive.on()),this.state.connect("selectionEnabled",this.formationWarehouse.onSelectionEnabled(this.structureId)),this.state.connect("rowHeight",this.verticalFormationWarehouse.onRowHeight(this.structureId)),this.state.connect("cellEditing",this.structureWarehouse.onEditManager(this.structureId)),this.state.connect("schemaRowClass",this.schemaWarehouse.onRowClass(this.schemaReadModelRootId)),this.state.connect("schemaRowStyle",this.schemaWarehouse.onRowStyle(this.schemaReadModelRootId)),this.state.connect("checkboxSelection",this.selectCheckboxSelection()),this.state.connect("radioSelection",this.selectRadioSelection()),this.state.connect("searchPhrase",this.selectSearchPhrase())}trackByFn(){return 0}translateY(e,n){return`translateY(${e*n}px)`}toggleSelectedRow(e,n,o,s){n&&!o&&!s&&this.formationPublisher.toggleSelectedRow(e.getId(),ve.NONE,this.structureId)}getSelectorName(){return"gui-structure-content"}selectCheckboxSelection(){return this.formationWarehouse.onType(this.structureId).pipe(h(e=>e===te.CHECKBOX))}selectRadioSelection(){return this.formationWarehouse.onType(this.structureId).pipe(h(e=>e===te.RADIO))}selectSearchPhrase(){return Ot((0,rc.z)(vt(this.searchWarehouse.onPhrase(this.structureId)),vt(this.searchWarehouse.onHighlight(this.structureId)))).pipe(h(([e,n])=>n?e:""))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(X),r.rXU(ae),r.rXU(pn),r.rXU(Ie),r.rXU(zt),r.rXU(Yt),r.rXU(x),r.rXU(ie),r.rXU(Ft),r.rXU(Ue))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-content",""]],inputs:{source:"source",columns:"columns"},features:[r.Jv_([X]),r.Vt3],attrs:Hv,decls:1,vars:1,consts:[["class","gui-content",4,"guiLet"],[1,"gui-content"],["class","gui-row","gui-structure-row","",3,"cellEditing","checkboxSelection","columns","editMode","entity","id","index","ngClass","ngStyle","radioSelection","rowClass","rowStyle","searchPhrase","height","click",4,"ngFor","ngForOf","ngForTrackBy"],["gui-structure-row","",1,"gui-row",3,"click","cellEditing","checkboxSelection","columns","editMode","entity","id","index","ngClass","ngStyle","radioSelection","rowClass","rowStyle","searchPhrase"]],template:function(e,n){1&e&&r.DNE(0,Xv,2,2,"div",0),2&e&&r.Y8G("guiLet",n.state$)},dependencies:[l.YU,l.Sq,l.B3,ue,gs],encapsulation:2,changeDetection:0}),i})(),ps=(()=>{class i extends G{constructor(e,n,o,s,a,c,u,g,p,b,E,P,U,V,C,$){super(e,n),this.elRef=n,this.ngZone=o,this.structureId=s,this.compositionId=a,this.structureCommandService=c,this.structureWarehouse=u,this.verticalFormationWarehouse=g,this.sourceWarehouse=p,this.compositionCommandInvoker=b,this.compositionWarehouse=E,this.compositionTemplateWarehouse=P,this.formationWarehouse=U,this.resizeDetector=V,this.structureInitialValuesReadyArchive=C,this.structureParent=$,this.columns=[],this.source=[],this.autoResizeWidthEnabled=!1,this.scrollObservation$=new K,this.styleModifier=new je(this.elRef.nativeElement)}ngOnInit(){this.subscribeWithoutRender(this.verticalFormationWarehouse.onContainerHeight(this.structureId),e=>{this.setContainerHeight(e)}),this.subscribe(Ot(vt(this.structureInitialValuesReadyArchive.once(this.structureId)).pipe(Tp(()=>(0,rc.z)(vt(this.sourceWarehouse.onItems(this.structureId)),vt(this.compositionTemplateWarehouse.onTemplateCols(this.compositionId)))))),e=>{this.source=e[0],this.columns=e[1]}),this.subscribeWithoutRender(this.compositionWarehouse.onResizeWidth(this.compositionId),e=>{this.autoResizeWidthEnabled=e})}ngAfterViewInit(){super.ngAfterViewInit(),this.structureParent&&this.subscribeWithoutRender(this.resizeDetector.on(this.structureParent.getElementRef().nativeElement).pipe(F(()=>this.autoResizeWidthEnabled),h(e=>e.width),Pe()),e=>{this.recalculateContainer(e)}),this.subscribeWithoutRender(this.compositionWarehouse.onContainerWidth(this.compositionId),e=>{this.styleModifier.getElement(this.sourceCollectionRef.nativeElement).setWidth(e)}),this.subscribeWithoutRender(this.verticalFormationWarehouse.onEnabled(this.structureId),e=>{e?this.enableScrollObservation():this.disableScrollObservation()}),this.subscribeWithoutRender(this.structureWarehouse.on(this.structureId).pipe(F(e=>e.isVerticalScrollEnabled())),e=>{const n=e.getTopMargin(),o=e.getSourceHeight();this.setSourceHeight(n,o)}),this.subscribeWithoutRender(this.verticalFormationWarehouse.onScrollBarPosition(this.structureId),e=>{this.elRef.nativeElement.scrollTop=e})}ngOnDestroy(){super.ngOnDestroy(),this.resizeDetector.destroy(this.elRef.nativeElement)}getSelectorName(){return"gui-structure-container"}setContainerHeight(e){this.height=e,this.styleModifier.getHost().setHeight(e)}setSourceHeight(e,n){this.styleModifier.getElement(this.sourceCollectionRef.nativeElement).setPaddingTop(e),this.styleModifier.getElement(this.sourceCollectionRef.nativeElement).setHeight(n)}recalculateContainer(e){this.autoResizeWidthEnabled&&this.compositionCommandInvoker.setContainerWidth(e,this.compositionId)}enableScrollObservation(){this.ngZone.runOutsideAngular(()=>{$r(this.elRef.nativeElement,"scroll").pipe(pe(this.scrollObservation$)).subscribe(e=>{this.structureCommandService.setScrollPosition(e.target.scrollTop,this.structureId)})})}disableScrollObservation(){this.scrollObservation$.next(),this.scrollObservation$.complete()}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU(r.SKi),r.rXU(x),r.rXU(J),r.rXU(De),r.rXU(zt),r.rXU(Yt),r.rXU($e),r.rXU(Ye),r.rXU(Te),r.rXU(ar),r.rXU(Ie),r.rXU(ku),r.rXU(gi),r.rXU(cc,8))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-container",""]],viewQuery:function(e,n){if(1&e&&r.GBs(Lv,5,r.aKT),2&e){let o;r.mGM(o=r.lsd())&&(n.sourceCollectionRef=o.first)}},features:[r.Vt3],attrs:zv,decls:3,vars:2,consts:[["sourceCollection",""],[1,"gui-h-full","gui-w-full","gui-absolute","gui-structure-container-element"],["gui-structure-content","",3,"columns","source"]],template:function(e,n){1&e&&(r.j41(0,"div",1,0),r.nrm(2,"div",2),r.k0s()),2&e&&(r.R7$(2),r.Y8G("columns",n.columns)("source",n.source))},dependencies:[hs],encapsulation:2,changeDetection:0}),i})(),Pu=(()=>{class i extends G{constructor(e,n){super(e,n)}initObservables(){this.bannerPanel$=this.selectBannerPanelTemplate()}selectBannerPanelTemplate(){return this.onBannerPanelConfig().pipe(h(e=>"function"==typeof e.template?e.template():e.template))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT))},i.\u0275dir=r.FsC({type:i,features:[r.Vt3]}),i})(),Gu=(()=>{class i extends Pu{constructor(e,n,o){super(n,o),this.structureTitlePanelConfigArchive=e,this.initObservables()}onBannerPanelConfig(){return this.structureTitlePanelConfigArchive.on()}getSelectorName(){return"gui-structure-title-panel"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(er),r.rXU(r.gRc),r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-title-panel",""]],features:[r.Vt3],attrs:Wv,decls:3,vars:6,consts:[[1,"gui-title-panel","gui-p-6","gui-border-b","gui-border-b-solid",3,"innerHTML"]],template:function(e,n){1&e&&(r.nrm(0,"div",0),r.nI1(1,"guiPush"),r.nI1(2,"guiSafe")),2&e&&r.Y8G("innerHTML",r.i5U(2,3,r.bMT(1,1,n.bannerPanel$),"html"),r.npT)},dependencies:[vi,is],encapsulation:2,changeDetection:0}),i})(),Vu=(()=>{class i extends Pu{constructor(e,n,o){super(n,o),this.structureFooterPanelConfigArchive=e,this.initObservables()}onBannerPanelConfig(){return this.structureFooterPanelConfigArchive.on()}getSelectorName(){return"gui-structure-footer-panel"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(tr),r.rXU(r.gRc),r.rXU(r.aKT))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-footer-panel",""]],features:[r.Vt3],attrs:Yv,decls:3,vars:6,consts:[[1,"gui-footer-panel","gui-p-6","gui-border-t","gui-border-t-solid",3,"innerHTML"]],template:function(e,n){1&e&&(r.nrm(0,"div",0),r.nI1(1,"guiPush"),r.nI1(2,"guiSafe")),2&e&&r.Y8G("innerHTML",r.i5U(2,3,r.bMT(1,1,n.bannerPanel$),"html"),r.npT)},dependencies:[vi,is],encapsulation:2,changeDetection:0}),i})(),Ou=(()=>{class i extends G{constructor(e,n,o,s,a,c,u,g,p,b,E,P,U,V,C){super(e,n),this.changeDetectorRef=e,this.structureDefinition=o,this.structureId=s,this.structureWarehouse=a,this.structureInfoPanelArchive=c,this.pagingWarehouse=u,this.summariesWarehouse=g,this.filterWarehouse=p,this.searchWarehouse=b,this.structureHeaderTopEnabledArchive=E,this.structureHeaderBottomEnabledArchive=P,this.structureTitlePanelConfigArchive=U,this.structureFooterPanelConfigArchive=V,this.className=C,this.bottomSummariesPanelEnabled$=this.summariesWarehouse.onBottomEnabled(this.structureId),this.topHeaderEnabled$=this.structureHeaderTopEnabledArchive.on(),this.bottomHeaderEnabled$=this.structureHeaderBottomEnabledArchive.on(),this.footerPanelEnabled$=this.selectFooterPanelEnabled(),this.items$=this.selectItems(),this.topSummariesPanelEnabled$=this.summariesWarehouse.onTopEnabled(this.structureId),this.searchEnabled$=this.searchWarehouse.onSearchEnabled(this.structureId),this.titlePanelEnabled$=this.selectTitlePanelEnabled(),this.infoPanelEnabled$=this.selectInfoPanelEnabled(),this.pagingModel$=this.pagingWarehouse.onPaging(this.structureId),this.headerCssClass=`gui-${this.className}-header`,this.contentCssClass=`gui-${this.className}-content`,this.headerTopClasses=this.headerCssClass+" gui-header-top",this.headerBottomClasses=this.headerCssClass+" gui-header-bottom"}isColumnHeaderTopEnabled(e){return this.structureDefinition.isHeaderEnabled()&&e}isColumnHeaderBottomEnabled(e){return this.structureDefinition.isHeaderEnabled()&&e}isPagingTopEnabled(e){return this.structureDefinition.getTopPaging().isEnabled()&&e.isPagerTop()}isPagingBottomEnabled(e){return this.structureDefinition.getBottomPaging().isEnabled()&&e.isPagerBottom()}getSelectorName(){return"gui-structure-blueprint"}selectTitlePanelEnabled(){return this.structureTitlePanelConfigArchive.on().pipe(h(e=>e.enabled))}selectInfoPanelEnabled(){return this.structureInfoPanelArchive.on().pipe(h(e=>e.isEnabled()))}selectFooterPanelEnabled(){return this.structureFooterPanelConfigArchive.on().pipe(h(e=>e.enabled))}selectItems(){return this.structureWarehouse.on(this.structureId).pipe(h(e=>e.getEntities()))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.gRc),r.rXU(r.aKT),r.rXU($t),r.rXU(x),r.rXU(zt),r.rXU(ui),r.rXU(Lt),r.rXU(rr),r.rXU(ut),r.rXU(Ft),r.rXU(Po),r.rXU(Ki),r.rXU(er),r.rXU(tr),r.rXU(Uo))},i.\u0275cmp=r.VBU({type:i,selectors:[["div","gui-structure-blueprint",""]],features:[r.Vt3],attrs:Kv,decls:15,vars:18,consts:[["gui-structure-title-panel","",4,"guiIf"],["gui-structure-top-panel","",4,"guiIf"],[4,"guiLet"],["gui-structure-summaries-panel","",1,"gui-structure-summaries-panel-top",3,"enabled"],["gui-structure-container","",3,"ngClass"],["gui-empty-source","",3,"items"],["gui-structure-summaries-panel","",1,"gui-structure-summaries-panel-bottom",3,"enabled"],["gui-structure-info-panel","",4,"guiIf"],["gui-structure-title-panel",""],["gui-structure-top-panel",""],["gui-paging","",3,"position",4,"ngIf"],["gui-paging","",3,"position"],["gui-structure-header","",3,"ngClass",4,"ngIf"],["gui-structure-header","",3,"ngClass"],["gui-structure-footer-panel","",4,"ngIf"],["gui-structure-footer-panel",""],["gui-structure-info-panel",""]],template:function(e,n){1&e&&(r.DNE(0,qv,1,0,"div",0)(1,Qv,1,0,"div",1)(2,Zv,2,1,"ng-container",2),r.nrm(3,"div",3),r.nI1(4,"guiPush"),r.DNE(5,tb,2,1,"ng-container",2),r.nrm(6,"div",4)(7,"div",5),r.nI1(8,"guiPush"),r.DNE(9,rb,2,1,"ng-container",2),r.nrm(10,"div",6),r.nI1(11,"guiPush"),r.DNE(12,ob,2,1,"ng-container",2)(13,ab,2,1,"ng-container",2)(14,cb,1,0,"div",7)),2&e&&(r.Y8G("guiIf",n.titlePanelEnabled$),r.R7$(),r.Y8G("guiIf",n.searchEnabled$),r.R7$(),r.Y8G("guiLet",n.pagingModel$),r.R7$(),r.Y8G("enabled",r.bMT(4,12,n.topSummariesPanelEnabled$)),r.R7$(2),r.Y8G("guiLet",n.topHeaderEnabled$),r.R7$(),r.Y8G("ngClass",n.contentCssClass),r.R7$(),r.Y8G("items",r.bMT(8,14,n.items$)),r.R7$(2),r.Y8G("guiLet",n.bottomHeaderEnabled$),r.R7$(),r.Y8G("enabled",r.bMT(11,16,n.bottomSummariesPanelEnabled$)),r.R7$(2),r.Y8G("guiLet",n.footerPanelEnabled$),r.R7$(),r.Y8G("guiLet",n.pagingModel$),r.R7$(),r.Y8G("guiIf",n.infoPanelEnabled$))},dependencies:[l.YU,l.bT,ue,Bo,sC,Cy,Dy,Ay,Py,ds,ps,Gu,Vu,vi],encapsulation:2,changeDetection:0}),i})();function Oy(i){return new x("gui-grid-"+i.generateId())}function Ny(i){return new J("gui-grid-"+i.generateId())}function By(i){return new ie("gui-grid-"+i.generateId())}let ms=(()=>{class i extends Zb{constructor(e,n,o,s,a,c,u,g,p,b,E,P,U,V,C,$,le,Rt,ca,ua,vg,la,da,ga,ha,bg,Cg,yg,tE,iE,rE,nE,Sg,xg,oE,sE,aE,cE,uE,wg,lE){super(xg,Sg,nE,e,n,wg,V,o,s,u,g,a,c,b,E,P,U,C,$,Rt,ca,ua,da,ga,ha,tE,iE,rE),this.elementRef=Sg,this.detectorRef=xg,this.injector=oE,this.structureDefinition=sE,this.structureWarehouse=aE,this.compositionWarehouse=cE,this.schemaStylesManager=uE,this.schemaReadModelRootId=wg,this.structureDetailViewService=lE,this.loaderEnabled=!1,this.circleLoaderEnabled=!0,this.initialLoaderAnimation=!1,this.styleModifier=new je(this.elementRef.nativeElement),V.create(this.structureId),E.create(this.compositionId),b.create(this.schemaId)}ngOnInit(){super.ngOnInit(),this.subscribe(this.structureWarehouse.on(this.structureId),e=>{this.loaderEnabled=e.getSource().isLoading(),this.circleLoaderEnabled=e.isLoaderVisible(),this.loaderEnabled&&!this.initialLoaderAnimation&&(this.initialLoaderAnimation=!0),this.detectorRef.detectChanges()}),this.structureDetailViewService.init(this.elementRef)}ngAfterViewInit(){this.structureInitialValuesReadyArchive.next(this.structureId,!0);let e=this.elementRef.nativeElement.offsetWidth;e>0?this.compositionCommandDispatcher.setContainerWidth(e,this.compositionId):Ga(0).pipe(this.takeUntil()).subscribe(()=>{e=this.elementRef.nativeElement.offsetWidth,e>0&&this.compositionCommandDispatcher.setContainerWidth(e,this.compositionId)}),this.schemaStylesManager.init(this.elementRef,this.schemaReadModelRootId),this.subscribeWithoutRender(this.compositionWarehouse.onWidth(this.compositionId),n=>{this.styleModifier.getHost().setWidth(n)})}isBorderEnabled(){return this.structureDefinition.isBorderEnabled()}getStructureId(){return this.structureId}getElementRef(){return this.elementRef}getSelectorName(){return"gui-structure"}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(x),r.rXU(J),r.rXU(ke),r.rXU(Et),r.rXU(Fe),r.rXU(Wi),r.rXU(He),r.rXU(Be),r.rXU(ir),r.rXU(Me),r.rXU(Ye),r.rXU(di),r.rXU(_t),r.rXU(De),r.rXU(pn),r.rXU(ce),r.rXU(ui),r.rXU(fn),r.rXU(hn),r.rXU(Yi),r.rXU(Qi),r.rXU(Cn),r.rXU(ae),r.rXU(It),r.rXU(Ki),r.rXU(vn),r.rXU(er),r.rXU(tr),r.rXU(Tt),r.rXU(lt),r.rXU(gi),r.rXU(li),r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(r.zZn),r.rXU($t),r.rXU(zt),r.rXU(Te),r.rXU(gc),r.rXU(ie),r.rXU(Cc))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-structure"]],hostVars:3,hostBindings:function(e,n){2&e&&(r.Mr5("id",n.structureId.toString()),r.AVh("gui-structure-border",n.isBorderEnabled()))},features:[r.Jv_([{provide:x,useFactory:Oy,deps:[Li]},{provide:J,useFactory:Ny,deps:[Li]},{provide:ie,useFactory:By,deps:[Li]},gc,mc,hn,pn,ui,fn,Qi,xn.forComponent(),dt.forComponent(),Po,Ki,vn,Cc,er,tr,{provide:Wb,useExisting:i},{provide:"Filter container token",useExisting:i}]),r.Vt3],decls:3,vars:5,consts:[["gui-structure-blueprint",""],[1,"gui-loading",3,"ngClass"],[3,"diameter","primary",4,"ngIf"],[3,"diameter","primary"]],template:function(e,n){1&e&&(r.nrm(0,"div",0),r.j41(1,"div",1),r.DNE(2,lb,1,2,"gui-spinner",2),r.k0s()),2&e&&(r.R7$(),r.Y8G("ngClass",r.l_i(2,ub,n.loaderEnabled,!n.loaderEnabled&&n.initialLoaderAnimation)),r.R7$(),r.Y8G("ngIf",n.circleLoaderEnabled))},dependencies:[l.YU,l.bT,xp,Ou],styles:['.gui-box-border{box-sizing:border-box}.gui-bg-transparent{background-color:transparent}.gui-border{border-width:1px}.gui-border-0{border-width:0}.gui-border-b{border-bottom-width:1px}.gui-border-t{border-top-width:1px}.gui-border-solid{border-style:solid}.gui-border-b-solid{border-bottom-style:solid}.gui-border-t-solid{border-top-style:solid}.gui-border-none{border-style:none}.gui-rounded{border-radius:4px}.gui-cursor-pointer{cursor:pointer}.gui-block{display:block}.gui-inline-block{display:inline-block}.gui-inline{display:inline}.gui-flex{display:-ms-flexbox;display:flex}.gui-hidden{display:none}.gui-display-grid{display:grid}.gui-flex-row{-ms-flex-direction:row;flex-direction:row}.gui-flex-row-reverse{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.gui-flex-col{-ms-flex-direction:column;flex-direction:column}.gui-flex-col-reverse{-ms-flex-direction:column-reverse;flex-direction:column-reverse}.gui-justify-start{-ms-flex-pack:start;justify-content:flex-start}.gui-justify-end{-ms-flex-pack:end;justify-content:flex-end}.gui-justify-center{-ms-flex-pack:center;justify-content:center}.gui-justify-between{-ms-flex-pack:justify;justify-content:space-between}.gui-justify-around{-ms-flex-pack:distribute;justify-content:space-around}.gui-justify-evenly{-ms-flex-pack:space-evenly;justify-content:space-evenly}.gui-items-start{-ms-flex-align:start;align-items:flex-start}.gui-items-end{-ms-flex-align:end;align-items:flex-end}.gui-items-center{-ms-flex-align:center;align-items:center}.gui-items-between{-ms-flex-align:space-between;align-items:space-between}.gui-items-around{-ms-flex-align:space-around;align-items:space-around}.gui-items-evenly{-ms-flex-align:space-evenly;align-items:space-evenly}.gui-flex-wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.gui-flex-wrap-reverse{-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse}.gui-flex-nowrap{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.gui-grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.gui-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.gui-grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.gui-grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.gui-grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.gui-grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.gui-grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}.gui-grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}.gui-grid-cols-9{grid-template-columns:repeat(9,minmax(0,1fr))}.gui-grid-rows-1{grid-template-rows:repeat(1,minmax(0,1fr))}.gui-grid-rows-2{grid-template-rows:repeat(2,minmax(0,1fr))}.gui-grid-rows-3{grid-template-rows:repeat(3,minmax(0,1fr))}.gui-grid-rows-4{grid-template-rows:repeat(4,minmax(0,1fr))}.gui-grid-rows-5{grid-template-rows:repeat(5,minmax(0,1fr))}.gui-grid-rows-6{grid-template-rows:repeat(6,minmax(0,1fr))}.gui-grid-rows-7{grid-template-rows:repeat(7,minmax(0,1fr))}.gui-grid-rows-8{grid-template-rows:repeat(8,minmax(0,1fr))}.gui-grid-rows-9{grid-template-rows:repeat(9,minmax(0,1fr))}.gui-grid-rows-gap-0{grid-row-gap:0}.gui-grid-rows-gap-1{grid-row-gap:1px}.gui-grid-rows-gap-2{grid-row-gap:2px}.gui-grid-rows-gap-3{grid-row-gap:3px}.gui-grid-rows-gap-4{grid-row-gap:4px}.gui-grid-rows-gap-5{grid-row-gap:6px}.gui-grid-rows-gap-6{grid-row-gap:8px}.gui-grid-rows-gap-7{grid-row-gap:10px}.gui-grid-rows-gap-8{grid-row-gap:12px}.gui-grid-rows-gap-10{grid-row-gap:16px}.gui-grid-rows-gap-13{grid-row-gap:22px}.gui-grid-rows-gap-23{grid-row-gap:42px}.gui-grid-cols-gap-0{grid-column-gap:0}.gui-grid-cols-gap-1{grid-column-gap:1px}.gui-grid-cols-gap-2{grid-column-gap:2px}.gui-grid-cols-gap-3{grid-column-gap:3px}.gui-grid-cols-gap-4{grid-column-gap:4px}.gui-grid-cols-gap-5{grid-column-gap:6px}.gui-grid-cols-gap-6{grid-column-gap:8px}.gui-grid-cols-gap-7{grid-column-gap:10px}.gui-grid-cols-gap-8{grid-column-gap:12px}.gui-grid-cols-gap-10{grid-column-gap:16px}.gui-grid-cols-gap-13{grid-column-gap:22px}.gui-grid-cols-gap-23{grid-column-gap:42px}.gui-h-full{height:100%}.gui-list-none{list-style-type:none}.gui-m-0{margin:0}.gui-mx-0{margin-left:0;margin-right:0}.gui-my-0{margin-bottom:0;margin-top:0}.-gui-m-0{margin:0}.-gui-mx-0{margin-left:0;margin-right:0}.-gui-my-0{margin-bottom:0;margin-top:0}.gui-m-1{margin:1px}.gui-mx-1{margin-left:1px;margin-right:1px}.gui-my-1{margin-bottom:1px;margin-top:1px}.-gui-m-1{margin:-1px}.-gui-mx-1{margin-left:-1px;margin-right:-1px}.-gui-my-1{margin-bottom:-1px;margin-top:-1px}.gui-m-2{margin:2px}.gui-mx-2{margin-left:2px;margin-right:2px}.gui-my-2{margin-bottom:2px;margin-top:2px}.-gui-m-2{margin:-2px}.-gui-mx-2{margin-left:-2px;margin-right:-2px}.-gui-my-2{margin-bottom:-2px;margin-top:-2px}.gui-m-3{margin:3px}.gui-mx-3{margin-left:3px;margin-right:3px}.gui-my-3{margin-bottom:3px;margin-top:3px}.-gui-m-3{margin:-3px}.-gui-mx-3{margin-left:-3px;margin-right:-3px}.-gui-my-3{margin-bottom:-3px;margin-top:-3px}.gui-m-4{margin:4px}.gui-mx-4{margin-left:4px;margin-right:4px}.gui-my-4{margin-bottom:4px;margin-top:4px}.-gui-m-4{margin:-4px}.-gui-mx-4{margin-left:-4px;margin-right:-4px}.-gui-my-4{margin-bottom:-4px;margin-top:-4px}.gui-m-5{margin:6px}.gui-mx-5{margin-left:6px;margin-right:6px}.gui-my-5{margin-bottom:6px;margin-top:6px}.-gui-m-5{margin:-6px}.-gui-mx-5{margin-left:-6px;margin-right:-6px}.-gui-my-5{margin-bottom:-6px;margin-top:-6px}.gui-m-6{margin:8px}.gui-mx-6{margin-left:8px;margin-right:8px}.gui-my-6{margin-bottom:8px;margin-top:8px}.-gui-m-6{margin:-8px}.-gui-mx-6{margin-left:-8px;margin-right:-8px}.-gui-my-6{margin-bottom:-8px;margin-top:-8px}.gui-m-7{margin:10px}.gui-mx-7{margin-left:10px;margin-right:10px}.gui-my-7{margin-bottom:10px;margin-top:10px}.-gui-m-7{margin:-10px}.-gui-mx-7{margin-left:-10px;margin-right:-10px}.-gui-my-7{margin-bottom:-10px;margin-top:-10px}.gui-m-8{margin:12px}.gui-mx-8{margin-left:12px;margin-right:12px}.gui-my-8{margin-bottom:12px;margin-top:12px}.-gui-m-8{margin:-12px}.-gui-mx-8{margin-left:-12px;margin-right:-12px}.-gui-my-8{margin-bottom:-12px;margin-top:-12px}.gui-m-10{margin:16px}.gui-mx-10{margin-left:16px;margin-right:16px}.gui-my-10{margin-bottom:16px;margin-top:16px}.-gui-m-10{margin:-16px}.-gui-mx-10{margin-left:-16px;margin-right:-16px}.-gui-my-10{margin-bottom:-16px;margin-top:-16px}.gui-m-13{margin:22px}.gui-mx-13{margin-left:22px;margin-right:22px}.gui-my-13{margin-bottom:22px;margin-top:22px}.-gui-m-13{margin:-22px}.-gui-mx-13{margin-left:-22px;margin-right:-22px}.-gui-my-13{margin-bottom:-22px;margin-top:-22px}.gui-m-23{margin:42px}.gui-mx-23{margin-left:42px;margin-right:42px}.gui-my-23{margin-bottom:42px;margin-top:42px}.-gui-m-23{margin:-42px}.-gui-mx-23{margin-left:-42px;margin-right:-42px}.-gui-my-23{margin-bottom:-42px;margin-top:-42px}.gui-mb-4{margin-bottom:4px}.gui-mb-6{margin-bottom:8px}.gui-mb-8{margin-bottom:12px}.gui-mb-10{margin-bottom:16px}.gui-mb-18{margin-bottom:32px}.gui-mr-0{margin-right:0}.gui-mr-5{margin-right:6px}.gui-mr-auto{margin-right:auto}.gui-ml-auto{margin-left:auto}.gui-ml-6{margin-left:8px}.gui-mt-0{margin-top:0}.gui-mt-4{margin-top:4px}.gui-mt-6{margin-top:8px}.gui-mt-10{margin-top:16px}.gui-mt-14{margin-top:24px}.gui-overflow-hidden{overflow:hidden}.gui-overflow-y-scroll{overflow-y:scroll}.gui-overflow-x-hidden{overflow-x:hidden}.gui-overflow-auto{overflow:auto}.gui-p-0{padding:0}.gui-px-0{padding-left:0;padding-right:0}.gui-py-0{padding-bottom:0;padding-top:0}.gui-p-1{padding:1px}.gui-px-1{padding-left:1px;padding-right:1px}.gui-py-1{padding-bottom:1px;padding-top:1px}.gui-p-2{padding:2px}.gui-px-2{padding-left:2px;padding-right:2px}.gui-py-2{padding-bottom:2px;padding-top:2px}.gui-p-3{padding:3px}.gui-px-3{padding-left:3px;padding-right:3px}.gui-py-3{padding-bottom:3px;padding-top:3px}.gui-p-4{padding:4px}.gui-px-4{padding-left:4px;padding-right:4px}.gui-py-4{padding-bottom:4px;padding-top:4px}.gui-p-5{padding:6px}.gui-px-5{padding-left:6px;padding-right:6px}.gui-py-5{padding-bottom:6px;padding-top:6px}.gui-p-6{padding:8px}.gui-px-6{padding-left:8px;padding-right:8px}.gui-py-6{padding-bottom:8px;padding-top:8px}.gui-p-7{padding:10px}.gui-px-7{padding-left:10px;padding-right:10px}.gui-py-7{padding-bottom:10px;padding-top:10px}.gui-p-8{padding:12px}.gui-px-8{padding-left:12px;padding-right:12px}.gui-py-8{padding-bottom:12px;padding-top:12px}.gui-p-10{padding:16px}.gui-px-10{padding-left:16px;padding-right:16px}.gui-py-10{padding-bottom:16px;padding-top:16px}.gui-p-13{padding:22px}.gui-px-13{padding-left:22px;padding-right:22px}.gui-py-13{padding-bottom:22px;padding-top:22px}.gui-p-23{padding:42px}.gui-px-23{padding-left:42px;padding-right:42px}.gui-py-23{padding-bottom:42px;padding-top:42px}.gui-pr-10{padding-right:16px}.gui-pl-9{padding-right:10px}.gui-pb-6{padding-bottom:8px}.gui-pb-12{padding-bottom:20px}.gui-pl-21{padding-left:38px}.gui-pt-4{padding-top:4px}.gui-pt-6{padding-top:8px}.gui-pt-10{padding-top:16px}.gui-pt-12{padding-top:20px}.gui-pt-14{padding-top:24px}.gui-static{position:static}.gui-fixed{position:fixed}.gui-relative{position:relative}.gui-absolute{position:absolute}.gui-text-xxs{font-size:11px}.gui-text-xs{font-size:12px}.gui-text-sm{font-size:13px}.gui-text-base{font-size:14px}.gui-text-lg{font-size:16px}.gui-text-xl{font-size:18px}.gui-text-2xl{font-size:20px}.gui-text-3xl{font-size:22px}.gui-leading-4{line-height:16px}.gui-leading-6{line-height:24px}.gui-font-thin{font-weight:100}.gui-font-extralight{font-weight:200}.gui-font-light{font-weight:300}.gui-font-normal{font-weight:400}.gui-font-medium{font-weight:500}.gui-font-semibold{font-weight:600}.gui-font-bold{font-weight:700}.gui-font-extrabold{font-weight:800}.gui-font-black{font-weight:900}.gui-not-italic{font-style:normal}.gui-whitespace-nowrap{white-space:nowrap}.gui-overflow-ellipsis{text-overflow:ellipsis}.gui-no-underline{text-decoration:none}.gui-text-center{text-align:center}.gui-w-full{width:100%}.gui-w-96{width:384px}.gui-w-3\\/5{width:60%}.gui-structure *,.gui-structure *:after,.gui-structure *:before{box-sizing:border-box}.gui-structure input{font-size:13px;outline:0}.gui-bold{font-weight:700}.gui-italic{font-style:italic}.gui-bar-view{width:100%}.gui-align-right{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;text-align:right;width:100%}.gui-align-left{text-align:left;width:100%}.gui-align-center{-ms-flex-pack:center;justify-content:center;text-align:center;width:100%}.gui-icon{cursor:pointer}.gui-icon svg{fill:#aaa;stroke:#aaa;transition:stroke .3s ease-in-out}.gui-icon svg:hover{fill:#464646!important;stroke:#464646!important}.gui-view-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.gui-percentage-bar{background:#deebff;border-radius:4px;box-shadow:inset 1px 1px 2px #ccc;color:#0747a6;height:22px;padding:4px;position:relative;text-align:center;width:100%}.gui-percentage-bar .gui-percentage{background:#8abcfc;border-radius:4px;height:22px;left:0;position:absolute;top:0}.gui-percentage-bar .gui-percentage-view{color:#031d44;position:relative;width:100%}.gui-clear-search-icon{cursor:pointer;height:16px;position:absolute;right:8px;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);width:16px}.gui-clear-search-icon:before,.gui-clear-search-icon:after{background-color:#aaa;border-radius:8px;content:" ";height:16px;left:7px;position:absolute;width:2px}.gui-clear-search-icon:before{-ms-transform:rotate(45deg);transform:rotate(45deg)}.gui-clear-search-icon:after{-ms-transform:rotate(-45deg);transform:rotate(-45deg)}.gui-clear-search-icon:hover:before,.gui-clear-search-icon:hover:after{background-color:#464646}\n',".gui-structure,.gui-structure *{border-color:#d6d6d6;font-size:14px}.gui-structure input{color:#333;font-family:Arial}.gui-header{background:#f2f3f4;border-bottom:1px solid;border-color:inherit;height:36px}.gui-header .gui-header-cell.gui-header-sortable{cursor:pointer}.gui-header .gui-header-cell.gui-header-sortable:hover{background:#e6e7e8}.gui-header .gui-header-cell .gui-header-menu-icon{display:none}.gui-header .gui-header-cell:hover .gui-header-menu{cursor:pointer}.gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper .gui-header-menu-icon{display:block}.gui-header .gui-header-cell:last-of-type{border-right:0}.gui-header .gui-header-cell .gui-header-title{display:-ms-flexbox;display:flex;line-height:1.4em}.gui-header .gui-header-cell .gui-header-menu{display:-ms-flexbox;display:flex}.gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:16px;padding:16px;position:relative;right:0;width:16px}.gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper .gui-header-menu-icon{display:none;height:16px;width:16px}.gui-header-bottom .gui-header{border-bottom:0;border-color:inherit;border-top:1px solid}.gui-structure{background:#fff;border-color:#d6d6d6;box-sizing:border-box;color:#333;display:block;font-family:Arial;font-size:14px;position:relative}.gui-structure *{box-sizing:border-box}.gui-structure .gui-structure-header{display:block;height:100%;width:100%}.gui-structure .gui-structure-header .gui-structure-header-filters.gui-header{height:32px}.gui-structure .gui-structure-header .gui-structure-header-filters.gui-header .gui-header-cell{padding:4px}.gui-structure .gui-structure-header .gui-structure-header-filters.gui-header .gui-header-cell input{box-sizing:border-box;height:100%;padding:2px;position:relative;width:100%;border-color:#d6d6d6;border-style:solid;border-width:1px;font-size:13px}.gui-structure-container{display:block;height:100%;overflow:auto;overflow-x:hidden;position:relative;width:100%}.gui-structure-container .gui-structure-container-element{height:100%;position:absolute;width:100%}.gui-structure-container .gui-structure-container-element .gui-content{height:100%;position:relative}.gui-structure-container .gui-structure-container-element .gui-content .gui-row{border-bottom:1px solid transparent;position:absolute;width:100%}.gui-structure-container .gui-structure-container-element .gui-content .gui-row:last-child{border-bottom:0}.gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:#ecedee}.gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:#d0e8fb}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell{border-right:1px solid transparent;box-sizing:border-box;line-height:1em;overflow:hidden;padding:0;white-space:nowrap}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-cell-view span{line-height:1.4em}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-button{padding:0}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-cell-boolean{-ms-flex-pack:center;justify-content:center}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-checkbox{line-height:24px;position:relative}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-checkbox input{position:relative}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-chip{line-height:1em;margin:0;padding:4px 8px}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-badge{padding:0}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-input{background:transparent;font-size:14px;padding:0;border-radius:0;border-style:none}.gui-structure-container .gui-cell{display:inline-block}.gui-structure-container .gui-cell:last-child .gui-cell-view{padding-right:20px}.gui-structure-container .gui-cell>span{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:100%;padding:0 8px;width:100%}.gui-structure-container .gui-cell .gui-cell-edit-mode{border:2px solid #2185d0;height:100%;padding:6px}.gui-structure-container .gui-cell .gui-cell-edit-mode .gui-boolean-edit{margin-left:calc(50% - 11px)}.gui-structure-container .gui-cell .gui-cell-edit-mode input:focus{box-shadow:none;outline:none}.gui-vertical-grid .gui-structure-summaries-cell,.gui-vertical-grid .gui-structure-container-element .gui-content .gui-row .gui-cell,.gui-vertical-grid .gui-structure-header .gui-header .gui-header-cell{border-right:1px solid;border-right-color:inherit}.gui-vertical-grid .gui-structure-container-element .gui-content .gui-row .gui-cell:last-of-type,.gui-vertical-grid .gui-structure-header .gui-header .gui-header-cell:last-of-type{border-right:0}.gui-vertical-grid .gui-row-checkbox{border-right:1px solid!important;border-right-color:inherit!important}.gui-horizontal-grid .gui-structure-container-element .gui-content .gui-row{border-bottom:1px solid;border-bottom-color:inherit}.gui-horizontal-grid .gui-structure-container-element .gui-content .gui-row:last-of-type{border-bottom:0}.gui-rows-even .gui-row.even,.gui-rows-odd .gui-row.odd{background:#f7f8f9}.gui-structure-info-panel{-ms-flex-align:center;align-items:center;background:#f2f3f4;box-sizing:border-box;display:-ms-flexbox;display:flex;height:36px;-ms-flex-pack:justify;justify-content:space-between;padding:0 6px;width:100%;border-top-color:inherit;border-top-style:solid;border-top-width:1px}.gui-structure-info-panel p{margin:0}.gui-structure-info-panel p b{font-weight:700}.gui-structure-info-panel div button{background:#ccc;color:#fff;cursor:pointer;font-family:Arial;font-weight:700;height:16px;line-height:14px;padding:0;width:16px;border-color:transparent;border-radius:50%;border-style:solid;border-width:1px}.gui-structure-info-panel div button:focus{box-shadow:0 0 4px #ccc;outline:none}.gui-structure-border{border:1px solid;border-color:#d6d6d6}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.gui-loading{-ms-flex-line-pack:center;align-content:center;animation-duration:.2s;background:rgba(255,255,255,.8);border:1px solid;border-color:inherit;display:-ms-flexbox;display:flex;height:100%;-ms-flex-pack:center;justify-content:center;left:0;opacity:0;position:absolute;top:0;visibility:hidden;width:100%}.gui-loading .gui-spinner{-ms-flex-item-align:center;align-self:center}.gui-loading.gui-loader-hidden{animation-name:fadeOut;opacity:0;visibility:visible;z-index:-1}.gui-loading.gui-loader-visible{animation-name:fadeIn;opacity:1;visibility:visible;z-index:1}.gui-text-highlight{background:#fff799;padding:0!important}.gui-title-panel{border-bottom-color:#d6d6d6}.gui-footer-panel{border-top-color:#d6d6d6}.gui-structure-schema-manager-icon{margin-right:16px}.gui-structure-schema-manager-icon svg{height:18px;margin-bottom:-1px;width:18px}.gui-row-radio{-ms-flex-align:center;align-items:center;cursor:pointer;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center;justify-content:center;padding:0 12px!important;width:48px!important}.gui-row-radio .gui-radio-button{height:24px;margin:0;padding:0;width:24px}.gui-row-checkbox{-ms-flex-align:center;align-items:center;cursor:pointer;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center;justify-content:center;padding:0 12px!important;width:48px!important}.gui-row-checkbox .gui-checkbox{height:24px;margin:0;padding:0;width:24px}.gui-select-all .gui-checkbox .gui-checkmark{top:0}.gui-structure-cell-edit-boolean{height:100%}.gui-column-highlighted{background:#fffddd}.gui-structure-column-manager>div:hover{background:#ecedee}.gui-structure-column-manager label{margin-bottom:0}.gui-structure-ordered-list li:hover{background:#ecedee}\n",".gui-structure-column-menu-icon svg{height:16px;width:16px}.gui-structure-column-menu-icon .cls-1{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px}.gui-structure-column-menu-arrow-icon{display:inline-block}.gui-structure-column-menu-arrow-icon svg{height:10px;width:12px}.gui-structure-column-menu-arrow-icon .gui-structure-column-menu-sort-icon svg{height:16px}.gui-structure-column-menu-arrow-icon .cls-1{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px}\n",".gui-summaries-value{font-weight:700}.gui-structure-summaries-panel{background:#f2f3f4}.gui-structure-summaries-panel.gui-structure-summaries-panel-bottom .gui-structure-summaries-cell{border-top:1px solid #d6d6d6}.gui-structure-summaries-panel.gui-structure-summaries-panel-top .gui-structure-summaries-cell{border-bottom:1px solid #d6d6d6}.gui-structure-summaries-panel .gui-structure-summaries-cell{font-size:14px;padding-left:16px;padding-right:16px}.gui-structure-summaries-panel .gui-structure-summaries-cell:last-child{padding-right:20px}.gui-structure-summaries-panel .gui-structure-summaries-value{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;line-height:1em;overflow:hidden;padding:8px 0}.gui-structure-summaries-panel .gui-structure-summaries-value div .gui-math-symbol{position:relative;top:-1px}.gui-structure-summaries-panel .gui-structure-summaries-value .gui-mean,.gui-structure-summaries-panel .gui-structure-summaries-value .gui-median{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:relative}.gui-structure-summaries-panel .gui-structure-summaries-value .gui-mean span:nth-child(1){left:1px;position:absolute;top:-15px}.gui-structure-summaries-panel .gui-structure-summaries-value .gui-median span:nth-child(1){left:1px;position:absolute;top:-8px}\n",".gui-structure-column-manager-icon svg{height:16px;width:16px}.gui-structure-column-manager-icon .cls-1,.gui-structure-column-manager-icon .cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round}.gui-structure-column-manager-icon .cls-2{stroke-width:1.5px}.gui-structure-info-icon svg{height:16px;width:16px}.gui-structure-info-icon .cls-1{stroke-width:0}.gui-structure-info-icon .cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round}.gui-structure-info-panel div,.gui-structure-info-panel div button{display:inline-block}.gui-structure-info-panel .gui-right-section .gui-structure-column-manager-icon{margin-right:16px;position:relative}.gui-structure-info-panel .gui-right-section .gui-structure-info-icon{margin-right:4px;position:relative}.gui-structure-info-modal .gui-quote{color:#575757}.gui-structure-info-modal p{color:#333}.gui-structure-info-modal a{color:#2185d0}.gui-structure-info-modal a:hover{color:#59a9e5;text-decoration:underline}\n","@media (max-width: 500px){.gui-paging>*{padding-left:4px}.gui-paging .gui-paging-stats{padding-left:4px}}\n",".gui-header{display:-ms-flexbox;display:flex}.gui-header .gui-header-cell{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.gui-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.gui-content .gui-structure-cell-container,.gui-content .gui-row{display:-ms-flexbox;display:flex}.gui-content .gui-structure-cell-container .gui-cell,.gui-content .gui-row .gui-cell{display:inline-block}.gui-content .gui-structure-row-details{background:#80cbc4;display:block;height:200px;position:absolute;-ms-transform:translateY(0);transform:translateY(0);width:100%}\n",".gui-inline-dialog-header-menu.gui-inline-dialog-wrapper .gui-inline-dialog-content{background:transparent;box-shadow:none}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-item-active{font-weight:700}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-list{background:#fff}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item{color:#333}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item.gui-active{color:#2185d0}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-content{box-shadow:0 3px 7px #ccc;box-sizing:content-box;padding:0;width:225px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move{color:#333;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding:0}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item{-ms-flex-align:center;align-items:center;cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item svg line{stroke:#aaa}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item.left{padding:12px 16px 12px 12px;width:48%}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item.right{padding:12px 10px;width:52%}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover svg line{stroke:#464646}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container{border:none;border-radius:0}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover .gui-dropdown-arrow{opacity:1}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu{width:125px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item{background:#fff;color:#333;display:-ms-flexbox;display:flex;padding:8px 8px 8px 12px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item:hover .gui-sort-title svg line{stroke:#464646}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;width:100%}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title svg{margin-top:3px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title svg line{stroke:#aaa}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item{color:#333;cursor:pointer;display:block;padding:8px 12px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-checkbox{color:#333;margin-left:12px;padding:8px 12px 8px 32px;width:169px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-checkbox label{display:inline-block;width:inherit}\n",".gui-schema-manager-dialog .gui-schema-manager{min-width:180px}.gui-schema-manager-dialog .gui-schema-manager .gui-structure-schema-manager-select,.gui-schema-manager-dialog .gui-schema-manager .gui-checkbox{color:#333}.gui-schema-manager-dialog .gui-schema-manager .gui-structure-schema-manager-select:nth-last-child(1),.gui-schema-manager-dialog .gui-schema-manager .gui-checkbox:nth-last-child(1){margin-bottom:0}.gui-dialog-title{border-bottom:solid 1px #d6d6d6;font-size:18px;font-weight:700;margin-left:-16px;margin-right:-16px;padding-bottom:16px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gui-structure-schema-manager-select{padding:8px 0 24px}.gui-structure-dialog-column-manager ol{max-height:400px;min-width:250px}\n",".gui-cell .gui-checkbox{display:block}.gui-cell .gui-chip{margin:0;padding:2px 8px}.gui-cell .gui-input{display:block;font-size:11px;padding:2px 4px;width:100%}.gui-cell .gui-button{padding:2px 8px}.gui-cell .gui-cell-number{display:block;width:100%}.gui-cell .gui-cell-boolean{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:100%;text-align:center;width:100%}.gui-cell .gui-string-edit{width:100%}\n",".gui-fabric{border-color:#d6d6d6;font-family:Arial;font-size:14px}.gui-fabric .gui-header-cell,.gui-fabric .gui-structure-header-columns,.gui-fabric .gui-structure-top-panel,.gui-fabric .gui-structure-info-panel,.gui-fabric .gui-paging{height:42px}\n",".gui-material{border-color:#0000001f;font-family:Arial;font-size:14px}.gui-material *{border-color:#0000001f}.gui-material.gui-structure{border:0;border-radius:0;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0000001f,0 1px 5px #0003}.gui-material.gui-structure,.gui-material .gui-header{font-family:Arial}.gui-material .gui-header-cell,.gui-material .gui-structure-header-columns{height:56px}.gui-material .gui-header .gui-header-cell.gui-header-sortable:hover{background:transparent}.gui-material .gui-header-cell{padding-left:16px;padding-right:16px}.gui-material .gui-structure-container-element .gui-structure-cell>span{padding-left:16px;padding-right:16px}.gui-material .gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:rgba(0,0,0,.04)}.gui-material .gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:#e6f7ff}.gui-material .gui-structure-header .gui-header{background:transparent;color:#464646;font-weight:700}.gui-material .gui-structure-header .gui-header .gui-header-cell{border-color:inherit}.gui-material .gui-cell .gui-button,.gui-material .gui-cell .gui-badge{padding:0}.gui-material .gui-paging-alternative-navigator .gui-button{background:transparent;color:#333;margin:0 4px;padding:0}.gui-material .gui-paging-alternative-navigator .gui-button:hover{background:transparent}.gui-material .gui-paging-alternative-navigator .gui-button:disabled{background:transparent;color:#ccc;opacity:.4}.gui-material .gui-structure-summaries-panel{background:#fff}.gui-material gui-structure-top-panel,.gui-material .gui-structure-info-panel,.gui-material .gui-paging{height:52px;padding-left:16px;padding-right:16px}.gui-material .gui-structure-info-panel{background:#fff;border-radius:0}.gui-material gui-structure-top-panel{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;padding-right:0}.gui-material gui-structure-top-panel .gui-search-bar form input{border:0;outline:0}.gui-material .gui-search-bar form input{border:0;outline:none}\n",".gui-dark{border-color:#575757;border-radius:2px;color:#f0f0f0;font-family:Arial;font-size:14px}.gui-dark *{border-color:#575757;color:#f0f0f0}.gui-dark.gui-structure{border-radius:2px}.gui-dark .gui-header-cell,.gui-dark .gui-structure-header-columns{background:#333;height:46px}.gui-dark .gui-structure-border{border:none;box-shadow:5px 5px 10px 2px #1f1f1f}.gui-dark .gui-header-cell{border-bottom:1px solid;border-color:inherit;padding-left:16px;padding-right:16px}.gui-dark .gui-structure-container-element .gui-structure-cell>span{padding-left:16px;padding-right:16px}.gui-dark .gui-structure-header .gui-header{border-bottom-color:#666;color:#bdbdbd}.gui-dark .gui-structure-header .gui-header .gui-header-cell:hover{background:#525252}.gui-dark .gui-structure-header .gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper{background-color:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-list{background:#383838}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item{color:#f0f0f0}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item.gui-active{color:#ce93d8}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-content{box-shadow:0 1px 2px #525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-structure-column-manager ol li:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move{color:#f0f0f0}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover svg line{stroke:#ce93d8}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container .gui-dropdown-menu{border-color:#666}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item:hover svg line{stroke:#ce93d8}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item{background:#383838;color:#f0f0f0;display:-ms-flexbox;display:flex}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item{color:#f0f0f0}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-checkbox{color:#f0f0f0}.gui-dark .gui-structure-column-manager>div:hover{background:#525252}.gui-dark .gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:#525252}.gui-dark .gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:rgba(124,185,246,.3215686275)}.gui-dark.gui-rows-odd .gui-row.odd,.gui-dark.gui-rows-even .gui-row.even{background:#4f4f4f}.gui-dark .gui-horizontal-grid .gui-structure-container-element .gui-row .gui-cell{border-bottom-color:#666}.gui-dark .gui-paging.gui-paging-bottom{border-top-color:#666}.gui-dark .gui-paging.gui-paging-top{border-bottom-color:#666}.gui-dark ::-webkit-scrollbar{width:15px}.gui-dark ::-webkit-scrollbar-track{background:#616161}.gui-dark ::-webkit-scrollbar-thumb{background:#424242}.gui-dark ::-webkit-scrollbar-thumb:hover{background:#212121}.gui-dark .gui-structure-top-panel,.gui-dark .gui-structure-info-panel,.gui-dark .gui-paging,.gui-dark .gui-structure-container-element,.gui-dark .gui-row{background:#444}.gui-dark .gui-structure-top-panel,.gui-dark .gui-structure-info-panel,.gui-dark .gui-paging{height:42px;padding-left:16px;padding-right:16px}.gui-dark .gui-structure-summaries-cell{background:#383838;color:#f0f0f0}.gui-dark .gui-structure-summaries-panel-bottom .gui-structure-summaries-cell{border-top-color:#666}.gui-dark .gui-structure-summaries-panel-top .gui-structure-summaries-cell{border-bottom-color:#666}.gui-dark .gui-structure-info-panel{background:#383838;border-top-color:#666}.gui-dark .gui-structure-info-panel div{color:#f0f0f0}.gui-dark .gui-structure-info-panel div button{background:#616161}.gui-dark .gui-structure-info-panel p,.gui-dark .gui-structure-info-modal p{color:#f0f0f0}.gui-dark gui-paging-alternative-navigator .gui-button{background:transparent;color:#f0f0f0;margin:0 4px;padding:0}.gui-dark gui-paging-alternative-navigator .gui-button:hover{background:transparent}.gui-dark gui-paging-alternative-navigator .gui-button:disabled{background:transparent;color:#f0f0f0;opacity:.4}.gui-dark gui-paging-alternative-navigator gui-paging-alternative-pages .gui-paging-active-page{box-shadow:0 1px #f0f0f0;color:#f0f0f0}.gui-dark .gui-search-bar form{background:#444}.gui-dark .gui-search-bar input{background:#444;border:0;color:#f0f0f0;cursor:pointer}.gui-dark .gui-search-bar:hover .gui-search-icon-svg line,.gui-dark .gui-search-bar:hover .gui-search-icon-svg circle{stroke:#878787}.gui-dark .gui-icon{cursor:pointer}.gui-dark .gui-icon svg{stroke:#aaa;transition:stroke .3s ease-in-out}.gui-dark .gui-icon svg:hover{stroke:#e6e6e6!important}.gui-dark .gui-empty-source div{background:#383838}.gui-dark .gui-dialog-wrapper .gui-dialog-content .gui-schema-manager-dialog .gui-dialog-title{color:#f0f0f0}.gui-dark .gui-title-panel,.gui-dark .gui-footer-panel{background:#383838}.gui-dark .gui-structure-ordered-list li:hover{background:#525252}\n",".gui-light{border-color:#f0f0f0;font-family:Arial;font-size:14px}.gui-light *{border-color:#f0f0f0}.gui-light.gui-structure-border{border:0}.gui-light.gui-structure,.gui-light .gui-header{background:#fff;color:#333;font-family:Arial}.gui-light .gui-header-cell,.gui-light .gui-structure-header-columns{height:56px}.gui-light.gui-structure-border{border-color:#f0f0f0 transparent}.gui-light .gui-header-cell,.gui-light .gui-structure-container-element .gui-structure-cell>span{padding-left:16px;padding-right:16px}.gui-light .gui-structure-header .gui-header{color:#333;font-weight:700}.gui-light .gui-structure-header .gui-header .gui-header-cell:hover{background:#f3f9ff}.gui-light .gui-structure-header .gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper{background-color:#f3f9ff}.gui-light .gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:#f3f9ff}.gui-light .gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:rgba(124,185,246,.3215686275)}.gui-light.gui-rows-odd .gui-row.odd,.gui-light.gui-rows-even .gui-row.even{background:#f7f7f7}.gui-light gui-paging-alternative-navigator .gui-button{background:transparent;color:#333;margin:0 4px;padding:0}.gui-light gui-paging-alternative-navigator .gui-button:hover{background:transparent}.gui-light gui-paging-alternative-navigator .gui-button:disabled{background:transparent;color:#333;opacity:.4}.gui-light .gui-structure-top-panel,.gui-light .gui-structure-info-panel,.gui-light .gui-paging{height:56px;padding-left:16px;padding-right:16px}.gui-light .gui-structure-top-panel,.gui-light .gui-structure-info-panel,.gui-light .gui-paging,.gui-light .gui-structure-summaries-panel{background:#fff}.gui-light .gui-search-bar form input{border:0;outline:none}\n",".gui-structure.gui-generic{border-color:#2224261a;font-family:Arial;font-size:14px}.gui-structure.gui-generic *{border-color:#2224261a}.gui-structure.gui-generic .gui-header-cell,.gui-structure.gui-generic .gui-structure-header-columns{height:46px}.gui-structure.gui-generic .gui-header .gui-header-cell.gui-header-sortable:hover{background:rgba(0,0,0,.04);transition:.15s all}.gui-structure.gui-generic .gui-header-cell,.gui-structure.gui-generic .gui-structure-container-element .gui-structure-cell>span{padding-left:12px;padding-right:12px}.gui-structure.gui-generic .gui-structure-container-element .gui-structure-cell:last-child>span{padding-right:20px}.gui-structure.gui-generic .gui-structure-header.gui-header-bottom .gui-header{border-color:inherit;border-style:solid;border-width:2px 0 0}.gui-structure.gui-generic .gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:rgba(0,0,0,.04)}.gui-structure.gui-generic .gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:#e6f7ff}.gui-structure.gui-generic .gui-structure-header .gui-header{background:#f9fafb;border-width:0 0 2px;color:#464646;font-weight:700}.gui-structure.gui-generic .gui-rows-odd .gui-row.odd,.gui-structure.gui-generic .gui-rows-even .gui-row.even{background:#f9fafb}.gui-structure.gui-generic .gui-cell .gui-button,.gui-structure.gui-generic .gui-cell .gui-badge{padding:0}.gui-structure.gui-generic .gui-paging-alternative-navigator .gui-button{background:transparent;color:#333;margin:0 4px;padding:0}.gui-structure.gui-generic .gui-paging-alternative-navigator .gui-button:hover{background:transparent}.gui-structure.gui-generic .gui-paging-alternative-navigator .gui-button:disabled{background:transparent;color:#ccc;opacity:.4}.gui-structure.gui-generic .gui-structure-summaries-panel{background:#f9fafb}.gui-structure.gui-generic .gui-structure-top-panel,.gui-structure.gui-generic .gui-structure-info-panel,.gui-structure.gui-generic .gui-paging{height:46px;padding-left:12px;padding-right:12px}.gui-structure.gui-generic .gui-structure-info-panel{background:#f9fafb;border-radius:0}.gui-structure.gui-generic .gui-structure-top-panel{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;padding-right:0}.gui-structure.gui-generic .gui-structure-top-panel .gui-search-bar form input{border:0;outline:0}.gui-structure.gui-generic .gui-rows-odd gui-row.odd,.gui-structure.gui-generic .gui-rows-even .gui-row.even{background:#f9fafb}.gui-structure.gui-generic .gui-row:hover{background:#f9fafb;transition:.15s all}\n"],encapsulation:2,changeDetection:0}),i})(),Nu=(()=>{class i extends z{constructor(e,n){super(),this.structureHeaderTopEnabledArchive=e,this.structureHeaderBottomEnabledArchive=n}ngOnChanges(e){this.isDefined("columnHeaderTop",e)&&this.structureHeaderTopEnabledArchive.next(this.columnHeaderTop),this.isDefined("columnHeaderBottom",e)&&this.structureHeaderBottomEnabledArchive.next(this.columnHeaderBottom)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(Po),r.rXU(Ki))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","columnHeaderTop","","columnHeaderBottom",""],["gui-structure","columnHeaderTop",""],["gui-structure","columnHeaderBottom",""]],inputs:{columnHeaderTop:"columnHeaderTop",columnHeaderBottom:"columnHeaderBottom"},features:[r.Vt3,r.OA$]}),i})(),Hy=(()=>{class i extends z{constructor(e,n,o,s){super(),this.structureId=e,this.compositionId=n,this.pagingCommandInvoker=o,this.pagingEventRepository=s,this.pageChanged=new r.bkB,this.pageSizeChanged=new r.bkB}ngOnChanges(e){if(this.isDefined("paging",e)){let n;n="boolean"==typeof this.paging?{enabled:this.paging}:this.paging,this.pagingCommandInvoker.setPaging(n,this.compositionId)}}ngOnInit(){this.subscribeAndEmit(this.pagingEventRepository.onPageChange(this.structureId.toReadModelRootId()),this.pageChanged),this.subscribeAndEmit(this.pagingEventRepository.onPageSizeChange(this.structureId.toReadModelRootId()),this.pageSizeChanged)}onPageChange(e){this.pageChanged.emit(e)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(x),r.rXU(J),r.rXU(ke),r.rXU(Et))},i.\u0275dir=r.FsC({type:i,inputs:{paging:"paging"},outputs:{pageChanged:"pageChanged",pageSizeChanged:"pageSizeChanged"},features:[r.Vt3,r.OA$]}),i})(),Bu=(()=>{class i extends Hy{constructor(e,n,o,s,a){super(e,n,o,s),this.pagingDisplayModeArchive=a}ngOnChanges(e){if(this.isDefined("paging",e)){let n;"boolean"==typeof this.paging?n={enabled:this.paging}:(n=this.paging,void 0!==this.paging.displayMode&&this.pagingDisplayModeArchive.next(this.paging.displayMode)),this.pagingCommandInvoker.setPaging(n,this.structureId)}}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(x),r.rXU(J),r.rXU(ke),r.rXU(Et),r.rXU(Cn))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","paging",""]],features:[r.Vt3,r.OA$]}),i})(),Uy=(()=>{class i extends z{constructor(e,n,o){super(),this.structureId=e,this.searchEventRepository=n,this.searchCommandInvoker=o,this.searchPhraseChanged=new r.bkB}ngOnChanges(e){if(this.isDefined("searching",e)){let n;n="boolean"==typeof this.searching?{enabled:this.searching}:this.searching,this.searchCommandInvoker.setSearchingConfig(n,this.structureId)}}ngOnInit(){this.subscribeAndEmit(this.searchEventRepository.onSearchPhrase(this.structureId.toReadModelRootId()),this.searchPhraseChanged)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(x),r.rXU(It),r.rXU(Be))},i.\u0275dir=r.FsC({type:i,inputs:{searching:"searching"},outputs:{searchPhraseChanged:"searchPhraseChanged"},features:[r.Vt3,r.OA$]}),i})(),Hu=(()=>{class i extends Uy{constructor(e,n,o){super(e,n,o)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(x),r.rXU(It),r.rXU(Be))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","searching",""]],features:[r.Vt3]}),i})(),$y=(()=>{class i extends z{constructor(e,n,o){super(),this.structureId=e,this.formationEventRepository=n,this.formationPublisher=o,this.itemsSelected=new r.bkB,this.selectedRows=new r.bkB}ngOnChanges(e){this.isDefined("rowSelection",e)&&(this.rowSelection.isEnabledDefined()&&this.formationPublisher.setSelection(this.rowSelection.isEnabled(),this.structureId),this.rowSelection.isTypeDefined()&&this.formationPublisher.changeType(this.rowSelection.getType(),this.structureId),this.rowSelection.isModeDefined()&&this.formationPublisher.changeMode(this.rowSelection.getMode(),this.structureId),this.rowSelection.isMatcherDefined()&&this.formationPublisher.setMatcher(this.rowSelection.getMatcher(),this.structureId),this.rowSelection.isSelectedRowIndexesDefined()&&this.formationPublisher.selectByIndex(this.rowSelection.getSelectedRowIndexes(),this.structureId),this.rowSelection.isSelectedRowIdsDefined()&&this.formationPublisher.selectByIds(this.rowSelection.getSelectedRowIds(),this.structureId),this.rowSelection.isCustomSelectConfig()&&this.formationPublisher.setCustomSelection(this.rowSelection.getCustomSelectConfig(),this.structureId))}ngOnInit(){this.subscribeAndEmit(this.formationEventRepository.onItemSelected(this.structureId),this.selectedRows),this.subscribeAndEmit(this.selectItemsSelected(),this.itemsSelected)}selectItemsSelected(){return this.formationEventRepository.onItemSelected(this.structureId).pipe(h(e=>e.map(n=>n.getItem())))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(x),r.rXU(_t),r.rXU(ae))},i.\u0275dir=r.FsC({type:i,inputs:{rowSelection:"rowSelection"},outputs:{itemsSelected:"itemsSelected",selectedRows:"selectedRows"},features:[r.Vt3,r.OA$]}),i})(),Uu=(()=>{class i extends $y{constructor(e,n,o){super(e,n,o)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(x),r.rXU(_t),r.rXU(ae))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","rowSelection",""],["gui-structure","selectionGate",""]],inputs:{selectionGate:"selectionGate"},features:[r.Vt3]}),i})(),$u=(()=>{class i extends z{constructor(e){super(),this.translationService=e}ngOnChanges(e){this.isDefined("localization",e)&&(this.localization.translationResolver&&this.translationService.setResolver(this.localization.translationResolver),this.localization.translation&&this.translationService.changeTranslation(this.localization.translation))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(lt))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","localization",""]],inputs:{localization:"localization"},features:[r.Vt3,r.OA$]}),i})(),ju=(()=>{class i extends z{constructor(e,n){super(),this.structureTitlePanelConfigArchive=e,this.structureFooterPanelConfigArchive=n}ngOnChanges(e){this.isDefined("titlePanel",e)&&this.structureTitlePanelConfigArchive.next(this.titlePanel),this.isDefined("footerPanel",e)&&this.structureFooterPanelConfigArchive.next(this.footerPanel)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(er),r.rXU(tr))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","titlePanel","","footerPanel",""]],inputs:{titlePanel:"titlePanel",footerPanel:"footerPanel"},features:[r.Vt3,r.OA$]}),i})(),Xu=(()=>{class i extends z{constructor(e){super(),this.structureDetailViewConfigArchive=e}ngOnChanges(e){this.isDefined("rowDetail",e)&&this.structureDetailViewConfigArchive.next(this.rowDetail)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(vn))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","rowDetail",""]],inputs:{rowDetail:"rowDetail"},features:[r.Vt3,r.OA$]}),i})(),Lu=(()=>{class i extends z{constructor(e){super(),this.structureColumnMenuConfigArchive=e}ngOnChanges(e){this.isDefined("columnMenu",e)&&this.structureColumnMenuConfigArchive.nextConfig(this.columnMenu)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(Qi))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","columnMenu",""]],inputs:{columnMenu:"columnMenu"},features:[r.Vt3,r.OA$]}),i})(),zu=(()=>{class i extends z{constructor(e,n){super(),this.structureId=e,this.summariesCommandInvoker=n}ngOnChanges(e){k(e.summaries,()=>{this.summariesCommandInvoker.setConfig(this.summaries,this.structureId)})}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(x),r.rXU(ci))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","summaries",""]],inputs:{summaries:"summaries"},features:[r.Vt3,r.OA$]}),i})(),Wu=(()=>{class i extends z{constructor(e){super(),this.structureInfoPanelConfigService=e}ngOnChanges(e){this.isDefined("infoPanel",e)&&("boolean"==typeof this.infoPanel&&(this.infoPanel={enabled:this.infoPanel}),this.structureInfoPanelConfigService.set(this.infoPanel))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(fn))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","infoPanel",""]],inputs:{infoPanel:"infoPanel"},features:[r.Vt3,r.OA$]}),i})(),Yu=(()=>{class i extends z{constructor(e,n){super(),this.schemaReadModelRootId=e,this.schemaPublisher=n}ngOnChanges(e){this.isDefined("rowClass",e)&&this.schemaPublisher.setRowClass(this.rowClass,this.schemaReadModelRootId)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(ie),r.rXU(Me))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","rowClass",""]],inputs:{rowClass:"rowClass"},features:[r.Vt3,r.OA$]}),i})(),Ku=(()=>{class i extends z{constructor(e,n){super(),this.schemaReadModelRootId=e,this.schemaPublisher=n}ngOnChanges(e){this.isDefined("rowStyle",e)&&this.schemaPublisher.setRowStyle(this.rowStyle,this.schemaReadModelRootId)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(ie),r.rXU(Me))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","rowStyle",""]],inputs:{rowStyle:"rowStyle"},features:[r.Vt3,r.OA$]}),i})(),qu=(()=>{class i extends z{constructor(e,n,o){super(),this.schemaId=e,this.schemaCommandInvoker=n,this.schemaEventRepository=o,this.rowColoringChanged=new r.bkB}ngOnChanges(e){this.isDefined("rowColoring",e)&&this.schemaCommandInvoker.setRowColoring(this.rowColoring,this.schemaId)}ngOnInit(){this.subscribeAndEmit(this.schemaEventRepository.onRowColoring(this.schemaId),this.rowColoringChanged)}ngOnDestroy(){super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(ie),r.rXU(Me),r.rXU(Tt))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","rowColoring",""]],inputs:{rowColoring:"rowColoring"},outputs:{rowColoringChanged:"rowColoringChanged"},features:[r.Vt3,r.OA$]}),i})(),Qu=(()=>{class i extends z{constructor(e,n,o){super(),this.schemaId=e,this.schemaCommandInvoker=n,this.schemaEventRepository=o,this.horizontalGridChanged=new r.bkB,this.verticalGridChanged=new r.bkB,this.subscribeAndEmit(this.schemaEventRepository.onHorizontalGridChanged(this.schemaId),this.horizontalGridChanged),this.subscribeAndEmit(this.schemaEventRepository.onVerticalGridChanged(this.schemaId),this.verticalGridChanged)}ngOnChanges(e){this.isDefined("verticalGrid",e)&&this.schemaCommandInvoker.setVerticalGrid(this.verticalGrid,this.schemaId),this.isDefined("horizontalGrid",e)&&this.schemaCommandInvoker.setHorizontalGrid(this.horizontalGrid,this.schemaId)}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(ie),r.rXU(Me),r.rXU(Tt))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","verticalGrid","","horizontalGrid",""]],inputs:{verticalGrid:"verticalGrid",horizontalGrid:"horizontalGrid"},outputs:{horizontalGridChanged:"horizontalGridChanged",verticalGridChanged:"verticalGridChanged"},features:[r.Vt3,r.OA$]}),i})(),Ju=(()=>{class i extends z{constructor(e,n){super(),this.structureId=e,this.sortingCommandInvoker=n}ngOnChanges(e){k(e.sorting,()=>{let n;n="boolean"==typeof this.sorting?{enabled:this.sorting}:this.sorting,this.sortingCommandInvoker.setSortingConfig(n,this.structureId)})}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(x),r.rXU(He))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","sorting",""]],inputs:{sorting:"sorting"},features:[r.Vt3,r.OA$]}),i})(),Zu=(()=>{class i extends z{constructor(e,n){super(),this.structureId=e,this.sourceCommandInvoker=n}ngOnChanges(e){this.isDefined("loading",e)&&this.sourceCommandInvoker.setLoading(this.loading,this.structureId)}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(x),r.rXU(Fe))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","loading",""]],inputs:{loading:"loading"},features:[r.Vt3,r.OA$]}),i})(),el=(()=>{class i extends z{constructor(e,n){super(),this.structureId=e,this.structureCommandInvoker=n}ngOnChanges(e){k(e.filtering,()=>{let n;n="boolean"==typeof this.filtering?{enabled:this.filtering}:this.filtering,this.structureCommandInvoker.setFilterConfig(n,this.structureId)})}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(x),r.rXU(De))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","filtering",""]],inputs:{filtering:"filtering"},features:[r.Vt3,r.OA$]}),i})(),tl=(()=>{class i extends z{constructor(e,n){super(),this.structureId=e,this.structureCommandInvoker=n}ngOnChanges(e){k(e.quickFilters,()=>{let n;n="boolean"==typeof this.quickFilters?{enabled:this.quickFilters}:this.quickFilters,this.structureCommandInvoker.setQuickFiltersConfig(n,this.structureId)})}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(x),r.rXU(De))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","quickFilters",""]],inputs:{quickFilters:"quickFilters"},features:[r.Vt3,r.OA$]}),i})(),il=(()=>{class i extends z{constructor(e,n){super(),this.structureId=e,this.structureCommandInvoker=n}ngOnChanges(e){this.isDefined("virtualScroll",e)&&(this.virtualScroll?this.structureCommandInvoker.enableVirtualScroll(this.structureId):this.structureCommandInvoker.disableVirtualScroll(this.structureId))}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(x),r.rXU(De))},i.\u0275dir=r.FsC({type:i,selectors:[["gui-structure","virtualScroll",""]],inputs:{virtualScroll:"virtualScroll"},features:[r.Vt3,r.OA$]}),i})(),Nn=(()=>{class i extends Bb{constructor(e,n,o,s,a,c,u,g,p,b,E,P,U,V,C,$,le){super(),this.platformId=e,this.elementRef=n,this.changeDetectorRef=o,this.gridRegister=s,this.structureIdGenerator=a,this.formationCommandDispatcher=c,this.formationWarehouse=u,this.compositionCommandInvoker=g,this.compositionWarehouse=p,this.filterIntegration=b,this.sourceCommandDispatcher=E,this.searchCommandInvoker=P,this.schemaCommandInvoker=U,this.structureCommandDispatcher=V,this.summariesCommandInvoker=C,this.sortingCommandInvoker=$,this.pagingCommandInvoker=le,this.gridThemeCommandInvoker=new Ub(this.schemaCommandInvoker,this.gridThemeConverter,this.gridRowColoringConverter),this.classModifier=new ct(this.elementRef.nativeElement),this.attributeModifier=new $b(this.elementRef.nativeElement)}ngOnInit(){this.classModifier.getHost().add("gui-grid"),this.initApi();let e=this.gridId;void 0===e&&(e="gui-grid-"+this.structureIdGenerator.generateId()),this.localGridId=e,this.exposeGridId(),this.gridRegister.register(e,this,this.structureRef.getStructureId()),(0,l.UE)(this.platformId)&&(window.getGuiGrid=n=>{if(this.gridRegister.getValues(n))return this.api})}ngOnDestroy(){this.gridRegister.unregister(this.localGridId)}getElementRef(){return this.elementRef}detectChanges(){this.changeDetectorRef.detectChanges()}exposeGridId(){this.attributeModifier.getHost().setAttribute(i.GUI_GRID_ID,this.localGridId)}initApi(){this.api=new Hb(this.structureRef.structureId,this.structureRef.compositionId,this.structureRef.schemaReadModelRootId,this.formationCommandDispatcher,this.formationWarehouse,this.compositionCommandInvoker,this.compositionWarehouse,this.filterIntegration,this.sourceCommandDispatcher,this.searchCommandInvoker,this.gridThemeCommandInvoker,this.structureCommandDispatcher,this.summariesCommandInvoker,this.sortingCommandInvoker,this.pagingCommandInvoker).provide()}}return i.GUI_GRID_ID="gui-grid-id",i.\u0275fac=function(e){return new(e||i)(r.rXU(r.Agw),r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(dc),r.rXU(Li),r.rXU(ae),r.rXU(Ie),r.rXU(Ye),r.rXU(Te),r.rXU(gn),r.rXU(Fe),r.rXU(Be),r.rXU(Me),r.rXU(De),r.rXU(ci),r.rXU(He),r.rXU(ke))},i.\u0275cmp=r.VBU({type:i,selectors:[["gui-grid"]],viewQuery:function(e,n){if(1&e&&r.GBs(db,7),2&e){let o;r.mGM(o=r.lsd())&&(n.structureRef=o.first)}},inputs:{gridId:"gridId"},features:[r.Jv_([{provide:$t,useValue:Xb},{provide:cc,useExisting:i}]),r.Vt3],decls:2,vars:31,consts:[["structure",""],[3,"cellEditCanceled","cellEditEntered","cellEditSubmitted","columnsChanged","containerWidthChanged","horizontalGridChanged","itemsSelected","pageChanged","pageSizeChanged","rowColoringChanged","searchPhraseChanged","selectedRows","sourceEdited","themeChanged","verticalGridChanged","autoResizeWidth","cellEditing","columnHeaderBottom","columnHeaderTop","columnMenu","columns","editMode","filtering","footerPanel","horizontalGrid","infoPanel","loading","localization","maxHeight","paging","quickFilters","rowClass","rowColoring","rowDetail","rowHeight","rowSelection","rowStyle","searching","sorting","source","summaries","theme","titlePanel","verticalGrid","virtualScroll","width"]],template:function(e,n){if(1&e){const o=r.RV6();r.j41(0,"gui-structure",1,0),r.bIt("cellEditCanceled",function(){return r.eBV(o),r.Njj(n.onCellEditCancel())})("cellEditEntered",function(){return r.eBV(o),r.Njj(n.onCellEditEnter())})("cellEditSubmitted",function(){return r.eBV(o),r.Njj(n.onCellEditSubmit())})("columnsChanged",function(){return r.eBV(o),r.Njj(n.onColumnsChange())})("containerWidthChanged",function(a){return r.eBV(o),r.Njj(n.onContainerWidthChange(a))})("horizontalGridChanged",function(a){return r.eBV(o),r.Njj(n.onHorizontalGrid(a))})("itemsSelected",function(a){return r.eBV(o),r.Njj(n.onItemSelect(a))})("pageChanged",function(a){return r.eBV(o),r.Njj(n.onPageChange(a))})("pageSizeChanged",function(a){return r.eBV(o),r.Njj(n.onPageSizeChange(a))})("rowColoringChanged",function(a){return r.eBV(o),r.Njj(n.onRowColoring(a))})("searchPhraseChanged",function(a){return r.eBV(o),r.Njj(n.onSearchPhrase(a))})("selectedRows",function(a){return r.eBV(o),r.Njj(n.onRowsSelect(a))})("sourceEdited",function(a){return r.eBV(o),r.Njj(n.onSourceEdit(a))})("themeChanged",function(a){return r.eBV(o),r.Njj(n.onTheme(a))})("verticalGridChanged",function(a){return r.eBV(o),r.Njj(n.onVerticalGrid(a))}),r.k0s()}2&e&&r.Y8G("autoResizeWidth",n.autoResizeWidth)("cellEditing",n.cellEditingConfig)("columnHeaderBottom",n.columnHeaderBottom)("columnHeaderTop",n.columnHeaderTop)("columnMenu",n.columnMenuConfig)("columns",n.columnsConfig)("editMode",n.editMode)("filtering",n.filtering)("footerPanel",n.footerPanel)("horizontalGrid",n.horizontalGrid)("infoPanel",n.infoPanel)("loading",n.loading)("localization",n.localization)("maxHeight",n.maxHeight)("paging",n.paging)("quickFilters",n.quickFilters)("rowClass",n.rowClass)("rowColoring",n.rowColoringConfig)("rowDetail",n.rowDetail)("rowHeight",n.rowHeight)("rowSelection",n.rowSelectionConfig)("rowStyle",n.rowStyle)("searching",n.searching)("sorting",n.sorting)("source",n.source)("summaries",n.summaries)("theme",n.themeConfig)("titlePanel",n.titlePanel)("verticalGrid",n.verticalGrid)("virtualScroll",n.virtualScroll)("width",n.width)},dependencies:[ms,Nu,Bu,Hu,Uu,$u,ju,Xu,Lu,zu,Wu,Yu,Ku,qu,Qu,Ju,Zu,el,tl,il],styles:[".gui-grid{display:block;width:100%}\n"],encapsulation:2}),i})();const qt=[Wr,Oe,Yr,yt,Bt,qr,Qr,tn,rn,Zr,en,on,sn,ai,Ui,an,St,Jr,Bi,ai];let jy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({}),i})(),fs=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[fu],imports:[l.MD,qt,Ae,dt]}),i})(),rl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[vu],imports:[l.MD,qt,dt,Ae]}),i})();class ur{constructor(){}}class Xy extends w{constructor(t,e,n,o){super(t,"ToggleFilterCommand"),this.fieldId=e,this.externalFilterId=n,this.filterValue=o}getFieldId(){return this.fieldId}getExternalFilterId(){return this.externalFilterId}getFilterValue(){return this.filterValue}}class vs extends _{constructor(t){super(t,null,"FilterToggledEvent")}}class Ly{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return Xy}handle(t,e){const n=e.getFieldId(),o=e.getExternalFilterId(),s=e.getFilterValue();t.toggleFilter(n,o,s)}publish(t,e){this.domainEventPublisher.publish(new vs(e.getAggregateId()))}}class nl extends w{constructor(t,e,n,o){super(t,"AddFilterCommand"),this.fieldId=e,this.filterTypeId=n,this.value=o}getFieldId(){return this.fieldId}getFilterTypeId(){return this.filterTypeId}getValue(){return this.value}}class zy{forCommand(){return nl}handle(t,e){const n=e.getFieldId(),o=e.getFilterTypeId(),s=e.getValue();t.addFilter(n,o,s)}}class ol extends w{constructor(t){super(t,"RemoveAllFiltersCommand")}}class Wy{forCommand(){return ol}handle(t,e){t.removeAllFilters()}}class sl extends w{constructor(t,e){super(t,"RemoveFilterCommand"),this.filterId=e}getFilterId(){return this.filterId}}class Yy{forCommand(){return sl}handle(t,e){const n=e.getFilterId();t.removeFilter(n)}}class al extends w{constructor(t,e){super(t,"SetConfigFilterCommand"),this.filterConfig=e}getConfig(){return this.filterConfig}}class cl extends _{constructor(t,e){super(t,e,"ConfigFilterSetEvent"),this.enabled=e}getEnabled(){return this.enabled}}class Ky{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return al}handle(t,e){const n=e.getConfig();t.setFilterConfig(n)}publish(t,e){const n=e.getConfig();this.domainEventPublisher.publish(new cl(e.getAggregateId(),n.enabled))}}class ul extends w{constructor(t,e){super(t,"SetConfigQuickFilterCommand"),this.quickFiltersConfig=e}getConfig(){return this.quickFiltersConfig}}class ll extends _{constructor(t,e){super(t,e,"ConfigQuickFilterSetEvent"),this.enabled=e}getEnabled(){return this.enabled}}class qy{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return ul}handle(t,e){const n=e.getConfig();t.setQuickFiltersConfig(n)}publish(t,e){const n=e.getAggregateId(),o=e.getConfig();this.domainEventPublisher.publish(new ll(n,o.enabled))}}class Qy extends Ur{constructor(t,e,n,o){super(t),this.filterId=t,this.fieldId=e,this.filterTypeId=n,this.filterValue=o}getFilterId(){return this.filterId}getFilterTypeId(){return this.filterTypeId}getFieldId(){return this.fieldId}getFilterValue(){return this.filterValue}}class Jy{constructor(t=!1,e=!1,n=!1){this.filteringEnabled=!1,this.searchEnabled=!1,this.quickFiltersEnabled=!1,this.filteringEnabled=t,this.searchEnabled=e,this.quickFiltersEnabled=n}isFilteringEnabled(){return this.filteringEnabled}isQuickFilteringEnabled(){return this.quickFiltersEnabled}isSearchingEnabled(){return this.searchEnabled}setFilterConfig(t){t&&null!=t.enabled&&(this.filteringEnabled=t.enabled)}setSearchingConfig(t){t&&null!=t.enabled&&(this.searchEnabled=t.enabled)}setQuickFiltersConfig(t){t&&null!=t.enabled&&(this.quickFiltersEnabled=t.enabled)}}class Zy extends ii{constructor(t){super(t)}toString(){return this.getId().toString()}filterMany(t,e,n){return 0===t.length?t:t.filter(o=>this.filterEntity(o,e,n))}filterOne(t,e,n){return this.filterEntity(t,e,n)}}class eS extends Zy{constructor(t){super(t)}getName(){return"Contains"}filterEntity(t,e,n){return!!e.getValue(t).includes(n)}}class tS extends ii{constructor(t){super(t),this.id=t}toString(){return this.id}}let iS=(()=>{class i{generate(){return i.index+=1,new tS(`${i.index}`)}}return i.index=0,i})();class rS{constructor(t,e){this.filterTypeId=t,this.name=e}getId(){return this.filterTypeId}getName(){return this.name}}class nS{constructor(t){this.fieldIds=[],this.map=new WeakMap,this.filterTypeMap=new WeakMap,this.dataTypeToFilterType=new Map,this.filterTypeIdGenerator=new iS,this.assignFilterTypes(),this.addFields(t)}getFilterType(t){return this.filterTypeMap.get(t)}getFieldIdsToFilterTypes(){const t=new Map;for(const e of this.fieldIds){const o=this.map.get(e).map(s=>new rS(s.getId(),s.getName()));t.set(e.toString(),o)}return t}addFields(t){for(const e of t)this.addField(e)}addField(t){const e=t.getId(),n=t.getDataType(),o=this.dataTypeToFilterType.get(n);this.fieldIds.push(e),this.map.set(e,Array.from(o))}assignFilterTypes(){this.assignFilterTypesForDataTypeUnknown(),this.assignFilterTypesForDataTypeNumber(),this.assignFilterTypesForDataTypeString(),this.assignFilterTypesForDataTypeBoolean(),this.assignFilterTypesForDataTypeDate(),this.assignFilterTypesForDataTypeCustom()}assignFilterTypesForDataTypeUnknown(){this.dataTypeToFilterType.set(f.UNKNOWN,[])}assignFilterTypesForDataTypeNumber(){this.dataTypeToFilterType.set(f.NUMBER,[])}assignFilterTypesForDataTypeString(){const t=[new eS(this.generateId())];this.dataTypeToFilterType.set(f.STRING,t),this.addFilterTypes(t)}assignFilterTypesForDataTypeBoolean(){this.dataTypeToFilterType.set(f.BOOLEAN,[])}assignFilterTypesForDataTypeDate(){this.dataTypeToFilterType.set(f.DATE,[])}assignFilterTypesForDataTypeCustom(){this.dataTypeToFilterType.set(f.CUSTOM,[])}generateId(){return this.filterTypeIdGenerator.generate()}addFilterTypes(t){for(const e of t)this.filterTypeMap.set(e.getId(),e)}}class oS extends ii{constructor(t){super(t)}toString(){return this.getId()}}let sS=(()=>{class i{static generateId(){return new oS(`${i.index}`)}}return i.index=0,i})();class aS{constructor(t,e,n,o){this.filterId=t,this.fieldName=e,this.filterTypeName=n,this.value=o}getText(){return`${this.fieldName}: ${this.filterTypeName}: ${this.value}`}getFilterId(){return this.filterId}getFieldName(){return this.fieldName}getFilterTypeName(){return this.filterTypeName}getValue(){return this.value}}class cS{constructor(){this.filterSettings=new Jy,this.filters=new Map,this.activeFilters=[]}getSettings(){return this.filterSettings}getAll(){return Array.from(this.filters).map(t=>t[1])}getAllActiveFilters(t){return this.activeFilters.map(e=>new aS(e.getFilterId(),t.get(e.getFieldId().toString()).getName(),this.filterTypeManager.getFilterType(e.getFilterTypeId()).getName(),e.getFilterValue()))}getFilterTypes(){return this.filterTypeManager.getFieldIdsToFilterTypes()}assignFilterTypes(t){this.filterTypeManager=new nS(t)}add(t,e,n){const o=new Qy(sS.generateId(),t,e,n);this.activeFilters.push(o)}filter(t,e){let n=Array.from(t);for(const o of this.activeFilters){const s=o.getFilterTypeId(),a=this.getFilterType(s),c=o.getFilterValue();n=a.filterMany(n,e.get(o.getFieldId().toString()),c)}return n}removeAll(){this.activeFilters.length=0}remove(t){this.activeFilters=this.activeFilters.filter(e=>e.getFilterId()!==t)}getFilterType(t){return this.filterTypeManager.getFilterType(t)}}class dl{create(t=!1){return new cS}}let bs=(()=>{class i extends A{constructor(){super(i.default)}}return i.default=!1,i})(),uS=(()=>{class i{constructor(e){this.quickFilterEnabledArchive=e}forEvent(){return ll}handle(e){e.ofMessageType("ConfigQuickFilterSetEvent")&&this.quickFilterEnabledArchive.next(e.getAggregateId(),e.getEnabled())}}return i.services=[bs],i})(),Cs=(()=>{class i extends A{constructor(){super(i.default)}}return i.default=!1,i})(),lS=(()=>{class i{constructor(e){this.filterEnabledArchive=e}forEvent(){return cl}handle(e){e.ofMessageType("ConfigFilterSetEvent")&&this.filterEnabledArchive.next(e.getAggregateId(),e.getEnabled())}}return i.services=[Cs],i})();class gl{constructor(t){this.map=t}getFilterTypes(t){const e=this.map.get(t.toString());return void 0===e?[]:e}}class Si extends A{constructor(){super(Si.default)}}Si.default=new gl(new Map);class hl extends _{constructor(t,e){super(t,e,"FilterTypesInitedEvent"),this.map=e}getMap(){return this.map}}let ys=(()=>{class i extends A{constructor(){super(i.default)}}return i.default=[],i})();const Ss=ze();Ss.provide(ys),Ss.provide(Si);const Bn=Ss;class dS{constructor(){this.filterTypeArchive=Bn.resolve(Si)}forEvent(){return hl}handle(t){if(t.ofMessageType("FilterTypesInitedEvent")){const e=t.getMap();this.filterTypeArchive.next(t.getAggregateId(),new gl(e))}}}class xi extends _{constructor(t,e){super(t,e,"ActiveFiltersSetEvent"),this.filters=e}getFilters(){return this.filters}}class gS{constructor(){this.activeFilterRepository=Bn.resolve(ys)}forEvent(){return xi}handle(t){if(t.ofMessageType("ActiveFiltersSetEvent")){const e=t.getFilters();this.activeFilterRepository.next(t.getAggregateId(),e)}}}class pl extends _{constructor(t,e){super(t,e,"UniqueFilterCalculatedEvent"),this.map=e}getUniqueValues(){return this.map}}class ml{constructor(t){this.map=new Map,this.allSelected=new Map,this.allDisabled=new Map,this.map=t,this.calculateSelection()}getValues(t){return this.map.get(t.toString())}areAllSelected(t){return this.allSelected.get(t.toString())}areAllDisabled(t){return this.allDisabled.get(t.toString())}isSelectAllChecked(t){return this.areAllSelected(t)}isIndeterminate(t){return!(this.areAllSelected(t)||this.areAllDisabled(t))}calculateSelection(){for(const t of Array.from(this.map.keys())){const e=this.map.get(t);this.allSelected.set(t,!e.some(n=>!n.isEnabled())),this.allDisabled.set(t,!e.some(n=>n.isEnabled()))}}}class wi extends A{constructor(){super(wi.default)}}wi.default=new ml(new Map);class hS{constructor(t,e,n){this.id=t,this.value=e,this.enabled=n}getId(){return this.id}getValue(){return this.value}geDisplayValue(){return this.displayValue}isEnabled(){return this.enabled}}let pS=(()=>{class i{constructor(e){this.uniqueValuesRepository=e}forEvent(){return pl}handle(e){if(e.ofMessageType("UniqueFilterCalculatedEvent")){const n=new Map;e.getUniqueValues().forEach((s,a)=>{const c=s.map(u=>new hS(u.getId(),u.getDisplayValue(),u.isEnabled()));n.set(a,c)});const o=new ml(n);this.uniqueValuesRepository.next(e.getAggregateId(),o)}}}return i.services=[wi],i})();class mS{forEvent(){return mn}handle(t){}}class fl extends w{constructor(t,e){super(t,"UnselectAllUniqueFilterCommand"),this.fieldId=e}getFieldId(){return this.fieldId}}class fS{forCommand(){return fl}handle(t,e){const n=e.getFieldId();t.unselectAllUniqueFilter(n)}}class vl extends w{constructor(t,e,n){super(t,"UnselectUniqueFilterCommand"),this.fieldId=e,this.uniqueValueId=n}getFieldId(){return this.fieldId}getUniqueValueId(){return this.uniqueValueId}}class vS{forCommand(){return vl}handle(t,e){const n=e.getFieldId(),o=e.getUniqueValueId();t.unselectUniqueFilter(n,o)}}class bl extends w{constructor(t,e){super(t,"SelectAllUniqueFilterCommand"),this.fieldId=e}getFieldId(){return this.fieldId}}class bS{forCommand(){return bl}handle(t,e){const n=e.getFieldId();t.selectAllUniqueFilter(n)}}class Cl extends w{constructor(t,e,n){super(t,"SelectUniqueFilterCommand"),this.fieldId=e,this.uniqueValueId=n}getFieldId(){return this.fieldId}getUniqueValueId(){return this.uniqueValueId}}class CS{forCommand(){return Cl}handle(t,e){const n=e.getFieldId(),o=e.getUniqueValueId();t.selectUniqueFilter(n,o)}}class yS{defineAggregate(){return null}registerKey(){return Re}registerProviders(t){t.provide(dl)}registerCommandHandlers(){return[Ky,qy,Ly,zy,Wy,Yy,CS,bS,vS,fS]}registerDomainEventHandler(){return[uS,lS,dS,gS,pS,mS]}registerMultiDomainEventHandler(){return[]}}let SS=(()=>{class i extends ut{constructor(e,n,o){super(),this.filterEnabledArchive=e,this.structureQuickFilterRepository=n,this.uniqueValuesArchive=o,this.activeFilterArchive=Bn.resolve(ys),this.filterTypeArchive=Bn.resolve(Si)}onFilteringEnabled(e){return this.filterEnabledArchive.on(e)}onQuickFiltersEnabled(e){return this.structureQuickFilterRepository.on(e)}onFilterTypes(e){return this.filterTypeArchive.on(e)}findFilterTypes(e){return this.filterTypeArchive.find(e)}onFilterTypesForFieldId(e,n){return this.onFilterTypes(n).pipe(h(o=>o.getFilterTypes(e)))}onActiveFilters(e){return this.activeFilterArchive.on(e)}findFilters(e){return this.activeFilterArchive.find(e)}onUniqueValues(e){return this.uniqueValuesArchive.on(e)}onceFilterTypeId(e,n,o){return ti(this.onFilterTypes(o).pipe(h(s=>{const c=s.getFilterTypes(e).find(u=>u.getName()===n);return void 0===c?R.empty():R.of(c.getId())})))}}return i.services=[Cs,bs,wi],i})(),xS=(()=>{class i extends Ke{constructor(e){super(),this.commandDispatcher=e}setConfig(e,n){this.commandDispatcher.dispatch(new al(n,e))}add(e,n,o,s){this.commandDispatcher.dispatch(new nl(s,e,n,o))}removeAll(e){this.commandDispatcher.dispatch(new ol(e))}remove(e,n){this.commandDispatcher.dispatch(new sl(n,e))}selectAllUniqueFilter(e,n){this.commandDispatcher.dispatch(new bl(n,e))}unselectAllUniqueFilter(e,n){this.commandDispatcher.dispatch(new fl(n,e))}selectUniqueFilter(e,n,o){this.commandDispatcher.dispatch(new Cl(o,e,n))}unselectUniqueFilter(e,n,o){this.commandDispatcher.dispatch(new vl(o,e,n))}}return i.services=[se],i})();class wS{registerProviders(t){t.provide(Ke,xS),t.provide(ut,SS),t.provide(wi),t.provide(Cs),t.provide(bs),t.provide(gn)}}function _S(){return d.resolve(Ke)}function IS(){return d.resolve(ut)}function TS(){return d.resolve(gn)}!function ES(){new me(new wS,new yS).init()}();let xs=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[{provide:Ke,useFactory:_S},{provide:ut,useFactory:IS},{provide:gn,useFactory:TS}]}),i})(),yl=(()=>{class i extends re{static forComponent(){return[]}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD,qt,Ae,xs]}),i})(),ws=(()=>{class i extends re{static forComponent(){return[]}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD,Ht,y.X1,Ae,xs,yl]}),i})(),FS=(()=>{class i extends re{static forComponent(){return[]}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[Cu],imports:[l.MD,ws,yl,Oe]}),i})(),MS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[Ao],imports:[l.MD,jy,Ht,fs,rl,FS,dt,Ae]}),i})();class RS extends mi{warn(t){console.warn(t)}error(t){console.error(t)}}function PS(){return d.resolve(mi)}!function AS(){d.provide(mi,RS)}();let GS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[{provide:mi,useFactory:PS}]}),i})();class Es{constructor(t,e,n,o=0){this.version=0,this.source=t,this.position=e,this.version=o,this.id=n||Pt.generate()}getSourceItem(){return this.source}getUiId(){return"gui"+this.id.replace(/-/g,"")}getId(){return this.id}getVersion(){return this.version}getPosition(){return this.position}isSelected(){return!1}isEven(){return this.position%2==0}isOdd(){return this.position%2==1}equals(t){return this.id===t.id&&this.getVersion()===t.getVersion()}equalsById(t){return this.id===t}}class Hn extends Ur{constructor(t,e,n,o=0){super(t),this.sourceItem=e,this.position=n,this.version=o}getSourceItem(){return this.sourceItem}getVersion(){return this.version}getPosition(){return this.position}bumpVersion(){this.version+=1}setPosition(t){this.position=t}clone(){const t={...this.sourceItem};return new Hn(this.getId(),t,this.version)}}class VS{create(t){return Array.isArray(t)?this.createItems(t):this.createItem(t)}createItems(t){return t.map(e=>this.createItem(e))}createItem(t){return t instanceof Hn?new Es(t.sourceItem,t.getPosition(),t.getId().toString(),t.getVersion()):new Es(t,0)}}class Sl extends w{constructor(t,e){super(t,"SetConfigSearchingCommand"),this.searchConfig=e}getConfig(){return this.searchConfig}}class xl extends _{constructor(t,e){super(t,e,"ConfigSearchingSetEvent"),this.enabled=e}isEnabled(){return this.enabled}}class OS{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return Sl}handle(t,e){const n=e.getConfig();t.setSearchingConfig(n)}publish(t,e){const n=e.getConfig();this.domainEventPublisher.publish(new xl(e.getAggregateId(),n.enabled))}}class _s extends w{constructor(t,e,n){super(t,"SetSearchPhraseCommand"),this.phrase=e,this.initial=n}getPhrase(){return this.phrase}isInitial(){return this.initial}}class lr extends _{constructor(t,e,n){super(t,{phrase:e,initial:n},"SearchPhraseSetDomainEvent"),this.phrase=e,this.initial=n}getPhrase(){return this.phrase}isInitial(){return this.initial}}class dr extends _{constructor(t,e){super(t,e,"OriginSetEvent"),this.origin=e}getOrigin(){return this.origin}}class Is extends _{constructor(t,e){super(t,e,"StructureSummariesChangedEvent"),this.values=e}getSummaries(){return this.values}}class Ts extends _{constructor(t,e){super(t,e,"StructurePreparedEntitiesSetEvent"),this.preparedItems=e}getPreparedItems(){return this.preparedItems}}class gr{constructor(){this.domainEventPublisher=d.resolve(T)}publish(t){t.forEach(e=>{this.publishEvent(e)})}publishEvent(t){if("StructureOriginChangedAggregateEvent"===t.getType()){const e=t,n=new dr(e.getAggregateId(),e.getOrigin());this.domainEventPublisher.publish(n)}if("StructureSourceItemEditedAggregateEvent"===t.getType()){const e=t,n=new ko(e.getAggregateId(),e.getBeforeItem(),e.getAfterItem());this.domainEventPublisher.publish(n)}if("StructureSummariesChangedAggregateEvent"===t.getType()){const e=t,n=new Is(e.getAggregateId(),e.getSummaries());this.domainEventPublisher.publish(n)}if("StructurePreparedEntitiesSetAggregateEvent"===t.getType()){const e=t,n=new Ts(e.getAggregateId(),e.getPreparedItems());this.domainEventPublisher.publish(n)}if("UniqueFilterCalculatedAggregateEvent"===t.getType()){const n=t.toDomainEvent();this.domainEventPublisher.publish(n)}}}let NS=(()=>{class i{constructor(e){this.structureSourceDomainEventPublisher=e,this.domainEventPublisher=d.resolve(T)}forCommand(){return _s}handle(e,n){const o=n.getPhrase();e.addSearchPhrase(o)}publish(e,n){const o=n.getPhrase(),s=n.isInitial();this.domainEventPublisher.publish(new lr(n.getAggregateId(),o,s)),this.structureSourceDomainEventPublisher.publish(e.getEvents())}}return i.services=[gr],i})();class BS{constructor(){this.searchFields=[],this.enabledDataTypes=[f.STRING]}addSearchPhrase(t,e){if(!e)return void(this.searchFields=[]);const n=t.filter(o=>this.enabledDataTypes.some(s=>s===o.getDataType()));0!==n.length&&(this.searchFields=n,this.searchPhrase=e)}removeSearchFilters(){this.searchFields=[]}search(t){if(0===t.length||0===this.searchFields.length)return t;const e=new Set;for(let n=0;n<t.length;n+=1)this.searchFields.filter(o=>o.search(t[n],this.searchPhrase)).forEach(()=>{e.add(t[n])});return Array.from(e)}}class wl{create(){return new BS}}let Fs=(()=>{class i extends A{constructor(){super(i.HIGHLIGHTING)}}return i.HIGHLIGHTING=!0,i})(),Ms=(()=>{class i extends A{constructor(){super(i.PLACEHOLDER)}}return i.PLACEHOLDER="Search...",i})(),El=(()=>{class i{constructor(e,n,o){this.commandDispatcher=e,this.searchHighlightArchive=n,this.searchPlaceholderArchive=o}setSearchingConfig(e,n){null!=e.highlighting&&this.searchHighlightArchive.next(n,e.highlighting),null!=e.placeholder&&this.searchPlaceholderArchive.next(n,e.placeholder),null!=e.phrase&&this.searchOnInit(e.phrase,n),this.commandDispatcher.dispatch(new Sl(n,e))}search(e,n){this.commandDispatcher.dispatch(new _s(n,e,!1))}searchOnInit(e,n){this.commandDispatcher.dispatch(new _s(n,e,!0))}}return i.services=[se,Fs,Ms],i})(),Ds=(()=>{class i extends A{constructor(){super(i.SEARCH_PHRASE)}}return i.SEARCH_PHRASE="",i})(),HS=(()=>{class i{constructor(e){this.searchPhraseRepository=e}forEvent(){return lr}handle(e){e.ofMessageType("SearchPhraseSetDomainEvent")&&this.searchPhraseRepository.next(e.getAggregateId(),e.getPhrase())}}return i.services=[Ds],i})(),ks=(()=>{class i extends A{constructor(){super(i.ENABLED)}}return i.ENABLED=!1,i})(),US=(()=>{class i{constructor(e){this.searchingEnabledArchive=e}forEvent(){return xl}handle(e){e.ofMessageType("ConfigSearchingSetEvent")&&this.searchingEnabledArchive.next(e.getAggregateId(),e.isEnabled())}}return i.services=[ks],i})();class $S extends w{constructor(t){super(t,"RemoveSearchPhraseCommand")}}class jS{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return $S}handle(t,e){t.removeSearchPhrase()}publish(t,e){this.domainEventPublisher.publish(new vs(e.getAggregateId()))}}class XS{defineAggregate(){return null}registerKey(){return Re}registerProviders(t){t.provide(wl),t.provide(El)}registerCommandHandlers(){return[OS,NS,jS]}registerDomainEventHandler(){return[HS,US]}registerMultiDomainEventHandler(){return[]}}let LS=(()=>{class i extends Ft{constructor(e,n,o,s){super(),this.searchingEnabledArchive=e,this.searchPhraseArchive=n,this.searchHighlightArchive=o,this.searchPlaceholderArchive=s}onSearchEnabled(e){return this.searchingEnabledArchive.on(e)}onPhrase(e){return this.searchPhraseArchive.on(e)}onHighlight(e){return this.searchHighlightArchive.on(e)}onPlaceholder(e){return this.searchPlaceholderArchive.on(e)}}return i.services=[ks,Ds,Fs,Ms],i})();class zS extends It{constructor(){super()}onSearchPhrase(t){return this.onEvent(t,lr).pipe(F(e=>!1===e.isInitial()),h(e=>e.getPhrase()),F(e=>null!==e))}}let WS=(()=>{class i extends Be{constructor(e){super(),this.searchDispatcher=e}setSearchingConfig(e,n){this.searchDispatcher.setSearchingConfig(e,n)}search(e,n){this.searchDispatcher.search(e,n)}}return i.services=[El],i})();class YS{registerProviders(t){t.provide(Be,WS),t.provide(Ft,LS),t.provide(It,zS),t.provide(Ds),t.provide(Fs),t.provide(Ms),t.provide(ks)}}function qS(){return d.resolve(Be)}function QS(){return d.resolve(Ft)}function JS(){return d.resolve(It)}!function KS(){new me(new YS,new XS).init()}();let _l=(()=>{class i extends re{static forComponent(){return[]}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[{provide:Be,useFactory:qS},{provide:Ft,useFactory:QS},{provide:It,useFactory:JS}],imports:[l.MD,Ht,y.X1,Ae]}),i})(),ZS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD,y.X1,ws,_l]}),i})(),e0=(()=>{class i extends re{static forComponent(){return[]}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD,qt,Ae,xs]}),i})(),Il=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({}),i})(),Tl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({}),i})();const t0=[Il,Tl];let r0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD,qt,Ae,fs,e0,dt,t0]}),i})(),o0=(()=>{class i extends re{static forComponent(){return[]}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD,dt]}),i})();class Fl extends w{constructor(t,e,n){super(t,"ToggleSortCommand"),this.compositionId=e,this.fieldId=n}getCompositionId(){return this.compositionId}getFieldId(){return this.fieldId}}class s0{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return Fl}handle(t,e){const n=e.getAggregateId(),o=e.getCompositionId(),s=e.getFieldId(),a=t.toggleSort(s);this.publishSortEvent(n,o,s,a)}publish(t,e){}publishSortEvent(t,e,n,o){const s=o.map(a=>({direction:a.hasDirection(),fieldId:a.getField().getId()}));this.domainEventPublisher.publish(new zo(t,e,s))}}class Ml extends w{constructor(t,e){super(t,"SetSortingCommand"),this.sortingConfig=e}getSortingConfig(){return this.sortingConfig}}class a0 extends _{constructor(t){super(t,null,"SortingSetEvent")}}class c0{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return Ml}handle(t,e){const n=e.getSortingConfig();t.setSortingConfig(n)}publish(t,e){this.domainEventPublisher.publish(new a0(e.getAggregateId()))}}class Dl extends w{constructor(t,e,n,o){super(t,"SetSortOrderCommand"),this.compositionId=e,this.fieldId=n,this.sortOrder=o}getCompositionId(){return this.compositionId}getFieldId(){return this.fieldId}getSortOrder(){return this.sortOrder}}class u0{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return Dl}handle(t,e){const n=e.getAggregateId(),o=e.getCompositionId(),s=e.getFieldId(),a=e.getSortOrder(),c=t.setSortOrder(s,a);this.publishSortEvent(n,o,s,c)}publish(t,e){}publishSortEvent(t,e,n,o){const s=o.map(a=>({direction:a.hasDirection(),fieldId:a.getField().getId()}));this.domainEventPublisher.publish(new Yo(t,e,s))}}class kl{constructor(){this.commandDispatcher=d.resolve(se)}setSortingConfig(t,e){this.commandDispatcher.dispatch(new Ml(e,t))}toggleSort(t,e,n){this.commandDispatcher.dispatch(new Fl(n,e,t))}setSortOrder(t,e,n,o){this.commandDispatcher.dispatch(new Dl(o,n,t,e))}}class l0{defineAggregate(){return null}registerKey(){return Re}registerProviders(t){t.provide(kl)}registerCommandHandlers(){return[s0,c0,u0]}registerDomainEventHandler(){return[]}registerMultiDomainEventHandler(){return[]}}let d0=(()=>{class i extends He{constructor(e){super(),this.sortingDispatcher=e}setSortingConfig(e,n){this.sortingDispatcher.setSortingConfig(e,n)}toggleSort(e,n,o){this.sortingDispatcher.toggleSort(e,n,o)}setSortOrder(e,n,o,s){this.sortingDispatcher.setSortOrder(e,n,o,s)}}return i.services=[kl],i})();class g0{registerProviders(t){t.provide(He,d0)}}function p0(){return d.resolve(He)}!function h0(){new me(new g0,new l0).init()}();let m0=(()=>{class i extends re{static forComponent(){return[]}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[{provide:He,useFactory:p0}],imports:[l.MD]}),i})(),Rs=(()=>{class i extends A{constructor(){super(i.default)}}return i.default=[],i})();class f0{constructor(t,e,n){this.id=t,this.dataType=e,this.name=n}getFieldId(){return this.id}getId(){return this.id.getId()}getDataType(){return this.dataType}getName(){return this.name}}class Rl{convert(t){return t.map(e=>this.convertOne(e))}convertOne(t){return new f0(t.getId(),t.getDataType(),t.getName())}}class v0{constructor(t){this.fieldFactory=t,this.fields=new Map}getField(t){return null===t?this.getAllFields()[0]:this.fields.get(t.getId())}getAllFieldIds(){return Array.from(this.fields.keys())}getAllFields(){return Array.from(this.fields.values())}getFieldsAsMap(){return this.fields}initFields(t){const e=this.fieldFactory.create(t);this.clear(),this.addFields(e)}addFields(t){for(const e of t)this.addField(e)}addField(t){this.fields.set(t.getId().toString(),t)}clear(){this.fields.clear()}}class As extends Ur{constructor(t,e,n){super(t),this.id=t,this.field=e,this.name=n}static of(t,e,n){return new As(t,e,n)}getId(){return this.id}getKey(){return this.getId().toString()}getDataType(){return this.field.getDataType()}getName(){return this.name}getField(){return this.field}getAccessor(){return this.field.getAccessor()}getAccessorMethod(){return this.field.getAccessorMethod()}getSearchAccessorMethod(){return this.field.getSearchAccessorMethod()}getValue(t){return this.field.getValue(t)}getDisplayValue(t){return this.field.getDisplayValue(t)}isSummaries(t){return this.field.isSummaries(t)}isSummariesEnabled(){return this.field.isSummariesEnabled()}search(t,e){return this.field.search(t,e)}filter(t,e){const n=this.field.getValue(t);return this.field.getDataType()===f.NUMBER||this.field.getDataType()===f.BOOLEAN||this.field.getDataType()===f.STRING?this.field.filter(n,e):this.field.getDataType()!==f.DATE||this.field.filter(n,e)}sort(t,e,n){const o=this.field.getSortValue(n?t:e),s=this.field.getSortValue(n?e:t);return this.field.getDataType()===f.NUMBER||this.field.getDataType()===f.BOOLEAN||this.field.getDataType()===f.STRING||this.field.getDataType()===f.DATE?this.field.sort(o,s):0}}class b0{constructor(t,e,n){this.accessor=t,this.dataType=e,this.matchers=n,this.accessorMethod="string"==typeof t?o=>o.getSourceItem()[t]:"function"==typeof t?o=>t(o.getSourceItem()):o=>o}getDataType(){return this.dataType}getAccessor(){return this.accessor}getAccessorMethod(){return this.accessorMethod}getMatchers(){return this.matchers}getSearchAccessorMethod(){let t;return this.matchers.getSearchMatcher().ifPresent(e=>{t=e}),t?e=>{const n=this.accessorMethod(e);return t(n)}:e=>this.accessorMethod(e)}getValue(t){return this.accessorMethod(t)}getSortValue(t){let e=this.accessorMethod(t);return this.matchers.getSortMatcher().ifPresent(n=>{e=n(e)}),e}getSearchValue(t){let e=this.accessorMethod(t);return this.matchers.getSearchMatcher().ifPresent(n=>{e=n(e)}),e}}class hr extends b0{constructor(t,e,n,o){super(t,e,n),this.summariesEnabled=!0,this.possibleSummaries=this.assignPossibleSummaries(),this.assignSummaries(o)}isSummaries(t){return!!this.isSummariesEnabled()&&!!(this.summariesTypes&t)}isSummariesEnabled(){return this.summariesEnabled}setSummariesEnabled(t){this.summariesEnabled=t}assignSummaries(t){t&&0!==Object.keys(t).length?(t.enabled&&(this.summariesEnabled=!!t.enabled),t.summariesTypes?(this.summariesTypes=0,t.summariesTypes.forEach(e=>{this.summariesTypes|=e})):this.summariesTypes=this.assignDefaultSummaries()):this.summariesTypes=this.assignDefaultSummaries()}}class Al extends hr{constructor(t,e,n){super(t,f.UNKNOWN,e,n)}assignDefaultSummaries(){return 0}assignPossibleSummaries(){return S.COUNT|S.DISTINCT}search(t,e){return!1}sort(t,e){return 0}filter(t,e){return!1}equals(t,e){return!1}getDisplayValue(t){return t}}class C0 extends hr{constructor(t,e,n){super(t,f.NUMBER,e,n)}getField(){return this}assignDefaultSummaries(){return 0}assignPossibleSummaries(){return S.COUNT|S.DISTINCT|S.SUM|S.MIN|S.MAX|S.AVERAGE|S.MEDIAN}search(t,e){return!1}sort(t,e){return+t-+e}filter(t,e){return t>e}equals(t,e){return this.getValue(t)===e}getDisplayValue(t){return`${t}`}}class y0 extends hr{constructor(t,e,n){super(t,f.STRING,e,n)}assignDefaultSummaries(){return 0}assignPossibleSummaries(){return S.COUNT|S.DISTINCT}search(t,e){const n=this.getSearchValue(t);return"string"==typeof n&&n.toLowerCase().indexOf(e.toLowerCase())>-1}sort(t,e){return(""+t).localeCompare(""+e)}filter(t,e){return t.toLowerCase().indexOf(e.toLowerCase())>-1}equals(t,e){return this.getValue(t)===e}getDisplayValue(t){return t}}class S0 extends hr{constructor(t,e,n){super(t,f.BOOLEAN,e,n)}assignDefaultSummaries(){return 0}assignPossibleSummaries(){return S.COUNT|S.DISTINCT|S.TRUTHY|S.FALSY}search(t,e){return!1}sort(t,e){const o=!!e;return!!t===o?0:o?-1:1}filter(t,e){return t===e}equals(t,e){return this.getValue(t)===e}getDisplayValue(t){return t?"True":"False"}}class x0 extends hr{constructor(t,e,n){super(t,f.DATE,e,n)}assignDefaultSummaries(){return 0}assignPossibleSummaries(){return S.COUNT|S.DISTINCT}search(t,e){return!1}sort(t,e){return t-e}filter(t,e){return!1}equals(t,e){return this.getValue(t).getTime()===e.getTime()}getDisplayValue(t){return t.toDateString()}}class w0{constructor(t,e,n){this.matcher=t,this.sortMatcher=e,this.searchMatcher=n}getMatcher(){return R.of(this.matcher)}getSortMatcher(){let t;return this.sortMatcher&&(t=this.sortMatcher),this.matcher&&(t=this.matcher),R.of(t)}getSearchMatcher(){let t;return this.searchMatcher&&(t=this.searchMatcher),this.matcher&&(t=this.matcher),R.of(t)}}class Pl{create(t){const e=this.createMatchers(t);let n=t.type;return void 0===n&&(n=f.STRING),n===f.UNKNOWN?new Al(t.field,e,t.summaries):n===f.NUMBER?new C0(t.field,e,t.summaries):n===f.STRING?new y0(t.field,e):n===f.BOOLEAN?new S0(t.field,e):n===f.DATE?new x0(t.field,e):new Al(t.field,e,t.summaries)}createMatchers(t){let n;return t.sorting&&(n=t.sorting.matcher),new w0(t.matcher,n)}}class Gl{generateId(){const t=Pt.generate();return new zi(t)}}let Vl=(()=>{class i{constructor(e,n){this.fieldIdGenerator=e,this.dataFieldFactory=n}create(e){return e?e.map((n,o)=>{const s=this.fieldIdGenerator.generateId(),a=this.dataFieldFactory.create(n);return new As(s,a,this.getFieldName(n,o))}):[]}getFieldName(e,n){return"string"==typeof e.field?e.field.toLowerCase():"Field #"+n}}return i.services=[Gl,Pl],i})(),Ol=(()=>{class i{constructor(e){this.fieldFactory=e}create(){return new v0(this.fieldFactory)}}return i.services=[Vl],i})();class E0{forCommand(){return Mo}handle(t,e){const n=e.getFieldConfigs();t.createFields(n)}}let _0=(()=>{class i{constructor(e,n){this.fieldArchive=e,this.fieldConverter=n}forEvent(){return mn}handle(e){if(e.ofMessageType("FieldsInitedEvent")){const n=this.fieldConverter.convert(e.getFields());this.fieldArchive.next(e.getAggregateId(),n)}}}return i.services=[Rs,Rl],i})();class I0{defineAggregate(){return null}registerKey(){return Re}registerProviders(t){t.provide(Ol),t.provide(Vl),t.provide(Gl),t.provide(Pl)}registerCommandHandlers(){return[E0]}registerDomainEventHandler(){return[_0]}registerMultiDomainEventHandler(){return[]}}let T0=(()=>{class i extends ur{constructor(e){super(),this.fieldReadModelArchive=e}onFields(e){return this.fieldReadModelArchive.on(e)}findFields(e){return this.fieldReadModelArchive.find(e)}}return i.services=[Rs],i})(),F0=(()=>{class i extends ir{constructor(e){super(),this.commandDispatcher=e}initFields(e,n){this.commandDispatcher.dispatch(new Mo(n,e))}}return i.services=[se],i})();class M0{registerProviders(t){t.provide(ir,F0),t.provide(Rs),t.provide(Rl),t.provide(ur,T0)}}function k0(){return d.resolve(ir)}function R0(){return d.resolve(ur)}!function D0(){new me(new M0,new I0).init()}();let A0=(()=>{class i extends re{static forComponent(){return[]}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[{provide:ir,useFactory:k0},{provide:ur,useFactory:R0}],imports:[l.MD]}),i})();class Nl extends w{constructor(t,e){super(t,"StructureSetSummariesEnabledCommand"),this.enabled=e}isEnabled(){return this.enabled}}class Bl extends _{constructor(t,e){super(t,e,"StructureSummariesEnabledSetEvent"),this.enabled=e}isEnabled(){return this.enabled}}let G0=(()=>{class i{constructor(e){this.structureSourceDomainEventPublisher=e,this.domainEventPublisher=d.resolve(T)}forCommand(){return Nl}handle(e,n){const o=n.isEnabled();e.setSummariesEnabled(o)}publish(e,n){const o=n.isEnabled(),s=e.getEvents();this.domainEventPublisher.publish(new Bl(n.getAggregateId(),o)),this.structureSourceDomainEventPublisher.publish(s)}}return i.services=[gr],i})();class V0 extends B{constructor(t,e){super(t,"StructureSummariesChangedAggregateEvent"),this.summarizedValues=e}toDomainEvent(){return new Is(this.getAggregateId(),this.summarizedValues)}getSummaries(){return this.summarizedValues}}let Ps=(()=>{class i{constructor(e,n){this.calculators=n,this.values=new Map,this.structureId=e,this.enabled=i.DEFAULT_ENABLED}calculate(e,n){if(!this.enabled)return[];const o=new Map;return this.calculators.forEach(s=>{const a=s.calculate(e,n);a&&Array.from(a.keys()).forEach(c=>{o.set(c,a.get(c))})}),o.size>0?[new V0(this.structureId,o)]:[]}setEnabled(e){this.enabled=e}add(){}remove(){}update(){}}return i.DEFAULT_ENABLED=!1,i})();class Un extends A{constructor(){super(Ps.DEFAULT_ENABLED)}init(t){this.next(t,Ps.DEFAULT_ENABLED)}}let O0=(()=>{class i{constructor(e){this.summariesEnabledArchive=e}forEvent(){return Bl}handle(e){e.ofMessageType("StructureSummariesEnabledSetEvent")&&this.summariesEnabledArchive.next(e.getAggregateId(),e.isEnabled())}}return i.services=[Un],i})();class pr{calculate(t,e){const n=t.filter(c=>this.forDataType(c.getDataType()));if(!n||0===n.length||0===e.length)return null;const o=new Map,s=new Map;n.forEach(c=>{const u=c.getKey();o.set(u,0),s.set(u,new Set),this.prepare(c)}),e.forEach(c=>{n.forEach(u=>{const g=u.getKey(),p=u.getValue(c);if(null!==p||void 0!==p||""!==p){if(u.isSummaries(S.COUNT)){const b=o.get(g);o.set(g,b+1)}u.isSummaries(S.DISTINCT)&&s.get(g).add(p)}this.aggregate(u,p)})}),n.forEach(c=>{this.postCalculate(c,e)});const a=new Map;return n.forEach(c=>{const u=c.getKey(),g=this.generateAggregatedValues(c);c.isSummaries(S.COUNT)&&g.setCount(o.get(u)),c.isSummaries(S.DISTINCT)&&g.setDistinct(s.get(u).size),a.set(u,g)}),a}}class mr{setCount(t){this.count=t}setDistinct(t){this.distinct=t}}class N0 extends mr{constructor(t,e){super(),this.truthy=t,this.falsy=e}}class Hl extends pr{constructor(){super(),this.truthy=new Map,this.falsy=new Map}forDataType(t){return t===f.BOOLEAN}prepare(t){const e=t.getKey();t.isSummaries(S.TRUTHY)&&this.truthy.set(e,0),t.isSummaries(S.FALSY)&&this.falsy.set(e,0)}postCalculate(t,e){}aggregate(t,e){const n=e,o=t.getKey(),s=this.truthy.get(o),a=this.falsy.get(o);n?t.isSummaries(S.TRUTHY)&&this.truthy.set(o,s+1):t.isSummaries(S.FALSY)&&this.falsy.set(o,a+1)}generateAggregatedValues(t){const e=t.getKey();return new N0(this.truthy.get(e),this.falsy.get(e))}}class B0 extends mr{constructor(){super()}}class Ul extends pr{constructor(){super()}forDataType(t){return t===f.DATE}prepare(t){}postCalculate(t,e){}aggregate(t,e){}generateAggregatedValues(t){return new B0}}class H0 extends mr{constructor(t,e,n,o,s){super(),this.sum=this.setValueWithPrecision(t),this.min=this.setValueWithPrecision(e),this.max=this.setValueWithPrecision(n),this.average=this.setValueWithPrecision(o),this.median=this.setValueWithPrecision(s)}setValueWithPrecision(t){return t||0===t?0===t?0:+t.toFixed(2):null}}class $l extends pr{constructor(){super(),this.sum=new Map,this.min=new Map,this.max=new Map,this.average=new Map,this.median=new Map}forDataType(t){return t===f.NUMBER}prepare(t){const e=t.getKey();this.sum.set(e,0),this.min.set(e,Number.MAX_SAFE_INTEGER),this.max.set(e,0)}postCalculate(t,e){const n=t.getKey();t.isSummaries(S.AVERAGE)&&this.average.set(n,this.sum.get(n)/e.length),t.isSummaries(S.MEDIAN)&&this.median.set(n,t.getValue(e[Math.floor(e.length/2)]))}aggregate(t,e){const n=+e,o=t.getKey(),s=this.sum.get(o),a=this.min.get(o),c=this.max.get(o);(t.isSummaries(S.SUM)||t.isSummaries(S.AVERAGE))&&this.sum.set(o,s+n),t.isSummaries(S.MIN)&&a>n&&this.min.set(o,n),t.isSummaries(S.MAX)&&c<n&&this.max.set(o,n)}generateAggregatedValues(t){const e=t.getKey(),n=t.isSummaries(S.SUM)?this.sum.get(e):void 0,o=t.isSummaries(S.MIN)?this.min.get(e):void 0,s=t.isSummaries(S.MAX)?this.max.get(e):void 0,a=t.isSummaries(S.AVERAGE)?this.average.get(e):void 0,c=t.isSummaries(S.MEDIAN)?this.median.get(e):void 0;return new H0(n,o,s,a,c)}}class U0 extends mr{constructor(){super()}}class jl extends pr{constructor(){super()}forDataType(t){return t===f.STRING}prepare(t){}postCalculate(t,e){}aggregate(t,e){}generateAggregatedValues(t){return new U0}}class $0 extends mr{constructor(){super()}}class Xl extends pr{constructor(){super()}forDataType(t){return t===f.UNKNOWN}prepare(t){}postCalculate(t,e){}aggregate(t,e){}generateAggregatedValues(t){return new $0}}const Qt="GUI - Summaries Calculators";let Ll=(()=>{class i{constructor(e){this.calculators=e}create(e){return new Ps(e,this.calculators)}}return i.services=[{inject:Qt,collection:!0}],i})();class zl{constructor(){this.commandDispatcher=d.resolve(se)}setSummariesEnabled(t,e){this.commandDispatcher.dispatch(new Nl(e,t))}}let Wl=(()=>{class i{constructor(){this.top=i.defaultTop,this.bottom=i.defaultBottom}setTop(e){this.top=e}setBottom(e){this.bottom=e}isTopEnabled(){return this.top}isBottomEnabled(){return this.bottom}}return i.defaultTop=!1,i.defaultBottom=!0,i})();class Ei extends A{constructor(){super(Ei.default)}}Ei.default=new Wl;class Yl{convert(t){const e=new Wl;return null!=t.top&&e.setTop(t.top),null!=t.bottom&&e.setBottom(t.bottom),e}}class j0{defineAggregate(){return null}registerKey(){return Re}registerProviders(t){t.provide(Ll),t.provide(zl),t.provide(Ei),t.provide(Yl),t.provideCollection(Qt,Hl),t.provideCollection(Qt,Ul),t.provideCollection(Qt,$l),t.provideCollection(Qt,jl),t.provideCollection(Qt,Xl)}registerCommandHandlers(){return[G0]}registerDomainEventHandler(){return[O0]}registerMultiDomainEventHandler(){return[]}}let X0=(()=>{class i extends rr{constructor(e,n){super(),this.summariesEnabledArchive=e,this.structureSummariesArchive=n}onEnabled(e){return this.summariesEnabledArchive.on(e)}onTopEnabled(e){return this.onEnabled(e).pipe(xe(n=>this.structureSummariesArchive.on(e).pipe(h(o=>n&&o.isTopEnabled()))))}onBottomEnabled(e){return this.onEnabled(e).pipe(xe(n=>this.structureSummariesArchive.on(e).pipe(h(o=>n&&o.isBottomEnabled()))))}}return i.services=[Un,Ei],i})(),L0=(()=>{class i extends ci{constructor(e,n,o){super(),this.summariesDispatcher=e,this.configConverter=n,this.structureSummariesConfigArchive=o}setSummariesEnabled(e,n){this.summariesDispatcher.setSummariesEnabled(e,n)}setConfig(e,n){const o=this.configConverter.convert(e);this.setSummariesEnabled(e.enabled,n),this.structureSummariesConfigArchive.next(n,o)}}return i.services=[zl,Yl,Ei],i})();class z0 extends nr{constructor(){super()}onSummariesChanged(t){return this.onEvent(t,Is)}}class W0{registerProviders(t){t.provide(ci,L0),t.provide(nr,z0),t.provide(rr,X0),t.provide(Un)}}function fr(i){return{provide:Qt,useClass:i,multi:!0}}function K0(){return d.resolve(ci)}function q0(){return d.resolve(rr)}function Q0(){return d.resolve(nr)}!function Y0(){new me(new W0,new j0).init()}();let J0=(()=>{class i extends re{static forComponent(){return[]}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[{provide:ci,useFactory:K0},{provide:rr,useFactory:q0},{provide:nr,useFactory:Q0},fr(Hl),fr(Ul),fr($l),fr(jl),fr(Xl)],imports:[l.MD,Ht,dt,Ae]}),i})();class Kl{constructor(t,e,n){this.start=t,this.end=e,this.margin=n}getStart(){return this.start}getEnd(){return this.end}getMargin(){return this.margin}}let Z0=(()=>{let i=class{constructor(){this.containerHeight=R.empty()}isContainerHeightProperForVirtualScroll(){return!!this.containerHeight.isPresent()&&this.containerHeight.getValueOrNullOrThrowError()>0}getVisibleContainerHeight(){return this.getHeight()}getHeight(){return this.containerHeight.isPresent()?this.getContainerHeight():this.sourceHeight}getSourceHeight(){return this.sourceHeight}setContainerHeight(e){e>=0&&(this.containerHeight=R.of(e))}setSourceSize(e){this.sourceHeight=e}getContainerHeight(){return this.containerHeight.getValueOrNullOrThrowError()>this.sourceHeight?this.sourceHeight:this.containerHeight.getValueOrNullOrThrowError()}};return i=(0,$i.Cg)([Pa],i),i})();class ql extends _{constructor(t,e){super(t,e,"ScrollBarPositionSetEvent"),this.position=e}getPosition(){return this.position}}class ex extends B{constructor(t,e){super(t,"ScrollBarPositionSetAggregateEvent"),this.position=e}toDomainEvent(){return new ql(this.getAggregateId(),this.position)}}var vr;let _i=vr=class{constructor(t,e=!1,n=0,o=0,s=0,a,c,u){this.structureId=t,this.enabled=e,this.rowHeight=vr.ROW_HEIGHT,this.hiddenItemsTop=vr.HIDDEN_ITEMS_TOP,this.hiddenItemsBottom=vr.HIDDEN_ITEMS_BOTTOM,this.container=new Z0,this.sourceSize=o,this.container.setSourceSize(this.sourceSize*this.rowHeight),this.container.setContainerHeight(n),this.scrollPosition=s,Number.isInteger(a)&&(this.rowHeight=a),Number.isInteger(c)&&(this.hiddenItemsTop=c),Number.isInteger(u)&&(this.hiddenItemsBottom=u),this.calculateRange()}isEnabled(){return this.enabled&&this.container.getHeight()>0&&this.sourceSize>0}getViewPortHeight(){return this.container.getVisibleContainerHeight()}getSourceHeight(){return this.container.getSourceHeight()}getRowHeight(){return this.rowHeight}getRange(){return this.range}getTopMargin(){return this.range.getStart()*this.rowHeight}calculateRange(){if(this.calcFullHeight()<=this.container.getHeight())return void(this.range=new Kl(0,this.sourceSize,0));const t=Math.ceil(this.container.getHeight()/this.rowHeight),e=Math.floor(this.scrollPosition/this.rowHeight);let n=e+t+this.hiddenItemsBottom,o=e;o+t>=this.sourceSize&&(o=this.sourceSize-t);let s=Math.max(e-this.hiddenItemsTop,0);return n>this.sourceSize&&(n=this.sourceSize,s=n-t),this.range=new Kl(s,n,o),{start:s,end:n,topMargin:o}}setEnabled(t){this.enabled=t,this.enabled&&!this.container.isContainerHeightProperForVirtualScroll()&&this.logger.warn("Height needs to be specified in order for virtual scroll to work."),this.calculateRange()}setSourceSize(t=0){this.sourceSize=t,this.container.setSourceSize(this.sourceSize*this.rowHeight),this.calculateRange()}setTopHiddenItemsCount(t){this.hiddenItemsTop=t,this.calculateRange()}setBottomHiddenItemsCount(t){this.hiddenItemsBottom=t,this.calculateRange()}setScrollPosition(t){this.scrollPosition=t,this.calculateRange()}scrollToIndex(t){return t>=this.sourceSize&&(t=this.sourceSize),t<-1&&(t=0),new ex(this.structureId,t*this.rowHeight)}setViewportHeight(t){this.container.setContainerHeight(t),this.calculateRange()}setRowHeight(t){this.rowHeight=t,this.container.setSourceSize(this.sourceSize*this.rowHeight),this.calculateRange()}setLogger(t){this.logger=t}calcFullHeight(){return this.sourceSize*this.rowHeight}};_i.ROW_HEIGHT=42,_i.HIDDEN_ITEMS_TOP=5,_i.HIDDEN_ITEMS_BOTTOM=2,_i=vr=(0,$i.Cg)([Pa],_i);let Ql=(()=>{class i{constructor(e){this.logger=e}create(e,n=!1,o=-1,s=0,a=0,c,u,g){const p=new _i(e,n,o,s,a,c,u,g);return p.setLogger(this.logger),p}}return i.services=[mi],i})();class Jl extends w{constructor(t,e){super(t,"SetScrollPositionCommand"),this.position=e}getPosition(){return this.position}}class Gs extends _{constructor(t){super(t,null,"ScrollPositionSetEvent")}}class tx{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return Jl}handle(t,e){const n=e.getPosition();t.setScrollPosition(n)}publish(t,e){this.domainEventPublisher.publish(new Gs(e.getAggregateId()))}}class Zl extends w{constructor(t,e){super(t,"SetVerticalScrollEnabledCommand"),this.enabled=e}isEnabled(){return this.enabled}}class Vs extends _{constructor(t){super(t,null,"VerticalScrollEnabledSetEvent")}}class ix{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return Zl}handle(t,e){const n=e.isEnabled();t.setVerticalFormationEnabled(n)}publish(t,e){this.domainEventPublisher.publish(new Vs(e.getAggregateId()))}}class ed extends w{constructor(t,e){super(t,"SetRowHeightBasedOnThemeCommand"),this.theme=e}getTheme(){return this.theme}}class Os extends _{constructor(t){super(t,null,"RowHeightSetBasedOnThemeEvent")}}class rx{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return ed}handle(t,e){const n=e.getTheme();t.setTheme(n)}publish(t,e){this.domainEventPublisher.publish(new Os(e.getAggregateId()))}}class td extends w{constructor(t,e){super(t,"SetRowHeightCommand"),this.rowHeight=e}getRowHeight(){return this.rowHeight}}class Ns extends _{constructor(t){super(t,null,"RowHeightSetEvent")}}class nx{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return td}handle(t,e){const n=e.getRowHeight();t.getVerticalFormation().setRowHeight(n)}publish(t,e){this.domainEventPublisher.publish(new Ns(e.getAggregateId()))}}class id extends w{constructor(t,e){super(t,"StructureSetHeightCommand"),this.height=e}getHeight(){return this.height}}class Bs extends _{constructor(t){super(t,null,"StructureHeightSetEvent")}}class ox{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return id}handle(t,e){const n=e.getHeight();t.setHeight(n)}publish(t,e){this.domainEventPublisher.publish(new Bs(e.getAggregateId()))}}let Hs=(()=>{class i extends A{constructor(){super(i.DEFAULT_POSITION)}}return i.DEFAULT_POSITION=0,i})(),sx=(()=>{class i{constructor(e){this.positionRepository=e}forEvent(){return ql}handle(e){e.ofMessageType("ScrollBarPositionSetEvent")&&this.positionRepository.next(e.getAggregateId(),e.getPosition())}}return i.services=[Hs],i})();class rd extends w{constructor(t,e){super(t,"SetScrollBarPositionCommand"),this.position=e}getPosition(){return this.position}}class ax{forCommand(){return rd}handle(t,e){const n=e.getPosition();t.scrollToIndex(n)}}class nd{constructor(){this.commandDispatcher=d.resolve(se)}setVirtualScrollEnabled(t,e){this.commandDispatcher.dispatch(new Zl(e,t))}scrollTo(t,e){this.commandDispatcher.dispatch(new rd(e,t))}setScrollPosition(t,e){this.commandDispatcher.dispatch(new Jl(e,t))}}class cx{defineAggregate(){return null}registerKey(){return Re}registerProviders(t){t.provide(Ql),t.provide(nd)}registerCommandHandlers(){return[tx,ix,rx,nx,ox,ax]}registerDomainEventHandler(){return[sx]}registerMultiDomainEventHandler(){return[]}}let ux=(()=>{let i=class{constructor(e,n,o,s,a){this.enabled=e,this.topMargin=n,this.sourceHeight=o,this.viewportHeight=s,this.rowHeight=a}isEnabled(){return this.enabled}getTopMargin(){return this.topMargin}getSourceHeight(){return this.sourceHeight}getViewPortHeight(){return this.viewportHeight}getRowHeight(){return this.rowHeight}};return i=(0,$i.Cg)([no],i),i})();class od{convert(t){const e=t.isEnabled(),n=t.getTopMargin(),o=t.getSourceHeight(),s=t.getViewPortHeight(),a=t.getRowHeight();return new ux(e,n,o,s,a)}}class $n extends _{constructor(t){super(t,null,"StructureCreatedEvent")}}class Us extends Xr{}let lx=(()=>{let i=class{constructor(e){this.loading=e}isLoading(){return this.loading}};return i=(0,$i.Cg)([no],i),i})();class sd{convert(t){return new lx(t.isLoading())}}class dx extends Ra{constructor(t,e,n,o,s){super(t),this.paging=e,this.entities=n,this.source=o,this.verticalFormation=s}getPaging(){return this.paging}getEntities(){return this.entities}getSource(){return this.source}getVerticalFormation(){return this.verticalFormation}getTopMargin(){return this.verticalFormation.getTopMargin()}isLoaderVisible(){return this.getSource().isLoading()}getSourceHeight(){return this.verticalFormation.getSourceHeight()}isReadyToDisplay(){return this.entities.length>0}isVerticalScrollEnabled(){return this.verticalFormation.isEnabled()}}let ad=(()=>{class i{constructor(e,n,o){this.pagingConverter=e,this.sourceConverter=n,this.verticalFormationConverter=o}convert(e){const n=e.getPaging(),o=e.getEntities(),s=e.getSource(),a=e.getVerticalFormation();return new dx(e.getId().toReadModelRootId(),this.pagingConverter.convert(n),this.convertSource(o),this.sourceConverter.convert(s),this.verticalFormationConverter.convert(a))}convertSource(e){return e.map(n=>new Es(n.sourceItem,n.getPosition(),n.getId().toString(),n.getVersion()))}}return i.services=[Fc,sd,od],i})(),$s=(()=>{class i extends Va{constructor(e,n){super(e),this.inMemoryProjectStore=e,this.structureConverter=n}toReadModel(e){return this.structureConverter.convert(e)}}return i.services=[Us,ad],i})();class br extends Zt{}class Cr extends br{constructor(t,e){super(t,e,"SchemaThemeSetEvent"),this.theme=e}getTheme(){return this.theme}}class js extends _{constructor(t){super(t,null,"UniqueFilterUnselectedEvent")}}class Xs extends _{constructor(t){super(t,null,"AllUniqueFilterUnselectedEvent")}}class Ls extends _{constructor(t){super(t,null,"AllUniqueFilterSelectedEvent")}}class zs extends _{constructor(t){super(t,null,"UniqueFilterSelectedEvent")}}let cd=(()=>{class i extends ge{constructor(e){super(),this.inMemoryStructureReadStore=e,this.verticalFormation=new Map,this.verticalFormation$=new Ge(1),this.domainEventBus=d.resolve(Se),this.domainEventBus.ofEvents([$n,Vs,dr,Bs,Ns,Cr,Os,Gs,lr,js,Xs,Ls,zs,yn,Vo,xi]).pipe(this.hermesTakeUntil()).subscribe(n=>{const o=n.getAggregateId();this.inMemoryStructureReadStore.getById(o).ifPresent(a=>{const c=a.getVerticalFormation();this.next(o,c)})})}onVerticalScrollEnabled(e){return this.onVerticalFormation(e).pipe(h(n=>n.isEnabled()),Pe())}onRowHeight(e){return this.onVerticalFormation(e).pipe(h(n=>n.getRowHeight()),Pe())}onContainerHeight(e){return this.onVerticalFormation(e).pipe(h(n=>n.getViewPortHeight()),Pe())}onTopMargin(e){return this.onVerticalFormation(e).pipe(h(n=>n.getTopMargin()),Pe())}onVerticalFormation(e){return this.verticalFormation$.toObservable().pipe(F(n=>{const o=e.getId();return n.has(o)}),h(n=>n.get(e.getId())))}next(e,n){this.verticalFormation.set(e.toString(),n),this.verticalFormation$.next(this.verticalFormation)}}return i.services=[$s],i})(),gx=(()=>{class i extends Yt{constructor(e,n){super(),this.verticalFormationRepository=e,this.positionRepository=n}onEnabled(e){return this.verticalFormationRepository.onVerticalScrollEnabled(e)}onRowHeight(e){return this.verticalFormationRepository.onRowHeight(e)}onContainerHeight(e){return this.verticalFormationRepository.onContainerHeight(e)}onTopMargin(e){return this.verticalFormationRepository.onTopMargin(e)}onScrollBarPosition(e){return this.positionRepository.on(e)}}return i.services=[cd,Hs],i})();class yr{constructor(){}}let hx=(()=>{class i extends yr{constructor(e){super(),this.verticalFormationDispatcher=e}enableVirtualScroll(e){this.verticalFormationDispatcher.setVirtualScrollEnabled(!0,e)}disableVirtualScroll(e){this.verticalFormationDispatcher.setVirtualScrollEnabled(!1,e)}scrollToTop(e){this.verticalFormationDispatcher.scrollTo(0,e)}scrollToBottom(e){this.verticalFormationDispatcher.scrollTo(Number.MAX_SAFE_INTEGER,e)}scrollToIndex(e,n){this.verticalFormationDispatcher.scrollTo(e,n)}setScrollPosition(e,n){this.verticalFormationDispatcher.setScrollPosition(e,n)}}return i.services=[nd],i})();class px{registerProviders(t){t.provide(od),t.provide(cd),t.provide(Yt,gx),t.provide(yr,hx),t.provide(Hs)}}function fx(){return d.resolve(yr)}function vx(){return d.resolve(Yt)}!function mx(){new me(new px,new cx).init()}();let bx=(()=>{class i extends re{static forComponent(){return[]}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[{provide:yr,useFactory:fx},{provide:Yt,useFactory:vx}],imports:[l.MD]}),i})();class ud extends Vr{}class ld extends Xr{}let dd=(()=>{class i extends jr{constructor(e){super(e)}}return i.services=[ld],i})(),gd=(()=>{class i extends ud{constructor(e){super(),this.inMemorySchemaAggregateStore=e}findById(e){return this.inMemorySchemaAggregateStore.findById(e)}save(e){this.inMemorySchemaAggregateStore.save(e)}}return i.services=[dd],i})();class jn extends ki{}class hd extends jn{constructor(t,e){super(t,"SetSchemaThemeCommand"),this.theme=e}getTheme(){return this.theme}}class Cx{forCommand(){return hd}handle(t,e){const n=e.getTheme();t.changeTheme(n)}}class pd extends jn{constructor(t,e){super(t,"SetRowColoringCommand"),this.coloring=e}getColoring(){return this.coloring}}class yx{forCommand(){return pd}handle(t,e){const n=e.getColoring();t.setRowColoring(n)}}class md extends jn{constructor(t,e){super(t,"SetSchemaHorizontalGridCommand"),this.enabled=e}isEnabled(){return this.enabled}}class Sx{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return md}handle(t,e){const n=e.isEnabled();t.setHorizontalGrid(n)}publish(t,e){this.domainEventPublisher.publishFromAggregate(t)}}class fd extends jn{constructor(t,e){super(t,"SetSchemaVerticalGridCommand"),this.enabled=e}isEnabled(){return this.enabled}}class xx{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return fd}handle(t,e){const n=e.isEnabled();t.setVerticalGrid(n)}publish(t,e){this.domainEventPublisher.publishFromAggregate(t)}}class Ws extends A{constructor(){super()}}class Xn extends br{constructor(t,e){super(t,e,"RowColoringSetEvent"),this.rowColoring=e}getRowColoring(){return this.rowColoring}}class Ln extends br{constructor(t,e){super(t,e,"SchemaHorizontalGridSetEvent"),this.horizontalGrid=e}getHorizontalGrid(){return this.horizontalGrid}}class zn extends br{constructor(t,e){super(t,e,"SchemaVerticalGridSetEvent"),this.verticalGrid=e}getVerticalGrid(){return this.verticalGrid}}class wx{constructor(t,e,n,o){this.verticalGrid=t,this.horizontalGrid=e,this.theme=n,this.rowColoring=o}getRowColoring(){return this.rowColoring}}let Ex=(()=>{class i{constructor(e){this.schemaCssClassesRepository=e}forEvents(){return[Cr,Xn,Ln,zn]}handle(e){e.ofMessageType("RowColoringSetEvent")&&(this.rowColoring=e.getRowColoring()),e.ofMessageType("SchemaHorizontalGridSetEvent")&&(this.horizontalGrid=e.getHorizontalGrid()),e.ofMessageType("SchemaVerticalGridSetEvent")&&(this.verticalGrid=e.getVerticalGrid()),e.ofMessageType("SchemaThemeSetEvent")&&(this.schemaTheme=e.getTheme()),this.publish(e.getAggregateId())}publish(e){void 0!==this.rowColoring&&void 0!==this.horizontalGrid&&void 0!==this.verticalGrid&&void 0!==this.schemaTheme&&this.schemaCssClassesRepository.next(e,new wx(this.verticalGrid,this.horizontalGrid,this.schemaTheme,this.rowColoring))}}return i.services=[Ws],i})();const vd="SchemaAggregate";class bd extends bt{constructor(){super()}forEvent(){return zn}}class Cd extends bt{constructor(){super()}forEvent(){return Cr}}class yd extends bt{constructor(){super()}forEvent(){return Xn}}class Sd extends bt{constructor(){super()}forEvent(){return Ln}}class xd extends Oa{constructor(t){super(t,"CreateSchemaCommand")}}class _x{forCommand(){return xd}}class Sr extends Gr{}class Ix extends Sr{constructor(t,e){super(t,"SchemaThemeSetAggregateEvent"),this.theme=e}toDomainEvent(){return new Cr(this.getAggregateId(),this.theme)}}class Tx extends Sr{constructor(t,e){super(t,"RowColoringSetEvent"),this.rowColoring=e}toDomainEvent(){return new Xn(this.getAggregateId(),this.rowColoring)}}class Fx extends Sr{constructor(t,e){super(t,"SchemaHorizontalGridSetEvent"),this.verticalGrid=e}toDomainEvent(){return new zn(this.getAggregateId(),this.verticalGrid)}}class Mx extends Sr{constructor(t,e){super(t,"SchemaHorizontalGridSetEvent"),this.horizontalGrid=e}toDomainEvent(){return new Ln(this.getAggregateId(),this.horizontalGrid)}}class Dx extends br{constructor(t){super(t,null,"SchemaCreatedEvent")}}class kx extends Sr{constructor(t){super(t,"SchemaCreatedAggregateEvent")}toDomainEvent(){return new Dx(this.getAggregateId())}}class Xe extends Or{constructor(t){super(t,"SchemaAggregate"),this.setTheme(Xe.DEFAULT_THEME),this.setHorizontalGrid(Xe.DEFAULT_HORIZONTAL_GRID),this.setVerticalGrid(Xe.DEFAULT_VERTICAL_GRID),this.setRowColoring(Xe.DEFAULT_ROW_COLORING)}createEvent(){return kx}changeTheme(t){this.setTheme(t),t===v.MATERIAL&&(this.setRowColoring(H.NONE),this.setVerticalGrid(!1)),t===v.LIGHT&&(this.setRowColoring(H.NONE),this.setVerticalGrid(!1)),t===v.DARK&&(this.setRowColoring(H.NONE),this.setVerticalGrid(!1)),t===v.GENERIC&&this.setRowColoring(H.ODD)}setRowColoring(t){this.rowColoring=t,this.addEvent(new Tx(this.getId(),this.rowColoring))}setVerticalGrid(t){this.verticalGrid=t,this.addEvent(new Fx(this.getId(),this.verticalGrid))}setHorizontalGrid(t){this.horizontalGrid=t,this.addEvent(new Mx(this.getId(),this.horizontalGrid))}setTheme(t){this.theme=t,this.addEvent(new Ix(this.getId(),this.theme))}}Xe.DEFAULT_THEME=v.GENERIC,Xe.DEFAULT_ROW_COLORING=H.ODD,Xe.DEFAULT_VERTICAL_GRID=!0,Xe.DEFAULT_HORIZONTAL_GRID=!0;class Rx extends Pr{constructor(){super()}create(t){return new Xe(t)}}class Ys extends A{constructor(){super()}}class Ks extends A{constructor(){super()}}class wd{constructor(){this.commandDispatcher=d.resolve(se)}create(t){this.commandDispatcher.dispatch(new xd(t))}setTheme(t,e){this.commandDispatcher.dispatch(new hd(e,t))}setRowColoring(t,e){this.commandDispatcher.dispatch(new pd(e,t))}setVerticalGrid(t,e){this.commandDispatcher.dispatch(new fd(e,t))}setHorizontalGrid(t,e){this.commandDispatcher.dispatch(new md(e,t))}}let Px=(()=>{class i extends Me{constructor(e,n,o,s,a){super(),this.schemaDispatcher=e,this.structurePublisher=n,this.fabricModalThemeService=o,this.schemaRowClassArchive=s,this.schemaRowStyleArchive=a}create(e){this.schemaDispatcher.create(e.toAggregateId())}setTheme(e,n,o){this.schemaDispatcher.setTheme(e,n.toAggregateId()),this.fabricModalThemeService.changeTheme(this.toFabricTheme(e)),this.structurePublisher.setRowHeightBasedOnTheme(e,o)}setRowColoring(e,n){const o=this.toSchemaRowColoring(e);this.schemaDispatcher.setRowColoring(o,n.toAggregateId())}setVerticalGrid(e,n){this.schemaDispatcher.setVerticalGrid(e,n.toAggregateId())}setHorizontalGrid(e,n){this.schemaDispatcher.setHorizontalGrid(e,n.toAggregateId())}setRowClass(e,n){return this.schemaRowClassArchive.next(n.toAggregateId(),e)}setRowStyle(e,n){return this.schemaRowStyleArchive.next(n.toAggregateId(),e)}toSchemaRowColoring(e){switch(e){case L.NONE:return H.NONE;case L.ODD:return H.ODD;case L.EVEN:return H.EVEN;default:return H.NONE}}toFabricTheme(e){switch(e){case v.DARK:return D.DARK;case v.FABRIC:return D.FABRIC;case v.GENERIC:return D.GENERIC;case v.LIGHT:return D.LIGHT;case v.MATERIAL:return D.MATERIAL;default:return D.FABRIC}}}return i.services=[wd,De,Ne,Ys,Ks],i})(),Gx=(()=>{class i extends Ue{constructor(e,n,o,s,a,c,u){super(),this.schemaCssClassesRepository=e,this.schemaThemeRepository=n,this.schemaHorizontalGridRepository=o,this.schemaRowColoringRepository=s,this.schemaVerticalGridRepository=a,this.schemaRowClassArchive=c,this.schemaRowStyleArchive=u}onTheme(e){return this.schemaThemeRepository.on(e.toAggregateId())}onceTheme(e){return ti(this.onTheme(e))}findTheme(e){return this.schemaThemeRepository.find(e.toAggregateId())}onHorizontalGrid(e){return this.schemaHorizontalGridRepository.on(e.toAggregateId())}onVerticalGrid(e){return this.schemaVerticalGridRepository.on(e.toAggregateId())}onRowColoring(e){return this.schemaRowColoringRepository.on(e.toAggregateId())}onCssClasses(e){return this.schemaCssClassesRepository.on(e.toAggregateId())}onRowClass(e){return this.schemaRowClassArchive.on(e.toAggregateId())}onRowStyle(e){return this.schemaRowStyleArchive.on(e.toAggregateId())}}return i.services=[Ws,Cd,Sd,yd,bd,Ys,Ks],i})();class Vx extends Tt{constructor(){super()}onThemeChanged(t){return this.onEvent(t,Cr).pipe(h(e=>e.getTheme()))}onHorizontalGridChanged(t){return this.onEvent(t,Ln).pipe(h(e=>e.getHorizontalGrid()))}onVerticalGridChanged(t){return this.onEvent(t,zn).pipe(h(e=>e.getVerticalGrid()))}onRowColoring(t){return this.onEvent(t,Xn).pipe(h(e=>e.getRowColoring()))}}function Bx(){return d.resolve(Me)}function Hx(){return d.resolve(Ue)}function Ux(){return d.resolve(Tt)}new me(new class Ox{registerProviders(t){t.provide(wd),t.provide(ud,gd),t.provide(dd),t.provide(ld),t.provide(Me,Px),t.provide(Ue,Gx),t.provide(Tt,Vx),t.provide(Ws)}},new class Ax{defineAggregate(){return{aggregateKey:vd,createCommandHandler:_x,factory:Rx,repository:gd}}registerKey(){return vd}registerProviders(t){t.provide(Ys),t.provide(Ks)}registerCommandHandlers(){return[Cx,yx,Sx,xx]}registerDomainEventHandler(){return[Cd,Sd,yd,bd]}registerMultiDomainEventHandler(){return[Ex]}}).init();let $x=(()=>{class i extends re{constructor(){super()}static forComponent(){return[]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[{provide:Me,useFactory:Bx},{provide:Ue,useFactory:Hx},{provide:Tt,useFactory:Ux}],imports:[l.MD]}),i})(),Ed=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[l.MD]}),i})();function jx(){return d.resolve(Ye)}function Xx(){return d.resolve(Te)}function Lx(){return d.resolve(di)}function zx(){return d.resolve(li)}function Wx(){return d.resolve(Yi)}!function by(){new me(new vy,new dy).init()}();let Yx=(()=>{class i extends re{constructor(e){super(),d.provideValue(r.OM3,e)}static forComponent(){return[]}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.OM3))},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[{provide:Ye,useFactory:jx},{provide:Te,useFactory:Xx},{provide:di,useFactory:Lx},ar,os,Rn,cs,An,{provide:li,useFactory:zx},{provide:Yi,useFactory:Wx}],imports:[l.MD,y.X1,Ed,Bt,yt,Oe,St,fo,Bt,yt,Oe,St]}),i})();const Id=[Nu,Bu,Hu,Uu,$u,ju,Xu,Lu,zu,Wu,Yu,Ku,qu,Qu,Ju,Zu,el,tl,il];class Td extends _{constructor(t){super(t,null,"SetSourceLoadingEvent")}}class Fd extends w{constructor(t,e){super(t,"SourceSetLoadingCommand"),this.enabled=e}isEnabled(){return this.enabled}}class Kx{constructor(){this.domainEventPublisher=d.resolve(T)}forCommand(){return Fd}handle(t,e){const n=e.isEnabled();t.getSource().setLoading(n)}publish(t,e){this.domainEventPublisher.publish(new Td(e.getAggregateId()))}}class Md extends w{constructor(t,e=[]){super(t,"SetOriginCommand"),this.items=e}getItems(){return this.items}}let qx=(()=>{class i{constructor(e){this.structureSourceDomainEventPublisher=e}forCommand(){return Md}handle(e,n){const o=n.getItems();e.setOrigin(o)}publish(e,n){const o=e.getEvents();this.structureSourceDomainEventPublisher.publish(o)}}return i.services=[gr],i})();class Dd extends w{constructor(t,e){super(t,"StructureEditSourceItemCommand"),this.params=e}getParams(){return this.params}}let Qx=(()=>{class i{constructor(e){this.structureSourceDomainEventPublisher=e}forCommand(){return Dd}handle(e,n){const o=n.getParams();e.editItem(o)}publish(e,n){const o=e.getEvents();this.structureSourceDomainEventPublisher.publish(o)}}return i.services=[gr],i})();class Jx extends B{constructor(t,e,n){super(t,"StructureSourceItemEditedAggregateEvent"),this.beforeItem=e,this.afterItem=n}toDomainEvent(){return new ko(this.getAggregateId(),this.beforeItem,this.afterItem)}getBeforeItem(){return this.beforeItem}getAfterItem(){return this.afterItem}}class Zx extends B{constructor(t,e){super(t,"StructureOriginChangedAggregateEvent"),this.origin=e}toDomainEvent(){return new dr(this.getAggregateId(),this.origin)}getOrigin(){return this.origin}}class Wn extends ii{constructor(t){super(t)}toString(){return this.getId()}}class kd{constructor(t){this.events=[],this.loading=!1,this.fetched=!1,this.entities=[],this.preparedEntities=[],this.slicedEntities=[],this.formationManager=t,this.events.push(...this.formationManager.init(!0,_e.SINGLE,te.ROW))}isLoading(){return this.loading}setLoading(t){this.loading=t}setEntities(t){this.entities=t,this.recalculatePositions()}getEntities(){return this.entities}setPreparedEntities(){this.preparedEntities=Array.from(this.entities)}getPreparedEntities(){return this.preparedEntities}setSlicedEntities(t){this.slicedEntities=t}getSlicedEntities(){return this.slicedEntities}setOrigin(t=[],e){return this.origin=this.convertItems(t),this.createOriginChangedEvent(e)}setConvertedOrigin(t=[],e){return this.origin=Array.from(t),this.createOriginChangedEvent(e)}getOrigin(){return this.origin}editOriginItem(t,e,n,o){const s=this.findOriginItem(t),a=s.clone();return s&&(s.sourceItem[n.getAccessor()]=e,s.bumpVersion()),[new Jx(o,a,s.clone()),this.createOriginChangedEvent(o)]}deleteAllSelected(t){let e=[];return this.formationManager.getSelectedItemIds().forEach(o=>{e=e.concat(this.deleteOriginItemByItemId(o,t))}),e}deleteOriginItem(t,e){if(t instanceof Wn)return this.deleteOriginItemByItemId(t,e);if(Array.isArray(t)){let n=[];return t.forEach(o=>{n=n.concat(this.deleteOneOriginItem(o,e))}),n}return Number.isInteger(t)?this.deleteOriginItemByIndex(t,e):[]}addOriginItem(t,e){return this.origin.push(t),[this.createOriginChangedEvent(e)]}setCustomConfig(t){return this.formationManager.setCustomConfig(t)}selectCustom(t){this.formationManager.selectCustom(t,this.getEntities())}selectAll(){this.formationManager.selectAll(this.getEntities().map(t=>t.getId()))}unselectAll(){this.formationManager.unselectAll()}selectByIndex(t){this.formationManager.selectByIndex(t,this.getEntities().map(e=>e.getId()))}selectByIds(t){this.formationManager.selectByIds(t,this.getEntities())}reSelect(){this.formationManager.reSelectByIds(this.getEntities())}setSelectedRows(t){this.formationManager.selectRows(t,this.getEntities().map(e=>e.getId()))}toggleRow(t,e){this.formationManager.toggleRow(t,e,this.getEntities().map(n=>n.getId()))}getFormation(){return this.formationManager}convertItems(t){return t.map((e,n)=>new Hn(new Wn(Pt.generate()),e,n))}createOriginChangedEvent(t){return new Zx(t,this.origin)}findOriginItem(t){return this.origin.find(e=>e.getId().toString()===t)}findOriginItemIndex(t){return this.origin.findIndex(e=>e.getId().toString()===t)}recalculatePositions(){this.entities.forEach((t,e)=>{t.setPosition(e)})}deleteOneOriginItem(t,e){return t instanceof Wn?this.deleteOriginItemByItemId(t,e):Number.isInteger(t)?this.deleteOriginItemByIndex(t,e):[]}deleteOriginItemByItemId(t,e){const n=this.findOriginItemIndex(t.toString());return this.deleteOriginItemByIndex(n,e)}deleteOriginItemByIndex(t,e){if(t>-1){const n=this.origin.splice(t,1);if(n.length>0){for(const o of n)this.formationManager.unselectRow(o.getId());this.formationManager.calculateAllSelected(n.map(o=>o.getId())),this.formationManager.calculateAllUnselected()}return[this.createOriginChangedEvent(e)]}return[]}deleteManyOriginItemByIndex(t,e){let n=[];return t.forEach(o=>{n=n.concat(this.deleteOriginItemByIndex(o,e))}),n}deleteManyOriginItemByItemID(t,e){let n=[];return t.forEach(o=>{n=n.concat(this.deleteOriginItemByItemId(o,e))}),n}}class ew{constructor(t,e){this.mode=t,this.type=e}setMode(t){this.mode=t}getMode(){return this.type===te.RADIO?_e.SINGLE:this.mode}isSingle(){return this.getMode()===_e.SINGLE}setType(t){this.type=t}getType(){return this.type}}class Rd extends _{constructor(t,e){super(t,e,"SelectionModeSetEvent"),this.mode=e}getMode(){return this.mode}}class qs extends B{constructor(t,e){super(t,"SelectionModeSetAggregateEvent"),this.mode=e}toDomainEvent(){return new Rd(this.getAggregateId(),this.mode)}}class Ad extends _{constructor(t,e){super(t,e,"SelectionTypeSetEvent"),this.selectionType=e}getType(){return this.selectionType}}class Qs extends B{constructor(t,e){super(t,"SelectionTypeSetAggregateEvent"),this.selectionType=e}toDomainEvent(){return new Ad(this.getAggregateId(),this.selectionType)}}class Js extends _{constructor(t,e){super(t,e,"SelectionEnabledSetEvent"),this.enabled=e}isEnabled(){return this.enabled}}class Zs extends B{constructor(t,e){super(t,"SelectionEnabledSetAggregateEvent"),this.enabled=e}toDomainEvent(){return new Js(this.getAggregateId(),this.enabled)}}class xr extends Nr{constructor(t){super(t)}toString(){return super.getId()}}class wr{constructor(t,e,n,o,s){this.key=t,this.text=e,this.customSelectId=n,this.builtIn=o,this.method=s}getKey(){return this.key}getText(){return this.text}getCustomSelectId(){return this.customSelectId}isBuiltIn(){return this.builtIn}customSelect(t){return this.method(t)}}class Pd{constructor(t,e){this.enabled=t,this.selections=e}isEnabled(){return this.enabled}getSelections(){return this.selections}}let tw=(()=>{class i{constructor(e,n){this.enabled=e,this.selections=n}init(){return[]}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}getSelections(){return this.selections}setSelections(e){this.selections=e.map(n=>"string"==typeof n?new wr("",n,new xr(n),!0):(i.id++,new wr(n.key,n.text,new xr(`${i.id}`),!1,n.select)))}findSelection(e){return R.of(this.selections.find(n=>n.getCustomSelectId().equals(e)))}}return i.id=0,i})();class Gd extends _{constructor(t,e){super(t,e,"FormationCustomSelectionChangeEvent"),this.customSelection=e}getCustomSelection(){return this.customSelection}}class Vd extends B{constructor(t,e){super(t,"FormationCustomSelectionChangeAggregateEvent"),this.customSelection=e}toDomainEvent(){return new Gd(this.getAggregateId(),this.customSelection)}}class iw{constructor(t,e){this.id=t,this.selectedItemIds=e,this.selection=new ew(_e.SINGLE,te.ROW),this.matcher=n=>n.id}init(t,e,n){return this.enabled=t,this.selection.setMode(e),this.selection.setType(n),this.customSelection=new tw(!1,[new wr("select_all","SELECT_ALL",new xr("SELECT_ALL"),!0),new wr("UNSELECT_ALL","UNSELECT_ALL",new xr("UNSELECT_ALL"),!0),new wr("","INVERT",new xr("INVERT"),!0)]),[new Zs(this.getId(),this.enabled),new qs(this.getId(),this.selection.getMode()),new Qs(this.getId(),this.selection.getType()),new Vd(this.getId(),new Pd(this.customSelection.isEnabled(),this.customSelection.getSelections()))]}setSelection(t){return this.enabled=t,[new Zs(this.getId(),this.enabled)]}setMode(t){return this.selection.setMode(t),[new qs(this.getId(),this.selection.getMode()),new Qs(this.getId(),this.selection.getType())]}setType(t){return this.selection.setType(t),[new qs(this.getId(),this.selection.getMode()),new Qs(this.getId(),this.selection.getType())]}setMatcher(t){this.matcher=t}setCustomConfig(t){return t?.enabled&&this.customSelection.setEnabled(t.enabled),t?.selections&&this.customSelection.setSelections(t.selections),[new Vd(this.getId(),new Pd(this.customSelection.isEnabled(),this.customSelection.getSelections()))]}isAllSelected(){return this.allSelected}isAllUnselected(){return this.allUnselected}getSelectedItemIds(){return Array.from(this.selectedItemIds).map(t=>new Wn(t))}selectCustom(t,e){this.customSelection.findSelection(t).ifPresent(n=>{if(n.isBuiltIn())switch(n.getCustomSelectId().toString()){case"SELECT_ALL":this.selectAll(e.map(o=>o.getId()));break;case"UNSELECT_ALL":this.unselectAll();break;case"INVERT":this.invertSelected(e.map(o=>o.getId()))}else{const o=n.customSelect(e);this.selectedItemIds=new Set(o.map(s=>s.getId().toString()))}})}selectAll(t){this.selectedItemIds=new Set(t.map(e=>e.toString())),this.allSelected=!0,this.allUnselected=!1}unselectAll(){this.selectedItemIds.clear(),this.allSelected=!1,this.allUnselected=!0}invertSelected(t){const e=this.getSelectedItemIds(),n=t.filter(o=>!e.some(s=>s.equals(o)));this.selectedItemIds=new Set(n.map(o=>o.toString())),this.calculateAllSelected(t),this.calculateAllUnselected()}reSelectByIds(t){this.selectByIds(this.getSelectedItemIds().map(e=>e.getId()),t),this.calculateAllSelected(t.map(e=>e.getId())),this.calculateAllUnselected()}selectByIds(t,e){if(!this.enabled)return;const n=[];for(let s=0;s<t.length;s++){const a=e.filter(c=>this.matcher(c.getSourceItem())===t[s]).map(c=>c.getId().toString());n.push(...a)}let o=ve.ADD;this.selection.isSingle()&&(o=ve.NONE),n.forEach(s=>{this.toggleRowByType(o,s)}),this.calculateAllSelected(e.map(s=>s.getId())),this.calculateAllUnselected()}selectByIndex(t,e){if(!this.enabled)return;const n=t.map(s=>(e[s]||console.error("Item not found"),e[s].toString()));let o=ve.ADD;this.selection.isSingle()&&(o=ve.NONE),n.forEach(s=>{this.toggleRowByType(o,s)}),this.calculateAllSelected(e),this.calculateAllUnselected()}selectRows(t,e){}toggleRow(t,e,n){this.enabled&&(e===ve.ADD&&this.selection.isSingle()&&(e=ve.NONE),this.toggleRowByType(e,t),this.calculateAllSelected(n),this.calculateAllUnselected())}calculateAllSelected(t){if(t.length!==this.selectedItemIds.size)this.allSelected=!1;else{const e=Array.from(this.selectedItemIds);let n=!0;e.sort(),t.sort();for(let o=0;o<e.length;o+=1)if(e[o]!==t[o].toString()){n=!1;break}this.allSelected=n}}calculateAllUnselected(){this.allUnselected=0===this.selectedItemIds.size}unselectRow(t){this.selectedItemIds.has(t.toString())&&this.selectedItemIds.delete(t.toString())}getId(){return this.id}getType(){return this.selection.getType()}toggleRowByType(t,e){switch(t){case ve.NONE:this.selectedItemIds.has(e)?this.selectedItemIds.delete(e):(this.selectedItemIds.clear(),this.selectedItemIds.add(e));break;case ve.ADD:this.selectedItemIds.has(e)?this.selectedItemIds.delete(e):this.selectedItemIds.add(e)}}}class Od{create(t){return new iw(t,new Set)}}let Nd=(()=>{class i{constructor(e){this.formationManagerFactory=e}createDefault(e){const n=this.formationManagerFactory.create(e);return new kd(n)}create(e){const n=this.formationManagerFactory.create(e);return new kd(n)}}return i.services=[Od],i})();var Er=function(i){return i[i.INDEX=0]="INDEX",i[i.ITEM_ID=1]="ITEM_ID",i[i.MANY_INDEX=2]="MANY_INDEX",i[i.MANY_ITEM_ID=3]="MANY_ITEM_ID",i}(Er||{});class et extends w{constructor(t,e,n){super(t,"DeleteOriginItemCommand"),this.payload=e,this.type=n}static byIndex(t,e){return new et(t,e,Er.INDEX)}static byManyIndex(t,e){return new et(t,e,Er.MANY_INDEX)}static byItemId(t,e){return new et(t,e,Er.ITEM_ID)}static byManyItemId(t,e){return new et(t,e,Er.MANY_ITEM_ID)}getType(){return this.type}getPayload(){return this.payload}}class rw{forCommand(){return et}handle(t,e){t.deleteItem(e.getPayload())}}let ea=(()=>{class i extends A{constructor(){super(i.default)}}return i.default=[],i})(),nw=(()=>{class i{constructor(e){this.structureSourceOriginRepository=e}forEvent(){return dr}handle(e){if(e.ofMessageType("OriginSetEvent")){const n=e.getOrigin();this.structureSourceOriginRepository.next(e.getAggregateId(),n)}}}return i.services=[ea],i})(),ta=(()=>{class i extends A{constructor(){super(i.default)}getPreparedItems(e){return this.find(e).getValueOrNullOrThrowError()}}return i.default=[],i})(),ow=(()=>{class i{constructor(e){this.structurePreparedItemsRepository=e}forEvent(){return Ts}handle(e){if(e.ofMessageType("StructurePreparedEntitiesSetEvent")){const n=e.getPreparedItems();this.structurePreparedItemsRepository.next(e.getAggregateId(),n)}}}return i.services=[ta],i})();class sw{defineAggregate(){return null}registerKey(){return Re}registerProviders(t){t.provide(ea),t.provide(Nd),t.provide(gr)}registerCommandHandlers(){return[Kx,qx,Qx,rw]}registerDomainEventHandler(){return[nw,ow]}registerMultiDomainEventHandler(){return[]}}let aw=(()=>{class i extends $e{constructor(e,n,o){super(),this.structureRepository=e,this.structurePreparedItemsRepository=n,this.structureSourceOriginRepository=o}findItems(e){return this.structureRepository.getStructure(e).getEntities()}onItems(e){return this.structureRepository.on(e).pipe(h(n=>n.getEntities()),Pe((n,o)=>{if(n.length!==o.length)return!1;let s=!0;return n.forEach((a,c)=>{a.equals(o[c])||(s=!1)}),s}))}onItemsSize(e){return this.onItems(e).pipe(h(n=>n.length))}onceItems(e){return ti(this.onItems(e))}onOriginSize(e){return this.structureSourceOriginRepository.on(e).pipe(h(n=>n.length))}onLoading(e){return this.structureRepository.on(e).pipe(h(n=>n.getSource().isLoading()))}onPreparedItems(e){return this.structurePreparedItemsRepository.on(e)}findPreparedItems(e){return this.structurePreparedItemsRepository.getPreparedItems(e)}}return i.services=[Zi,ta,ea],i})(),cw=(()=>{class i extends Fe{constructor(e,n,o){super(),this.commandDispatcher=e,this.fieldWarehouse=n,this.sourceReadModelService=o}setOrigin(e,n){this.commandDispatcher.dispatch(new Md(n,e))}setLoading(e,n){this.commandDispatcher.dispatch(new Fd(n,e))}editItem(e,n){this.commandDispatcher.dispatch(new Dd(n,e))}editItemByIndex(e,n,o,s){const a=vt(this.sourceReadModelService.onceItems(s).pipe(h(u=>u[e].getId()))),c=vt(this.fieldWarehouse.onFields(s));Ot((0,Fp.y)(a,c)).pipe(ei(1)).subscribe(u=>{this.editItem(new On(u[0],u[1][n],o),s)})}deleteRow(e,n){void 0!==e.getItemId()?this.deleteItemById(e.getItemId(),n):void 0!==e.getIndex()&&this.deleteItemByIndex(e.getIndex(),n)}deleteRows(e,n){e.length>0&&(void 0!==e[0].getItemId()?this.deleteManyItemsByItemIds(e.map(o=>o.getItemId()),n):void 0!==e[0].getIndex()&&this.deleteManyItemsByIndex(e.map(o=>o.getIndex()),n))}deleteItemByIndex(e,n){this.commandDispatcher.dispatch(et.byIndex(n,e))}deleteItemById(e,n){this.commandDispatcher.dispatch(et.byItemId(n,e))}deleteManyItemsByIndex(e,n){this.commandDispatcher.dispatch(et.byManyIndex(n,e))}deleteManyItemsByItemIds(e,n){this.commandDispatcher.dispatch(et.byManyItemId(n,e))}}return i.services=[se,ur,$e],i})();class uw{registerProviders(t){t.provide(Fe,cw),t.provide($e,aw),t.provide(Wi),t.provide(ta),t.provide(sd)}}function dw(){return d.resolve(Fe)}function gw(){return d.resolve($e)}function hw(){return d.resolve(Wi)}!function lw(){new me(new uw,new sw).init()}();let pw=(()=>{class i extends re{static forComponent(){return[]}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[{provide:Fe,useFactory:dw},{provide:$e,useFactory:gw},{provide:Wi,useFactory:hw}],imports:[l.MD]}),i})();function mw(){return d.resolve(Ji)}d.provide(Ji);let fw=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[{provide:Ji,useFactory:mw}]}),i})(),vw=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[fw]}),i})(),bw=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[ku]}),i})();class Bd{constructor(t,e,n){this.itemIds=t,this.allSelected=e,this.allUnselected=n}getAll(){return this.itemIds}isSelected(t){return this.itemIds.some(e=>e===t)}isAllSelected(){return this.allSelected}isAllUnselected(){return this.allUnselected}isIndeterminate(){return!(this.isAllSelected()||this.isAllUnselected())}}class Ii extends A{constructor(){super(Ii.default)}}Ii.default=new Bd([],!1,!1);class Hd extends w{constructor(t,e){super(t,"SetEnabledSelectionCommand"),this.enabled=e}isEnabled(){return this.enabled}}class Cw{forCommand(){return Hd}handle(t,e){t.setSelection(e.isEnabled())}}class Ud extends w{constructor(t,e,n){super(t,"ToggleSelectedRowCommand"),this.selectedRow=e,this.type=n}getSelectedRow(){return this.selectedRow}getType(){return this.type}}class yw{forCommand(){return Ud}handle(t,e){const n=e.getSelectedRow(),o=e.getType();t.toggleRow(n,o)}}let Sw=(()=>{class i{constructor(e){this.rowSelectedArchive=e}forEvent(){return Ro}handle(e){if(e.ofMessageType("SelectedRowChangedEvent")){const n=new Bd(e.getSelectedRows(),e.isAllSelected(),e.isAllUnselected());this.rowSelectedArchive.next(e.getAggregateId(),n)}}}return i.services=[Ii],i})();class $d extends w{constructor(t,e){super(t,"SetSelectionModeCommand"),this.mode=e}getMode(){return this.mode}}class xw{forCommand(){return $d}handle(t,e){t.setSelectionMode(e.getMode())}}class jd extends w{constructor(t){super(t,"SelectAllRowsCommand")}}class ww{forCommand(){return jd}handle(t,e){t.selectAll()}}class Xd extends w{constructor(t){super(t,"UnselectAllRowsCommand")}}class Ew{forCommand(){return Xd}handle(t,e){t.unselectAll()}}class Ld extends w{constructor(t,e){super(t,"SetSelectionTypeCommand"),this.type=e}getType(){return this.type}}class _w{forCommand(){return Ld}handle(t,e){t.setSelectionType(e.getType())}}class zd extends bt{constructor(){super()}forEvent(){return Ad}}class Wd extends bt{constructor(){super()}forEvent(){return Rd}}class Yd extends bt{constructor(){super()}forEvent(){return Js}}class Kd extends w{constructor(t,e){super(t,"SetSelectedRowCommand"),this.selectedRows=e}getSelectedRows(){return this.selectedRows}}class Iw{forCommand(){return Kd}handle(t,e){const n=e.getSelectedRows();t.setSelectedRows(n)}}class qd extends w{constructor(t,e){super(t,"SelectRowByIndexCommand"),this.indexes=e}getIndexes(){return this.indexes}}class Tw{forCommand(){return qd}handle(t,e){const n=e.getIndexes();t.selectByIndex(n)}}class Qd extends w{constructor(t,e){super(t,"SelectRowByIdCommand"),this.ids=e}getIds(){return this.ids}}class Fw{forCommand(){return Qd}handle(t,e){const n=e.getIds();t.selectByIds(n)}}class Jd extends w{constructor(t,e){super(t,"FormationSetMatcherCommand"),this.matcher=e}getMatcher(){return this.matcher}}class Mw{forCommand(){return Jd}handle(t,e){const n=e.getMatcher();t.setFormationMatcher(n)}}class Zd extends bt{constructor(){super()}forEvent(){return Gd}}class eg extends w{constructor(t,e){super(t,"FormationCustomSelectCommand"),this.customSelectId=e}getCustomSelectId(){return this.customSelectId}}class Dw{forCommand(){return eg}handle(t,e){const n=e.getCustomSelectId();t.selectCustom(n)}}class tg extends w{constructor(t,e){super(t,"FormationSetCustomSelectConfigCommand"),this.config=e}getConfig(){return this.config}}class kw{forCommand(){return tg}handle(t,e){const n=e.getConfig();t.setSelectionCustomConfig(n)}}class Rw{defineAggregate(){return null}registerKey(){return Re}registerProviders(t){t.provide(Od)}registerCommandHandlers(){return[Cw,xw,_w,ww,Ew,yw,Iw,Tw,Fw,Mw,Dw,kw]}registerDomainEventHandler(){return[Sw,zd,Wd,Yd,Zd]}registerMultiDomainEventHandler(){return[]}}let Aw=(()=>{class i extends Ie{constructor(e,n,o,s,a,c){super(),this.rowSelectedRepository=e,this.formationModeRepository=n,this.formationTypeRepository=o,this.formationEnabledRepository=s,this.formationCustomRepository=a,this.sourceWarehouse=c}findSelectedRows(e){const n=this.sourceWarehouse.findPreparedItems(e),o=this.findSelectedItemIds(e).getValueOrNullOrThrowError(),s=[],a=n.length;for(let c=0;c<a;c+=1){const u=n[c];o.some(g=>g===u.getId().toString())&&s.push(new dn(u.getSourceItem(),c,u.getId()))}return R.of(s)}onRowSelectedReadModel(e){return this.rowSelectedRepository.on(e)}findSelectedItemIds(e){return this.rowSelectedRepository.find(e).map(n=>n.getAll())}onSelectedRows(e){return this.rowSelectedRepository.on(e).pipe(h(n=>n.getAll()))}onMode(e){return this.formationModeRepository.on(e)}onType(e){return this.formationTypeRepository.on(e)}onSelectionEnabled(e){return this.formationEnabledRepository.on(e)}onCustomSelections(e){return this.formationCustomRepository.on(e)}}return i.services=[Ii,Wd,zd,Yd,Zd,$e],i})(),Pw=(()=>{class i extends ae{constructor(e){super(),this.commandDispatcher=e}setSelection(e,n){this.commandDispatcher.dispatch(new Hd(n,e))}selectRows(e,n){this.commandDispatcher.dispatch(new Kd(n,e))}selectByIndex(e,n){this.commandDispatcher.dispatch(new qd(n,e))}selectByIds(e,n){this.commandDispatcher.dispatch(new Qd(n,e))}toggleSelectedRow(e,n,o){this.commandDispatcher.dispatch(new Ud(o,e,n))}changeMode(e,n){this.commandDispatcher.dispatch(new $d(n,e))}changeType(e,n){this.commandDispatcher.dispatch(new Ld(n,e))}setMatcher(e,n){this.commandDispatcher.dispatch(new Jd(n,e))}selectAll(e){this.commandDispatcher.dispatch(new jd(e))}unselectAll(e){this.commandDispatcher.dispatch(new Xd(e))}selectCustom(e,n){this.commandDispatcher.dispatch(new eg(n,e))}setCustomSelection(e,n){this.commandDispatcher.dispatch(new tg(n,e))}}return i.services=[se],i})();class Gw{registerProviders(t){t.provide(Ii),t.provide(_t),t.provide(ae,Pw),t.provide(Ie,Aw)}}function Ow(){return d.resolve(ae)}function Nw(){return d.resolve(Ie)}function Bw(){return d.resolve(_t)}!function Vw(){new me(new Gw,new Rw).init()}();let Hw=(()=>{class i extends re{}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=r.xGo(i)))(n||i)}})(),i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({providers:[{provide:ae,useFactory:Ow},{provide:Ie,useFactory:Nw},{provide:_t,useFactory:Bw}],imports:[l.MD,Ae,yt,Ui]}),i})();class ig extends w{constructor(t){super(t,"CreateStructureCommand")}}class Uw{forCommand(){return ig}}class $w extends B{constructor(t,e){super(t,"StructurePreparedEntitiesSetAggregateEvent"),this.preparedItems=e}toDomainEvent(){return new Ts(this.getAggregateId(),this.preparedItems)}getPreparedItems(){return this.preparedItems}}class jw extends B{constructor(t,e,n){super(t,"FieldsInitedAggregateEvent"),this.fieldConfigs=e,this.fields=n}toDomainEvent(){return new mn(this.getAggregateId(),this.fieldConfigs,this.fields)}getFieldConfigs(){return this.fieldConfigs}getFields(){return this.fields}}class Xw extends B{constructor(t){super(t,"StructureCreatedAggregateEvent")}toDomainEvent(){return new $n(this.getAggregateId())}}class Lw extends B{constructor(t,e){super(t,"FilterTypesInitedAggregateEvent"),this.filterTypes=e}toDomainEvent(){return new hl(this.getAggregateId(),this.filterTypes)}getFilterTypes(){return this.filterTypes}}class zw extends B{constructor(t){super(t,"FilterAddedEvent")}toDomainEvent(){return new xi(this.getAggregateId(),[])}}class Ww extends B{constructor(t,e){super(t,"FilterAddedEvent"),this.activeFilters=e}toDomainEvent(){return new xi(this.getAggregateId(),this.activeFilters)}}class Yw extends B{constructor(t,e){super(t,"FilterRemovedAggregateEvent"),this.activeFilters=e}toDomainEvent(){return new xi(this.getAggregateId(),this.activeFilters)}}class Kw extends B{constructor(t,e){super(t,"UniqueFilterCalculatedAggregateEvent"),this.map=e}toDomainEvent(){return new pl(this.getAggregateId(),this.map)}}class qw extends B{constructor(t){super(t,"UniqueFilterSelectedAggregateEvent")}toDomainEvent(){return new zs(this.getAggregateId())}}class Qw extends B{constructor(t){super(t,"UniqueFilterUnselectedAggregateEvent")}toDomainEvent(){return new js(this.getAggregateId())}}class Jw extends B{constructor(t){super(t,"AllUniqueFilterUnselectedAggregateEvent")}toDomainEvent(){return new Xs(this.getAggregateId())}}class Zw extends B{constructor(t){super(t,"AllUniqueFilterSelectedAggregateEvent")}toDomainEvent(){return new Ls(this.getAggregateId())}}class e1 extends B{constructor(t,e,n,o){super(t,"SelectedRowChangedAggregateEvent"),this.selectedRows=e,this.allSelected=n,this.allUnselected=o}toDomainEvent(){return new Ro(this.getAggregateId(),this.selectedRows,this.allSelected,this.allUnselected)}}class t1 extends Or{constructor(t,e,n,o,s,a,c,u,g,p){super(t,Re),this.pagingManager=e,this.sourceManager=n,this.verticalFormation=o,this.summariesManager=s,this.sorterManager=a,this.filterManager=c,this.uniqueFilterManager=u,this.searchManager=g,this.fieldCollection=p,this.addEvent(this.sourceManager.events),this.sourceManager.events=[]}createEvent(){return Xw}clearEvents(){super.clearEvents(),this.pagingManager.clearEvents()}init(){this.initTheme()}setVerticalFormationEnabled(t){this.verticalFormation.setEnabled(t),this.calculateSource()}getVerticalFormation(){return this.verticalFormation}setSummariesEnabled(t){return this.summariesManager.setEnabled(t),this.calculateSource(),this.getEvents()}setOrigin(t){return this.addEvent(this.sourceManager.setOrigin(t,this.getId())),this.calculateUniqueValues(),this.calculateSource(),this.getEvents()}deleteItem(t){this.addEvent(this.sourceManager.deleteOriginItem(t,this.getId())),this.generateSelectedRowChangedEvent(),this.calculateSource()}editItem(t){const e=t.getItemId(),n=t.getColumnFieldId(),o=this.fieldCollection.getField(n),s=t.getValue();return this.sourceManager.editOriginItem(e,s,o,this.getId()).forEach(c=>this.addEvent(c)),this.calculateUniqueValues(),this.calculateSource(),this.getEvents()}setHeight(t){this.verticalFormation.setViewportHeight(t),this.calculateSourceBasedOnVirtualScroll()}setTheme(t){t===v.MATERIAL&&this.getVerticalFormation().setRowHeight(52),t===v.GENERIC&&this.getVerticalFormation().setRowHeight(42),t===v.FABRIC&&this.getVerticalFormation().setRowHeight(36),t===v.LIGHT&&this.getVerticalFormation().setRowHeight(56),t===v.DARK&&this.getVerticalFormation().setRowHeight(38)}setScrollPosition(t){this.verticalFormation.setScrollPosition(t),this.calculateSourceBasedOnVirtualScroll()}scrollToIndex(t){this.addEvent(this.verticalFormation.scrollToIndex(t))}setSelection(t){this.sourceManager.getFormation().setSelection(t),this.addEvent(new Zs(this.getId(),t))}setSelectionMode(t){this.addEvent(this.sourceManager.getFormation().setMode(t))}setSelectionType(t){this.addEvent(this.sourceManager.getFormation().setType(t))}setFormationMatcher(t){this.getFormation().setMatcher(t),this.sourceManager.reSelect(),this.generateSelectedRowChangedEvent()}selectByIndex(t){this.sourceManager.selectByIndex(t),this.generateSelectedRowChangedEvent()}selectByIds(t){this.sourceManager.selectByIds(t),this.generateSelectedRowChangedEvent()}setSelectedRows(t){this.sourceManager.setSelectedRows(t),this.generateSelectedRowChangedEvent()}setSelectionCustomConfig(t){this.addEvent(this.sourceManager.setCustomConfig(t))}toggleRow(t,e){this.sourceManager.toggleRow(t,e),this.generateSelectedRowChangedEvent()}selectCustom(t){this.sourceManager.selectCustom(t),this.generateSelectedRowChangedEvent()}selectAll(){this.sourceManager.selectAll(),this.generateSelectedRowChangedEvent()}unselectAll(){this.sourceManager.unselectAll(),this.generateSelectedRowChangedEvent()}getFormation(){return this.sourceManager.getFormation()}getPaging(){return this.pagingManager}changePaging(t){this.pagingManager.change(t),this.calculateSource()}setPaging(t){this.pagingManager=t,this.calculateSource()}nextPage(){this.pagingManager.nextPage(),this.calculateSource()}prevPage(){this.pagingManager.prevPage(),this.calculateSource()}changePageSize(t){return this.pagingManager.changePageSize(t).forEach(n=>{this.addEvent(n)}),this.calculateSource(),this.getEvents()}getEntities(){return this.sourceManager.getSlicedEntities()}getSource(){return this.sourceManager}createFields(t){this.fieldCollection.initFields(t);const e=this.fieldCollection.getAllFields();return this.addEvent(new jw(this.getId(),t,e)),this.filterManager.assignFilterTypes(e),this.addEvent(new Lw(this.getId(),this.filterManager.getFilterTypes())),this.getEvents()}setSortingConfig(t){this.sorterManager.setConfig(t)}toggleSort(t){const e=this.fieldCollection.getField(t);return this.sorterManager.toggle(e),this.calculateSource(),this.sorterManager.getAll()}setSortOrder(t,e){const n=this.fieldCollection.getField(t);return this.sorterManager.setSortOrder(n,e),this.calculateSource(),this.sorterManager.getAll()}setFilterConfig(t){this.filterManager.getSettings().setFilterConfig(t)}setQuickFiltersConfig(t){this.filterManager.getSettings().setQuickFiltersConfig(t)}toggleFilter(t,e,n){return void 0===this.fieldCollection.getField(t)||this.calculateSource(),[]}addFilter(t,e,n){this.filterManager.add(t,e,n);const o=this.fieldCollection.getFieldsAsMap(),s=this.filterManager.getAllActiveFilters(o);this.addEvent(new Ww(this.getId(),s)),this.calculateSource()}removeAllFilters(){this.filterManager.removeAll(),this.addEvent(new zw(this.getId())),this.calculateSource()}removeFilter(t){this.filterManager.remove(t);const e=this.fieldCollection.getFieldsAsMap(),n=this.filterManager.getAllActiveFilters(e);this.addEvent(new Yw(this.getId(),n)),this.calculateSource()}setSearchingConfig(t){this.filterManager.getSettings().setSearchingConfig(t)}addSearchPhrase(t){const e=this.fieldCollection.getAllFields();return this.searchManager.addSearchPhrase(e,t),this.calculateSource(),[]}removeSearchPhrase(){return this.searchManager.removeSearchFilters(),this.calculateSource(),[]}selectAllUniqueFilter(t){this.uniqueFilterManager.selectAll(t),this.addEvent(new Zw(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()}selectUniqueFilter(t,e){this.uniqueFilterManager.select(t,e),this.addEvent(new qw(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()}unselectAllUniqueFilter(t){this.uniqueFilterManager.unselectAll(t),this.addEvent(new Jw(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()}unselectUniqueFilter(t,e){this.uniqueFilterManager.unselect(t,e),this.addEvent(new Qw(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()}calculateSource(){if(!this.sourceManager.getOrigin()||!this.pagingManager)return;this.sourceManager.setEntities(this.sourceManager.getOrigin()),this.sourceManager.setEntities(this.filterManager.filter(this.sourceManager.getEntities(),this.fieldCollection.getFieldsAsMap()));const t=this.searchManager.search(this.sourceManager.getEntities());this.sourceManager.setEntities(t);const e=this.sorterManager.sort(this.sourceManager.getEntities());this.sourceManager.setEntities(e),this.sourceManager.setPreparedEntities(),this.pagingManager.setSourceSize(this.sourceManager.getPreparedEntities().length),this.addEvent(new $w(this.getId(),e)),this.summariesManager.calculate(this.fieldCollection.getAllFields(),this.sourceManager.getEntities()).forEach(o=>{this.addEvent(o)}),this.sourceManager.setEntities(this.pagingManager.sample(this.sourceManager.getEntities())),this.verticalFormation.setSourceSize(this.sourceManager.getEntities().length),this.calculateSourceBasedOnVirtualScroll()}calculateSourceBasedOnVirtualScroll(){if(this.verticalFormation.isEnabled()){const t=this.verticalFormation.getRange();this.sourceManager.setSlicedEntities(this.sourceManager.getEntities().slice(t.getStart(),t.getEnd()))}else this.sourceManager.setSlicedEntities(this.sourceManager.getEntities())}initTheme(){this.setTheme(Xe.DEFAULT_THEME)}calculateUniqueValues(){const t=this.fieldCollection.getAllFields(),e=this.sourceManager.getOrigin();this.uniqueFilterManager.calculateAll(e,t),this.generateCalculateUniqueValuesAggregateEvent()}generateCalculateUniqueValuesAggregateEvent(){this.addEvent(new Kw(this.getId(),this.uniqueFilterManager.getAll(this.fieldCollection.getAllFields())))}generateSelectedRowChangedEvent(){this.addEvent(new e1(this.getId(),this.sourceManager.getFormation().getSelectedItemIds().map(t=>t.toString()),this.sourceManager.getFormation().isAllSelected(),this.sourceManager.getFormation().isAllUnselected()))}}class r1{constructor(t,e,n=!0){this.rank=1,this.sorterId=t,this.field=e,this.direction=n}getId(){return this.sorterId}getRank(){return this.rank}getField(){return this.field}hasDirection(){return this.direction}changeDirection(){this.direction=!this.direction}setDirection(t){this.direction=t}sort(t){return 0===t.length?t:t.sort((e,n)=>this.field.sort(e,n,this.direction))}}class n1{constructor(t){this.sorterId=t}getId(){return this.sorterId}}class o1{constructor(t=!1,e=!1){this.sorters=new Map,this.enabled=t,this.multi=e}setConfig(t){t&&null!=t.enabled&&(this.enabled=t.enabled),t&&null!=t.multiSorting&&(this.multi=t.multiSorting,this.sorters.clear())}toggle(t){const e=t.getId(),n=this.sorters.get(e.getId());n?n.hasDirection()?n.changeDirection():this.delete(e):this.add(t)}setSortOrder(t,e){const n=t.getId();this.sorters.get(n.getId()),e===W.NONE?this.delete(n):e!==W.ASC&&e!==W.DESC||(this.delete(n),this.add(t,e===W.ASC))}add(t,e=!0){this.addSorter(t.getId(),new r1(new n1(Pt.generate()),t,e))}addSorter(t,e){this.multi||this.sorters.clear(),this.sorters.set(t.getId(),e)}delete(t){this.sorters.delete(t.getId())}update(){}sort(t){const e=this.getAll();let n=Array.from(t);for(const o of e)n=o.sort(n);return n}getAll(){return this.enabled?Array.from(this.sorters).map(t=>t[1]).sort((t,e)=>t.getRank()-e.getRank()).reverse():[]}}class s1{constructor(t,e,n,o){this.id=t,this.value=e,this.displayValue=n,this.enabled=o}getId(){return this.id}getValue(){return this.value}getDisplayValue(){return this.displayValue}isEnabled(){return this.enabled}isDisabled(){return!this.enabled}select(){this.enabled=!0}unselect(){this.enabled=!1}}class a1{constructor(t){this.id=t}toString(){return this.id}equals(t){return t.toString()===this.id}}let c1=(()=>{class i{static generate(){return i.index+=1,new a1(`${i.index}`)}}return i.index=0,i})();class u1{constructor(t,e){this.values=[];for(const n of t)this.values.push(new s1(c1.generate(),n,e.getDisplayValue(n),!0));this.calculateAllSelected(),this.calculateAllDisabled()}getAll(){return this.values}isAllSelected(){return this.allSelected}isAllDisabled(){return this.allDisabled}getNotSelected(){return this.values.filter(t=>t.isDisabled())}selectAll(){this.values.forEach(t=>{t.select()}),this.allSelected=!0,this.allDisabled=!1}select(t){this.values.filter(e=>e.getId().equals(t)).forEach(e=>{e.select()}),this.calculateAllSelected(),this.calculateAllDisabled()}unselectAll(){this.values.forEach(t=>{t.unselect()}),this.allSelected=!1,this.allDisabled=!0}unselect(t){this.values.filter(e=>e.getId().equals(t)).forEach(e=>{e.unselect()}),this.calculateAllSelected(),this.calculateAllDisabled()}calculateAllSelected(){this.allSelected=!this.values.some(t=>t.isDisabled())}calculateAllDisabled(){this.allDisabled=!this.values.some(t=>t.isEnabled())}}class l1{constructor(){this.uniqueValueMap=new ro}calculate(t,e){const n=e.getId();this.uniqueValueMap.find(n).ifEmpty(()=>{const s=new Set;for(const u of t)s.add(e.getValue(u));const a=Array.from(s.values()).sort((u,g)=>e.getField().sort(u,g)),c=new u1(a,e);this.uniqueValueMap.set(e.getId(),c)})}calculateAll(t,e){for(const n of e)this.calculate(t,n)}filterAll(t,e){let n=t;for(const o of e)n=this.filter(n,o);return n}filter(t,e){let n=[];return this.uniqueValueMap.find(e.getId()).ifPresent(o=>{n=o.isAllSelected()?t:o.isAllDisabled()?[]:t.filter(s=>{for(const a of o.getNotSelected())if(e.getField().equals(s,a.getValue()))return!1;return!0})}),n}selectAll(t){this.uniqueValueMap.find(t).ifPresent(e=>{e.selectAll()})}select(t,e){this.uniqueValueMap.find(t).ifPresent(n=>{n.select(e)})}unselectAll(t){this.uniqueValueMap.find(t).ifPresent(e=>{e.unselectAll()})}unselect(t,e){this.uniqueValueMap.find(t).ifPresent(n=>{n.unselect(e)})}getAll(t){const e=new Map;for(const n of t)this.getValues(n).ifPresent(o=>{e.set(n.getId().toString(),o)});return e}getValues(t){return this.uniqueValueMap.find(t.getId()).map(e=>e.getAll())}}let rg=(()=>{class i extends Pr{constructor(e,n,o,s,a,c,u){super(),this.pagingAggregateFactory=e,this.sourceManagerFactory=n,this.verticalFormationFactory=o,this.summariesManagerFactory=s,this.filterManagerFactory=a,this.searchManagerFactory=c,this.fieldCollectionFactory=u}create(e){const n=this.pagingAggregateFactory.createDefault(),o=this.sourceManagerFactory.createDefault(e),s=this.verticalFormationFactory.create(e),a=new o1,c=this.filterManagerFactory.create(!1),u=this.fieldCollectionFactory.create(),g=this.summariesManagerFactory.create(e),p=this.searchManagerFactory.create(),b=new t1(e,n,o,s,g,a,c,new l1,p,u);return this.init(b),b}init(e){e.init()}}return i.services=[xc,Nd,Ql,Ll,dl,wl,Ol],i})();class ng extends Vr{}let og=(()=>{class i extends jr{constructor(e){super(e)}}return i.services=[Us],i})(),sg=(()=>{class i extends ng{constructor(e){super(),this.inMemoryStructureAggregateStore=e}findById(e){return this.inMemoryStructureAggregateStore.findById(e)}save(e){this.inMemoryStructureAggregateStore.save(e)}}return i.services=[og],i})(),d1=(()=>{class i{constructor(e){this.summariesEnabledArchive=e}forEvent(){return $n}handle(e){if(e.ofMessageType("StructureCreatedEvent")){const n=e.getAggregateId();this.summariesEnabledArchive.init(n)}}}return i.services=[Un],i})();class g1{defineAggregate(){return{aggregateKey:Re,createCommandHandler:Uw,factory:rg,repository:sg}}registerKey(){return Re}registerProviders(t){}registerCommandHandlers(){return[]}registerDomainEventHandler(){return[d1]}registerMultiDomainEventHandler(){return[]}}class h1 extends _{constructor(t,e,n,o){super(t,{fieldId:e,filterTypeId:n,value:o},"FilterAddedEvent"),this.fieldId=e,this.filterTypeId=n,this.value=o}}let p1=(()=>{class i extends Zi{constructor(e){super(),this.inMemoryStructureReadStore=e,this.structureIdToStructure=new Map,this.hermesStructure$=new Ge(1)}getStructure(e){return this.structureIdToStructure.get(e.getId())}on(e){return this.hermesStructure$.toObservable().pipe(F(n=>{const o=e.getId();return n.has(o)}),h(n=>n.get(e.getId())))}forEvents(){return[$n,Td,Vo,No,Oo,Sn,Js,Vs,Gs,zo,vs,lr,Yo,dr,Ns,Bs,Os,h1,xi,zs,Ls,js,Xs]}subs(e){const n=e.getAggregateId();this.inMemoryStructureReadStore.getById(n).ifPresent(s=>{const a=s.getId().toString();this.structureIdToStructure.set(a,s),this.hermesStructure$.next(this.structureIdToStructure)})}}return i.services=[$s],i})(),m1=(()=>{class i extends De{constructor(e,n,o,s){super(),this.filterCommandInvoker=e,this.sourcePublisher=n,this.verticalFormationCommandInvoker=o,this.structureCellEditArchive=s,this.commandDispatcher=d.resolve(se)}create(e){this.commandDispatcher.dispatch(new ig(e))}enableVirtualScroll(e){this.verticalFormationCommandInvoker.enableVirtualScroll(e)}disableVirtualScroll(e){this.verticalFormationCommandInvoker.disableVirtualScroll(e)}scrollToTop(e){this.verticalFormationCommandInvoker.scrollToTop(e)}scrollToBottom(e){this.verticalFormationCommandInvoker.scrollToBottom(e)}scrollToIndex(e,n){this.verticalFormationCommandInvoker.scrollToIndex(e,n)}setScrollPosition(e,n){this.verticalFormationCommandInvoker.setScrollPosition(e,n)}setFilterConfig(e,n){this.filterCommandInvoker.setConfig(e,n)}setQuickFiltersConfig(e,n){this.commandDispatcher.dispatch(new ul(n,e))}setRowHeight(e,n){this.commandDispatcher.dispatch(new td(n,+e))}setContainerHeight(e,n){this.commandDispatcher.dispatch(new id(n,+e))}setRowHeightBasedOnTheme(e,n){this.commandDispatcher.dispatch(new ed(n,e))}setCellEdit(e,n){this.structureCellEditArchive.next(n,new pc(e))}}return i.services=[Ke,Fe,yr,ce],i})();class f1{registerProviders(t){t.provide($s),t.provide(Zi,p1),t.provide(rg),t.provide(ad),t.provide(zt),t.provide(De,m1),t.provide(gi),t.provide(og),t.provide(Us),t.provide(ng,sg),t.provide(Ne),t.provide(ce)}}class ag extends Oa{constructor(t){super(t,"CreateListViewCommand")}}class cg extends ki{}class ug extends cg{constructor(t,e){super(t,"SetListViewModeCommand"),this.mode=e}getMode(){return this.mode}}class lg extends cg{constructor(t,e){super(t,"ToggleListViewSelectorCommand"),this.enabled=e}isEnabled(){return this.enabled}}class dg{constructor(){this.commandDispatcher=d.resolve(se)}create(t){this.commandDispatcher.dispatch(new ag(t))}setMode(t,e){this.commandDispatcher.dispatch(new ug(e,t))}toggleSelector(t,e){this.commandDispatcher.dispatch(new lg(e,t))}}class b1 extends Br{constructor(t){super(t)}toReadModelRootId(){return new gg(this.getId())}}class gg extends Hr{constructor(t){super(t)}toAggregateId(){return new b1(this.getId())}}const ia=new gg("-1");let C1=(()=>{class i{constructor(e){this.listViewDispatcher=e}create(e=ia){this.listViewDispatcher.create(e.toAggregateId())}setMode(e,n=ia){this.listViewDispatcher.setMode(e,n.toAggregateId())}toggleSelector(e,n=ia){this.listViewDispatcher.toggleSelector(e,n.toAggregateId())}}return i.services=[dg],i})();class ra extends Zt{}class na extends ra{constructor(t,e){super(t,e,"ListViewModeSetEvent"),this.mode=e}getTheme(){return this.mode}}class y1 extends Vt{constructor(){super()}onModeChange(t){return this.onEvent(t,na)}}var oa=function(i){return i.LIST="List",i.CARD="Card",i}(oa||{});class Ti extends A{constructor(){super(Ti.default)}}Ti.default=oa.LIST;let sa=(()=>{class i extends A{constructor(){super(i.default)}}return i.default=!1,i})(),S1=(()=>{class i{constructor(e,n){this.listViewModeArchive=e,this.listViewSelectorArchive=n}onMode(e){return this.listViewModeArchive.on(e)}onSelector(e){return this.listViewSelectorArchive.on(e)}}return i.services=[Ti,sa],i})();class hg extends Xr{}let pg=(()=>{class i extends jr{constructor(e){super(e)}}return i.services=[hg],i})();class x1{forCommand(){return ug}handle(t,e){const n=e.getMode();t.setMode(n)}}class w1{forCommand(){return lg}handle(t,e){const n=e.isEnabled();t.toggleModeSelector(n)}}let E1=(()=>{class i{constructor(e){this.listViewModeArchive=e}forEvent(){return na}handle(e){e.ofMessageType("ListViewModeSetEvent")&&this.listViewModeArchive.next(e.getAggregateId(),e.getTheme())}}return i.services=[Ti],i})();class mg extends ra{constructor(t,e){super(t,e,"ListViewSelectorToggledEvent"),this.enabled=e}isEnabled(){return this.enabled}}let _1=(()=>{class i{constructor(e){this.listViewSelectorArchive=e}forEvent(){return mg}handle(e){e.ofMessageType("ListViewSelectorToggledEvent")&&this.listViewSelectorArchive.next(e.getAggregateId(),e.isEnabled())}}return i.services=[sa],i})();class I1{forCommand(){return ag}}class T1 extends ra{constructor(t){super(t,null,"ListViewCreatedEvent")}}class aa extends Gr{}class F1 extends aa{constructor(t){super(t,"ListViewCreatedAggregateEvent")}toDomainEvent(){return new T1(this.getAggregateId())}}class M1 extends aa{constructor(t,e){super(t,"ListViewModeSetAggregateEvent"),this.mode=e}toDomainEvent(){return new na(this.getAggregateId(),this.mode)}}class D1{constructor(){this.enabled=null,this.visible=!1}isVisible(){return null!==this.enabled?this.enabled:this.visible}setEnabled(t){this.enabled=t}setVisible(t){this.visible=t}}class k1 extends aa{constructor(t,e){super(t,"ListViewSelectorToggledAggregateEvent"),this.enabled=e}toDomainEvent(){return new mg(this.getAggregateId(),this.enabled)}}class R1 extends Or{constructor(t){super(t,"ListViewAggregate"),this.setMode(oa.LIST),this.initSelectorVisibility()}createEvent(){return F1}setMode(t){this.mode=t,this.addEvent(new M1(this.getId(),this.mode))}toggleModeSelector(t){this.selectorVisibility.setEnabled(t),this.emitEventAfterSelectorVisibilityChange()}initSelectorVisibility(){this.selectorVisibility=new D1,this.emitEventAfterSelectorVisibilityChange()}emitEventAfterSelectorVisibilityChange(){this.addEvent(new k1(this.getId(),this.selectorVisibility.isVisible()))}}class A1 extends Pr{constructor(){super()}create(t){return new R1(t)}}class P1 extends Vr{}let G1=(()=>{class i extends P1{constructor(e){super(),this.inMemorySchemaAggregateStore=e}findById(e){return this.inMemorySchemaAggregateStore.findById(e)}save(e){this.inMemorySchemaAggregateStore.save(e)}}return i.services=[pg],i})();class V1{defineAggregate(){return{aggregateKey:fg,createCommandHandler:I1,factory:A1,repository:G1}}registerKey(){return fg}registerProviders(t){t.provide(dg)}registerCommandHandlers(){return[x1,w1]}registerDomainEventHandler(){return[E1,_1]}registerMultiDomainEventHandler(){return[]}}const fg="ListViewKey";class O1{registerProviders(t){t.provide(C1),t.provide(y1),t.provide(S1),t.provide(Ti),t.provide(sa),t.provide(pg),t.provide(hg)}}const $1=[{provide:De,useFactory:function B1(){return d.resolve(De)}},{provide:zt,useFactory:function H1(){return d.resolve(zt)}},{provide:gi,useFactory:function U1(){return d.resolve(gi)}}];function j1(){return(new $t.DefaultBuilder).build()}const L1=[l.MD,y.X1,dt,Ae,qt,bw,xn,m0,A0,Hw,_l,ws,pw,J0,bx,$x,vw,MS,ZS,r0,fs,rl,o0,Yx,GS,Ed,[Tl,Il]],z1=[Ht,ms,ds,hs,gs,ps,qt,xn,Id];function W1(){return d.resolve(ce)}function Y1(){return d.resolve(Ne)}(function N1(){new me(new O1,new V1).init()})(),function v1(){new me(new f1,new g1).init()}();class Le{constructor(t){this.platformId=t,function Fg(){d.resolve(Fa).run()}(),function Hg(){const i=d.resolve(kr),t=d.resolve(Rr);window[ri]={set loggers(n){},set domain(n){n&&(i.setDomain(n),t.setDomain(n))}},window[ri].loggers=!1}(),(0,l.UE)(this.platformId)&&(window[Le.HERMES_API].loggers=!1)}static withConfig(t={cssClassName:"",hermesModuleConfig:{loggers:!1}}){return{ngModule:Le,providers:[{provide:Uo,useValue:t.cssClassName},{provide:eo,useValue:t.hermesModuleConfig.loggers},{provide:to,useValue:t.hermesModuleConfig.loggers},{provide:Uo,useValue:"structure"},{provide:$t,useFactory:j1},VS,cr,Li,{provide:ce,useFactory:W1},{provide:Ne,useFactory:Y1},$1]}}}Le.HERMES_API="hermesApi",Le.exportDeclarations=Array.from(z1),Le.\u0275fac=function(t){return new(t||Le)(r.KVO(r.Agw))},Le.\u0275mod=r.$C({type:Le}),Le.\u0275inj=r.G2t({imports:[L1,Ht,Wr,Oe,Yr,yt,Bt,qr,Qr,tn,rn,Zr,en,on,sn,ai,Ui,an,St,Jr,Bi,ai,xn]});let K1=(()=>{class i{generateId(){return i.index++,i.PREFIX+i.index}}return i.PREFIX="gui-grid-",i.index=0,i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac}),i})();const q1=[Le.withConfig({cssClassName:"grid",hermesModuleConfig:{loggers:!0}})],Q1=[K1,dc],J1=[Nn,Xi],eE=[Nn,Xi];class pt{}pt.entryComponents=Array.from([]),pt.exportDeclarations=Array.from(J1),pt.elementComponents=Array.from(eE),pt.\u0275fac=function(t){return new(t||pt)},pt.\u0275mod=r.$C({type:pt}),pt.\u0275inj=r.G2t({providers:Q1,imports:[q1]})}}]);